{
"version":3,
"file":"cc_example.js",
"sourceRoot":"file:///",
"sources":["/usr/local/lib/haxe/std/js/_std/EReg.hx","/usr/local/lib/haxe/std/js/_std/HxOverrides.hx","/usr/local/lib/haxe/std/Lambda.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/Main.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/lets/Go.hx","/usr/local/lib/haxe/std/js/_std/Reflect.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/Settings.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/Sketch.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/Sketcher.hx","/usr/local/lib/haxe/std/js/_std/Std.hx","/usr/local/lib/haxe/std/StringBuf.hx","/usr/local/lib/haxe/std/StringTools.hx","/usr/local/lib/haxe/std/js/_std/Type.hx","/usr/local/lib/haxe/std/Xml.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/lets/Easing.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/lets/easing/Quad.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/lets/easing/Sine.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/model/constants/Paper.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/tool/ExportFile.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/util/ColorUtil.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/util/GridUtil.hx","/Users/matthijs/Documents/GIT/cc-sketch/src/cc/util/MathUtil.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Base.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Circle.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Ellipse.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Group.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Line.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Polygon.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Rectangle.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/draw/Text.hx","/usr/local/lib/haxe/std/haxe/Log.hx","/usr/local/lib/haxe/std/haxe/Timer.hx","/usr/local/lib/haxe/std/js/_std/haxe/ds/StringMap.hx","/usr/local/lib/haxe/std/haxe/xml/Parser.hx","/usr/local/lib/haxe/std/haxe/xml/Printer.hx","/usr/local/lib/haxe/std/js/Boot.hx"],
"sourcesContent":["/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class EReg {\n\n\tvar r : HaxeRegExp;\n\n\tpublic inline function new( r : String, opt : String ) : Void {\n\t\tthis.r = new HaxeRegExp(r, opt.split(\"u\").join(\"\")); // 'u' (utf8) depends on page encoding\n\t}\n\n\tpublic function match( s : String ) : Bool {\n\t\tif( r.global ) r.lastIndex = 0;\n\t\tr.m = r.exec(s);\n\t\tr.s = s;\n\t\treturn (r.m != null);\n\t}\n\n\tpublic function matched( n : Int ) : String {\n\t\treturn if( r.m != null && n >= 0 && n < r.m.length ) r.m[n] else throw \"EReg::matched\";\n\t}\n\n\tpublic function matchedLeft() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn r.s.substr(0,r.m.index);\n\t}\n\n\tpublic function matchedRight() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\tvar sz = r.m.index+r.m[0].length;\n\t\treturn r.s.substr(sz,r.s.length-sz);\n\t}\n\n\tpublic function matchedPos() : { pos : Int, len : Int } {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn { pos : r.m.index, len : r.m[0].length };\n\t}\n\n\tpublic function matchSub( s : String, pos : Int, len : Int = -1):Bool {\n\t\treturn if (r.global) {\n\t\t\tr.lastIndex = pos;\n\t\t\tr.m = r.exec(len < 0 ? s : s.substr(0, pos + len));\n\t\t\tvar b = r.m != null;\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t}\n\t\t\tb;\n\t\t} else {\n\t\t\t// TODO: check some ^/$ related corner cases\n\t\t\tvar b = match( len < 0 ? s.substr(pos) : s.substr(pos,len) );\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t\tr.m.index += pos;\n\t\t\t}\n\t\t\tb;\n\t\t}\n\t}\n\n\tpublic function split( s : String ) : Array<String> {\n\t\t// we can't use directly s.split because it's ignoring the 'g' flag\n\t\tvar d = \"#__delim__#\";\n\t\treturn untyped s.replace(r,d).split(d);\n\t}\n\n\tpublic inline function replace( s : String, by : String ) : String {\n\t\treturn untyped s.replace(r,by);\n\t}\n\n\tpublic function map( s : String, f : EReg -> String ) : String {\n\t\tvar offset = 0;\n\t\tvar buf = new StringBuf();\n\t\tdo {\n\t\t\tif (offset >= s.length)\n\t\t\t\tbreak;\n\t\t\telse if (!matchSub(s, offset)) {\n\t\t\t\tbuf.add(s.substr(offset));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar p = matchedPos();\n\t\t\tbuf.add(s.substr(offset, p.pos - offset));\n\t\t\tbuf.add(f(this));\n\t\t\tif (p.len == 0) {\n\t\t\t\tbuf.add(s.substr(p.pos, 1));\n\t\t\t\toffset = p.pos + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t\toffset = p.pos + p.len;\n\t\t} while (r.global);\n\t\tif (!r.global && offset > 0 && offset < s.length)\n\t\t\tbuf.add(s.substr(offset));\n\t\treturn buf.toString();\n\t}\n}\n\n@:native(\"RegExp\")\nprivate extern class HaxeRegExp extends js.RegExp {\n\tvar m:js.RegExp.RegExpMatch;\n\tvar s:String;\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\n\tstatic function dateStr( date :Date ) : String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear()\n\t\t\t+\"-\"+(if( m < 10 ) \"0\"+m else \"\"+m)\n\t\t\t+\"-\"+(if( d < 10 ) \"0\"+d else \"\"+d)\n\t\t\t+\" \"+(if( h < 10 ) \"0\"+h else \"\"+h)\n\t\t\t+\":\"+(if( mi < 10 ) \"0\"+mi else \"\"+mi)\n\t\t\t+\":\"+(if( s < 10 ) \"0\"+s else \"\"+s);\n\t}\n\n\tstatic function strDate( s : String ) : Date {\n\t\tswitch( s.length ) {\n\t\tcase 8: // hh:mm:ss\n\t\t\tvar k = s.split(\":\");\n\t\t\tvar d : Date = untyped __new__(Date);\n\t\t\tuntyped d[\"setTime\"](0);\n\t\t\tuntyped d[\"setUTCHours\"](k[0]);\n\t\t\tuntyped d[\"setUTCMinutes\"](k[1]);\n\t\t\tuntyped d[\"setUTCSeconds\"](k[2]);\n\t\t\treturn d;\n\t\tcase 10: // YYYY-MM-DD\n\t\t\tvar k = s.split(\"-\");\n\t\t\treturn new Date(cast k[0],cast untyped k[1] - 1,cast k[2],0,0,0);\n\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\tvar k = s.split(\" \");\n\t\t\tvar y = k[0].split(\"-\");\n\t\t\tvar t = k[1].split(\":\");\n\t\t\treturn new Date(cast y[0],cast untyped y[1] - 1,cast y[2],cast t[0],cast t[1],cast t[2]);\n\t\tdefault:\n\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\tstatic function cca( s : String, index : Int ) : Null<Int> {\n\t\tvar x = (cast s).charCodeAt(index);\n\t\tif( x != x ) // fast isNaN\n\t\t\treturn js.Lib.undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\tstatic function substr( s : String, pos : Int, ?len : Int ) : String {\n\t\tif (len == null) {\n\t\t\tlen = s.length;\n\t\t} else if (len < 0) {\n\t\t\tif (pos == 0)\n\t\t\t\tlen = s.length + len;\n\t\t\telse\n\t\t\t\treturn \"\";\n\t\t}\n\n\t\t#if (js_es < 5)\n\t\tif (pos < 0) {\n\t\t\tpos = s.length + pos;\n\t\t\tif (pos < 0)\n\t\t\t\tpos = 0;\n\t\t}\n\t\t#end\n\n\t\treturn (untyped s).substr(pos, len);\n\t}\n\n\tstatic function indexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0) i = 0;\n\t\t}\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function lastIndexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>( a : Array<T>, obj : T ) {\n\t\tvar i = a.indexOf(obj);\n\t\tif( i == -1 ) return false;\n\t\ta.splice(i,1);\n\t\treturn true;\n\t}\n\n\tstatic function iter<T>( a : Array<T> ) : Iterator<T> untyped {\n\t\treturn {\n\t\t\tcur : 0,\n\t\t\tarr : a,\n\t\t\thasNext : function() {\n\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic function __init__() untyped {\n#if (js_es < 5)\n\t\t__feature__('HxOverrides.indexOf', if( Array.prototype.indexOf ) __js__(\"HxOverrides\").indexOf = function(a,o,i) return Array.prototype.indexOf.call(a, o, i));\n\t\t__feature__('HxOverrides.lastIndexOf', if( Array.prototype.lastIndexOf ) __js__(\"HxOverrides\").lastIndexOf = function(a,o,i) return Array.prototype.lastIndexOf.call(a, o, i));\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tThe `Lambda` class is a collection of methods to support functional\n\tprogramming. It is ideally used with `using Lambda` and then acts as an\n\textension to Iterable types.\n\n\tOn static platforms, working with the Iterable structure might be slower\n\tthan performing the operations directly on known types, such as Array and\n\tList.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n\n\t@see https://haxe.org/manual/std-Lambda.html\n**/\nclass Lambda {\n\n\t/**\n\t\tCreates an Array from Iterable `it`.\n\n\t\tIf `it` is an Array, this function returns a copy of it.\n\t**/\n\tpublic static function array<A>( it : Iterable<A> ) : Array<A> {\n\t\tvar a = new Array<A>();\n\t\tfor(i in it)\n\t\t\ta.push(i);\n\t\treturn a;\n\t}\n\n\t/**\n\t\tCreates a List form Iterable `it`.\n\n\t\tIf `it` is a List, this function returns a copy of it.\n\t**/\n\tpublic static function list<A>( it : Iterable<A> ) : List<A> {\n\t\tvar l = new List<A>();\n\t\tfor(i in it)\n\t\t\tl.add(i);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tCreates a new List by applying function `f` to all elements of `it`.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function map<A,B>( it : Iterable<A>, f : A -> B ) : List<B> {\n\t\tvar l = new List<B>();\n\t\tfor( x in it )\n\t\t\tl.add(f(x));\n\t\treturn l;\n\t}\n\n\t/**\n\t\tSimilar to map, but also passes the index of each element to `f`.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function mapi<A,B>( it : Iterable<A>, f : Int -> A -> B ) : List<B> {\n\t\tvar l = new List<B>();\n\t\tvar i = 0;\n\t\tfor( x in it )\n\t\t\tl.add(f(i++,x));\n\t\treturn l;\n\t}\n\n\t/**\n\t\tConcatenate a list of lists.\n\n\t\tThe order of elements is preserved.\n\t**/\n\tpublic static function flatten<A>( it : Iterable<Iterable<A>> ) : List<A> {\n\t\tvar l = new List<A>();\n\t\tfor (e in it)\n\t\t\tfor (x in e)\n\t\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tA composition of map and flatten.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function flatMap<A,B>( it : Iterable<A>, f: A -> Iterable<B> ) : List<B> {\n\t\treturn Lambda.flatten(Lambda.map(it, f));\n\t}\n\n\t/**\n\t\tTells if `it` contains `elt`.\n\n\t\tThis function returns true as soon as an element is found which is equal\n\t\tto `elt` according to the `==` operator.\n\n\t\tIf no such element is found, the result is false.\n\t**/\n\tpublic static function has<A>( it : Iterable<A>, elt : A ) : Bool {\n\t\tfor( x in it )\n\t\t\tif( x == elt )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\t/**\n\t\tTells if `it` contains an element for which `f` is true.\n\n\t\tThis function returns true as soon as an element is found for which a\n\t\tcall to `f` returns true.\n\n\t\tIf no such element is found, the result is false.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function exists<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\t/**\n\t\tTells if `f` is true for all elements of `it`.\n\n\t\tThis function returns false as soon as an element is found for which a\n\t\tcall to `f` returns false.\n\n\t\tIf no such element is found, the result is true.\n\n\t\tIn particular, this function always returns true if `it` is empty.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function foreach<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( !f(x) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\t/**\n\t\tCalls `f` on all elements of `it`, in order.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function iter<A>( it : Iterable<A>, f : A -> Void ) {\n\t\tfor( x in it )\n\t\t\tf(x);\n\t}\n\n\t/**\n\t\tReturns a List containing those elements of `it` for which `f` returned\n\t\ttrue.\n\n\t\tIf `it` is empty, the result is the empty List even if `f` is null.\n\n\t\tOtherwise if `f` is null, the result is unspecified.\n\t**/\n\tpublic static function filter<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tvar l = new List<A>();\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tFunctional fold on Iterable `it`, using function `f` with start argument\n\t\t`first`.\n\n\t\tIf `it` has no elements, the result is `first`.\n\n\t\tOtherwise the first element of `it` is passed to `f` alongside `first`.\n\t\tThe result of that call is then passed to `f` with the next element of\n\t\t`it`, and so on until `it` has no more elements.\n\n\t\tIf `it` or `f` are null, the result is unspecified.\n\t**/\n\tpublic static function fold<A,B>( it : Iterable<A>, f : A -> B -> B, first : B ) : B {\n\t\tfor( x in it )\n\t\t\tfirst = f(x,first);\n\t\treturn first;\n\t}\n\n\t/**\n\t\tReturns the number of elements in `it` for which `pred` is true, or the\n\t\ttotal number of elements in `it` if `pred` is null.\n\n\t\tThis function traverses all elements.\n\t**/\n\tpublic static function count<A>( it : Iterable<A>, ?pred : A -> Bool ) {\n\t\tvar n = 0;\n\t\tif( pred == null )\n\t\t\tfor( _ in it )\n\t\t\t\tn++;\n\t\telse\n\t\t\tfor( x in it )\n\t\t\t\tif( pred(x) )\n\t\t\t\t\tn++;\n\t\treturn n;\n\t}\n\n\t/**\n\t\tTells if Iterable `it` does not contain any element.\n\t**/\n\tpublic static function empty<T>( it : Iterable<T> ) : Bool {\n\t\treturn !it.iterator().hasNext();\n\t}\n\n\t/**\n\t\tReturns the index of the first element `v` within Iterable `it`.\n\n\t\tThis function uses operator `==` to check for equality.\n\n\t\tIf `v` does not exist in `it`, the result is -1.\n\t**/\n\tpublic static function indexOf<T>( it : Iterable<T>, v : T ) : Int {\n\t\tvar i = 0;\n\t\tfor( v2 in it ) {\n\t\t\tif( v == v2 )\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\t/**\n\t\tReturns the first element of `it` for which `f` is true.\n\n\t\tThis function returns as soon as an element is found for which a call to\n\t\t`f` returns true.\n\n\t\tIf no such element is found, the result is null.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function find<T>( it : Iterable<T>, f : T -> Bool ) : Null<T> {\n\t\tfor( v in it ) {\n\t\t\tif(f(v)) return v;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t\tReturns a new List containing all elements of Iterable `a` followed by\n\t\tall elements of Iterable `b`.\n\n\t\tIf `a` or `b` are null, the result is unspecified.\n\t**/\n\tpublic static function concat<T>( a : Iterable<T>, b : Iterable<T> ) : List<T> {\n\t\tvar l = new List();\n\t\tfor( x in a )\n\t\t\tl.add(x);\n\t\tfor( x in b )\n\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n}\n","package;\r\n\r\nimport js.Browser.*;\r\n// cc\r\nimport Sketch;\r\nimport cc.lets.Go;\r\nimport cc.util.GridUtil;\r\nimport cc.util.MathUtil.*;\r\nimport cc.AST;\r\nimport cc.util.ColorUtil.*;\r\nimport Sketch;\r\n\r\nclass Main {\r\n\tpublic function new() {\r\n\t\tdocument.addEventListener(\"DOMContentLoaded\", function(event) {\r\n\t\t\ttrace(\"Start Sketcher\");\r\n\t\t\tinit();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction init() {\r\n\t\t// initDocument(); // if document doesn't have elements with correct id\r\n\t\t// sketchSVG();\r\n\t\t// sketchCanvas();\r\n\t\t// //\r\n\t\t// sketchRoundedRectSVG();\r\n\t\t// sketchRoundedRectCanvas();\r\n\t\t// //\r\n\t\t// sketchShapes();\r\n\t\t// // shape research\r\n\t\t// sketchDefaultShapes();\r\n\t\t// sketchDefaultShapesC(); // (canvas) wip\r\n\t\t// // animation\r\n\t\t// sketchAnimation();\r\n\t\t// sketchAnimationC();\r\n\t\t// // drips and spatter\r\n\t\t// sketchDrips();\r\n\t\t// sketchDripsC();\r\n\t\t// papertoys\r\n\t\tsketchPapertoys();\r\n\t\tsketchPapertoysC();\r\n\t}\r\n\r\n\tfunction initDocument() {\r\n\t\tvar div0 = document.createDivElement();\r\n\t\tdiv0.id = 'sketcher-svg';\r\n\t\tvar div1 = document.createDivElement();\r\n\t\tdiv1.id = 'sketcher-canvas';\r\n\t\tdocument.body.appendChild(div0);\r\n\t\tdocument.body.appendChild(div1);\r\n\t}\r\n\r\n\tfunction sketchPapertoys() {\r\n\t\tvar size = 600; // instagram 1080\r\n\t\tvar elem = document.getElementById('sketcher-svg-papertoys');\r\n\t\tvar params:Settings = new Settings(size, size, 'svg');\r\n\t\t// params.autostart = true;\r\n\t\tparams.padding = 0;\r\n\t\tparams.scale = true;\r\n\t\tvar sketch = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tvar cellWidth = 100;\r\n\t\tvar cellHeight = 100;\r\n\r\n\t\tvar dashArray = [5];\r\n\r\n\t\tvar cp:cc.Point = {x: Sketch.Global.w / 2, y: cellHeight * 1};\r\n\t\tvar sq0 = sketch.makeRectangle(Math.round(cp.x), Math.round(cp.y), Math.round(cellWidth), Math.round(cellHeight));\r\n\t\tsq0.dash = dashArray;\r\n\t\t//\r\n\t\tvar cp:cc.Point = {x: Sketch.Global.w / 2, y: cellHeight * 2};\r\n\t\tvar sq1 = sketch.makeRectangle(Math.round(cp.x), Math.round(cp.y), Math.round(cellWidth), Math.round(cellHeight));\r\n\t\tsq1.dash = dashArray;\r\n\r\n\t\tvar cp:cc.Point = {x: Sketch.Global.w / 2, y: cellHeight * 3};\r\n\t\tvar sq2 = sketch.makeRectangle(Math.round(cp.x), Math.round(cp.y), Math.round(cellWidth), Math.round(cellHeight));\r\n\t\tsq2.dash = dashArray;\r\n\r\n\t\tvar cp:cc.Point = {x: Sketch.Global.w / 2, y: cellHeight * 4};\r\n\t\tvar sq3 = sketch.makeRectangle(Math.round(cp.x), Math.round(cp.y), Math.round(cellWidth), Math.round(cellHeight));\r\n\t\tsq3.dash = dashArray;\r\n\r\n\t\t// Cube left side\r\n\t\tvar cp:cc.Point = {x: Sketch.Global.w / 2 - cellWidth, y: cellHeight * 3};\r\n\t\tvar sq4 = sketch.makeRectangle(Math.round(cp.x), Math.round(cp.y), Math.round(cellWidth), Math.round(cellHeight));\r\n\t\tsq4.dash = dashArray;\r\n\t\t// sq4.id = 'cube left side';\r\n\r\n\t\t// cube right side, tab bottom\r\n\t\tvar p1:cc.Point = {x: cp.x - (cellWidth / 2), y: cp.y + (cellHeight / 2)};\r\n\t\tvar p2:cc.Point = {x: cp.x + (cellWidth / 2), y: cp.y + (cellHeight / 2)};\r\n\t\tvar polyl0 = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tvar polyl1 = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tpolyl1.setRotate(90, cp.x, cp.y);\r\n\t\tvar polyl2 = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tpolyl2.setPosition(0, -cellWidth);\r\n\t\t//\r\n\t\t// Cube right side\r\n\t\tvar cp:cc.Point = {x: Sketch.Global.w / 2 + cellWidth, y: cellHeight * 3};\r\n\t\tvar sq5 = sketch.makeRectangle(Math.round(cp.x), Math.round(cp.y), Math.round(cellWidth), Math.round(cellHeight));\r\n\t\tsq5.dash = dashArray;\r\n\t\t// cube right side, tab bottom\r\n\t\tvar p1:cc.Point = {x: cp.x - (cellWidth / 2), y: cp.y + (cellHeight / 2)};\r\n\t\tvar p2:cc.Point = {x: cp.x + (cellWidth / 2), y: cp.y + (cellHeight / 2)};\r\n\t\tvar poly0 = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tvar poly1 = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tpoly1.setRotate(90, cp.x, cp.y);\r\n\t\tpoly1.setPosition(0, -cellHeight);\r\n\t\tvar poly2 = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tpoly2.setPosition(0, -cellHeight);\r\n\t\t// bottom tab\r\n\t\tvar polybottom = sketch.makePolygon(paperTab(p1, p2));\r\n\t\tpolybottom.id = 'bottom';\r\n\t\tpolybottom.setPosition(-cellWidth, cellHeight);\r\n\t\t// var polyClone = poly.clone();\r\n\t\t// polyClone.setRotate(-90);\r\n\r\n\t\tvar groupGlue = sketch.makeGroup([polyl0, polyl1, polyl2, poly0, poly1, poly2, polybottom]);\r\n\t\tgroupGlue.id = 'cube glue';\r\n\t\tgroupGlue.fill = getColourObj(GRAY);\r\n\t\tgroupGlue.stroke = getColourObj(BLACK);\r\n\t\t// groupGlue.fill = getColourObj(PINK);\r\n\t\t// groupGlue.stroke = getColourObj(BLACK);\r\n\t\t// groupGlue.opacity = 0.1;\r\n\r\n\t\t//\r\n\t\tvar group = sketch.makeGroup([sq0, sq1, sq2, sq3, sq4, sq5]);\r\n\t\tgroup.id = 'cube shape';\r\n\t\tgroup.fill = getColourObj(WHITE);\r\n\t\tgroup.stroke = getColourObj(BLACK);\r\n\t\t// group.opacity = 0.1;\r\n\r\n\t\t// draw\r\n\t\tsketch.update();\r\n\r\n\t\tsetElementClickDownload(elem);\r\n\t}\r\n\r\n\tfunction paperTab(p1:cc.Point, p2:cc.Point):Array<Int> {\r\n\t\tvar offset = Math.round(cc.model.constants.Paper.mm2pixel(7));\r\n\t\tvar sideArr:Array<Int> = [\r\n\t\t\tMath.round(p1.x), Math.round(p1.y), Math.round(p1.x) + offset, Math.round(p1.y) + offset, Math.round(p2.x) - offset, Math.round(p2.y) + offset,\r\n\t\t\tMath.round(p2.x), Math.round(p2.y), Math.round(p2.x) - offset, Math.round(p2.y) - offset, Math.round(p1.x) + offset, Math.round(p1.y) - offset,\r\n\t\t\tMath.round(p1.x), Math.round(p1.y),\r\n\t\t];\r\n\t\treturn sideArr;\r\n\t}\r\n\r\n\tfunction sketchPapertoysC() {\r\n\t\tvar elem = document.getElementById('sketcher-canvas-papertoys');\r\n\t}\r\n\r\n\tfunction sketchDrips() {\r\n\t\tvar size = 500; // instagram 1080\r\n\t\tvar elem = document.getElementById('sketcher-svg-drips');\r\n\t\tvar params:Settings = new Settings(size, size, 'svg');\r\n\t\t// params.autostart = true;\r\n\t\tparams.padding = 10;\r\n\t\tparams.scale = true;\r\n\t\tvar sketch = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tvar grid:GridUtil = new GridUtil();\r\n\t\tgrid.setIsCenterPoint(true);\r\n\t\tgrid.setNumbered(3, 3);\r\n\r\n\t\tvar circleRadius = 50;\r\n\r\n\t\tfor (k in 0...grid.array.length) {\r\n\t\t\t// center point\r\n\t\t\tvar cp:cc.Point = grid.array[k];\r\n\t\t\tsketch.makeX(Math.round(cp.x), Math.round(cp.y));\r\n\r\n\t\t\t// random biggest spatter\r\n\t\t\tvar randomCircleRadius = random(circleRadius / 2, circleRadius);\r\n\t\t\t// for-ground\r\n\t\t\tvar circle = sketch.makeCircle(Math.round(cp.x), Math.round(cp.y), Math.round(randomCircleRadius));\r\n\t\t\tcircle.fill = 'black';\r\n\t\t\tcircle.noStroke();\r\n\t\t\t// border spatter\r\n\t\t\tfor (i in 0...10) {\r\n\t\t\t\tvar rp:cc.Point = {\r\n\t\t\t\t\tx: cp.x + random(-randomCircleRadius, randomCircleRadius),\r\n\t\t\t\t\ty: cp.y + random(-randomCircleRadius, randomCircleRadius)\r\n\t\t\t\t};\r\n\t\t\t\tvar spatter = sketch.makeCircle(Math.round(rp.x), Math.round(rp.y), Math.round(random(randomCircleRadius / 2)));\r\n\t\t\t\tspatter.fill = rgb(0); // 'black';\r\n\t\t\t\tspatter.noStroke();\r\n\t\t\t}\r\n\t\t\t// drip\r\n\t\t\tfor (j in 0...3) {\r\n\t\t\t\tvar dripWeight = randomInt(10, Math.round(randomCircleRadius / 2));\r\n\t\t\t\tvar rp:cc.Point = {\r\n\t\t\t\t\tx: cp.x + random(-randomCircleRadius + dripWeight, randomCircleRadius - dripWeight),\r\n\t\t\t\t\ty: cp.y + random(-randomCircleRadius + dripWeight, randomCircleRadius - dripWeight)\r\n\t\t\t\t};\r\n\t\t\t\t// drip line, straight down\r\n\t\t\t\tvar line = sketch.makeLine(Math.round(rp.x), Math.round(rp.y), Math.round(rp.x),\r\n\t\t\t\t\tMath.round(rp.y + random(randomCircleRadius, randomCircleRadius + 100)));\r\n\t\t\t\tline.lineCap = 'round'; // \"butt|round|square\";\r\n\t\t\t\tline.stroke = rgb(0);\r\n\t\t\t\tline.lineWeight = dripWeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// draw\r\n\t\tsketch.update();\r\n\t}\r\n\r\n\tfunction sketchDripsC() {\r\n\t\tvar elem = document.getElementById('sketcher-canvas-drips');\r\n\t}\r\n\r\n\tfunction sketchAnimation() {\r\n\t\tvar elem = document.getElementById('sketcher-svg-animation');\r\n\t\tvar params:Settings = new Settings(680, 200, 'svg');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tvar rect = two.makeRectangle(50, 50, 50, 50);\r\n\t\trect.id = 'animationObject';\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\r\n\t\tvar temp = (document.getElementById('animationObject'));\r\n\r\n\t\t// trace(rect.toString());\r\n\t\t// trace(rect.toObject());\r\n\r\n\t\t// Go.to(rect, 1.5).x(600).prop('opacity', 0).onUpdate(onUpdateHandler, [1, 2, 3]).onComplete(onAnimateHandler, ['one', 'two', 'three']);\r\n\t\t// Go.to(rect,\r\n\t\t// \t1.5).x(600).prop('opacity',\r\n\t\t// \t0).onAnimationStart(onStartHandler, ['a', 'b', 'c']).onUpdate(onUpdateHandler, ['ones', 'two', 'three']).onComplete(onAnimateHandler, ['1', '2', '3']);\r\n\r\n\t\tvar temp = rect.toObject();\r\n\r\n\t\t// Go.to(temp, 1.5).x(600).prop('opacity', 0).onUpdate(onUpdateHandler, [temp]).onComplete(onAnimateHandler, ['one', 'two', 'three']);\r\n\t\tGo.to(rect, 1.5).x(600).prop('opacity', 0).onComplete(onAnimateHandler, ['one', 'two', 'three']);\r\n\r\n\t\tvar svgElement:js.html.svg.RectElement = cast(document.getElementById('animationObject'));\r\n\t\t// svgElement.\r\n\t};\r\n\r\n\tfunction onStartHandler(arr:Dynamic) {\r\n\t\t// console.log(arr);\r\n\t\ttrace('onStartHandler: ' + arr.length, arr);\r\n\t\tvar arrr:Array<Dynamic> = cast arr;\r\n\t\ttrace('onStartHandler: ' + arrr.length, arrr);\r\n\t\t// trace('onStartHandler');\r\n\t}\r\n\r\n\tfunction onUpdateHandler(arr:Array<Dynamic>) {\r\n\t\ttrace('onUpdateHandler: ' + arr.length, arr);\r\n\t\t// var svgElement:js.html.svg.RectElement = cast(document.getElementById('animationObject'));\r\n\t\t// var rect:draw.Rectangle = untyped arr;\r\n\t\t// svgElement.setAttribute('x', Std.string(rect.x));\r\n\t\t// svgElement.setAttribute('opacity', Std.string(rect.opacity));\r\n\t}\r\n\r\n\tfunction onAnimateHandler(arr:Array<Dynamic>) {\r\n\t\ttrace('onAnimateHandler: ' + arr.length, arr);\r\n\t\t// trace('xxxxx');\r\n\t}\r\n\r\n\tfunction sketchAnimationC() {};\r\n\r\n\tfunction sketchDefaultShapes() {\r\n\t\t// Make an instance of two and place it on the page.\r\n\t\tvar elem = document.getElementById('sketcher-svg-defaultshapes');\r\n\t\tvar params:Settings = new Settings(680, 200, 'svg');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tvar arr = ['square', 'circle', 'line', 'rectangle', 'ellipse', 'polygon', 'group', 'text'];\r\n\t\tvar xoffset = 80;\r\n\t\tfor (i in 0...arr.length) {\r\n\t\t\tvar xpos = 50 + (i * xoffset);\r\n\t\t\tvar ypos = 180;\r\n\t\t\tvar txt = two.makeText(arr[i], xpos, ypos);\r\n\t\t\t// txt.style = '';\r\n\t\t\t// see alignment\r\n\t\t\tvar x = two.makeX(xpos, ypos);\r\n\t\t}\r\n\t\t// square\r\n\r\n\t\tvar _x = 50 + (0 * xoffset);\r\n\t\tvar _y = 100;\r\n\t\tvar rect = two.makeRectangle(_x, _y, 50, 50);\r\n\t\t// rect.fill = '#fab1a0';\r\n\t\t// rect.stroke = '#ff7675'; // Accepts all valid css color\r\n\t\tvar x = two.makeX(_x, _y);\r\n\r\n\t\t// circle\r\n\t\tvar _x = 50 + (1 * xoffset);\r\n\t\tvar circle = two.makeCircle(_x, _y, 25);\r\n\t\t// circle.fill = '#fab1a0';\r\n\t\t// circle.stroke = '#ff7675'; // Accepts all valid css color\r\n\r\n\t\t// line\r\n\t\tvar _x1 = 50 + (2 * xoffset);\r\n\t\tvar _x2 = 50 + (3 * xoffset);\r\n\t\tvar _y1 = 100;\r\n\t\tvar _y2 = 50;\r\n\t\tvar line = two.makeLine(_x1, _y1, _x2, _y2);\r\n\t\tvar x = two.makeX(_x1, _y1);\r\n\t\tvar x = two.makeX(_x2, _y2);\r\n\r\n\t\t// rectangle\r\n\t\tvar _x = 50 + (3 * xoffset);\r\n\t\tvar rect = two.makeRectangle(_x, _y, 50, 100);\r\n\t\trect.opacity = 0.5;\r\n\t\trect.fill = '#fab1a0';\r\n\t\trect.stroke = '#ff7675'; // Accepts all valid css color\r\n\r\n\t\t// ellipse\r\n\t\tvar _x = 50 + (4 * xoffset);\r\n\t\tvar ellipse = two.makeEllipse(_x, _y, 50, 20);\r\n\r\n\t\t// polygon\r\n\t\tvar _x = 50 + (5 * xoffset);\r\n\t\tvar poly = two.makePolygon([0, 100, 50, 25, 50, 75, 100, 0]);\r\n\t\tpoly.id = 'bliksum';\r\n\t\t// poly.position(_x - 50, _y - 50);\r\n\t\t// poly.fill = '#fab1a0';\r\n\t\t// poly.stroke = '#ff7675'; // Accepts all valid css color\r\n\r\n\t\t// group\r\n\t\tvar _x = 50 + (6 * xoffset);\r\n\t\tvar circle1 = two.makeCircle(_x, _y + 10, 25);\r\n\t\tcircle1.opacity = 0.5;\r\n\t\tvar circle2 = two.makeCircle(_x, _y - 10, 25);\r\n\t\tcircle2.opacity = 0.5;\r\n\r\n\t\t// Groups can take an array of shapes and/or groups.\r\n\t\tvar group = two.makeGroup([circle1, circle2]);\r\n\t\tgroup.rotation = Math.PI;\r\n\t\tgroup.scale = 0.75;\r\n\t\t// text example\r\n\r\n\t\tvar txt = two.makeText(\"Saira\\nStencil\\nOne\", 50 + ((arr.length - 1) * xoffset), 100);\r\n\t\ttxt.style = 'font-family: \\'Saira Stencil One\\', Arial, cursive; font-size: 50px; fill:red;';\r\n\r\n\t\t// set all x\r\n\t\tfor (i in 0...arr.length) {\r\n\t\t\tvar _x = 50 + (i * xoffset);\r\n\t\t\t// see registeration point (center point for shape)\r\n\t\t\tvar x = two.makeX(_x, _y, 'green');\r\n\t\t}\r\n\r\n\t\t// var line = two.makeLine(0, 0, 100, 100);\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\r\n\t\tif (elem != null) {\r\n\t\t\t// [mck] create an automate function for this, is element is null don't\r\n\t\t\telem.onclick = function(e) {\r\n\t\t\t\t// trace(elem.innerHTML);\r\n\t\t\t\tdownloadTextFile(elem.innerHTML, '${elem.id}_${Date.now().getTime()}.svg');\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setElementClickDownload(elem:js.html.Element) {\r\n\t\tif (elem != null) {\r\n\t\t\t// [mck] create an automate function for this, is element is null don't\r\n\t\t\telem.onclick = function(e) {\r\n\t\t\t\t// trace(elem.innerHTML);\r\n\t\t\t\tdownloadTextFile(elem.innerHTML, '${elem.id}_${Date.now().getTime()}.svg');\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tfunction sketchDefaultShapesC() {}\r\n\r\n\tfunction sketchShapes() {\r\n\t\t// Make an instance of two and place it on the page.\r\n\t\tvar elem = document.getElementById('sketcher-svg-shapes');\r\n\t\tvar params:Settings = new Settings(680, 200, 'svg');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tvar rect = two.makeRoundedRectangle(60, 100, 100, 100, 20);\r\n\t\trect.fill = '#fab1a0';\r\n\t\trect.stroke = '#ff7675'; // Accepts all valid css color\r\n\t\trect.linewidth = 3;\r\n\r\n\t\t// var line = two.makeLine(0, 0, 100, 100);\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\t}\r\n\r\n\tfunction sketchRoundedRectSVG() {\r\n\t\t// Make an instance of two and place it on the page.\r\n\t\tvar elem = document.getElementById('sketcher-svg-roundedrect');\r\n\t\tvar params:Settings = new Settings(680, 200, 'svg');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tfor (i in 0...6) {\r\n\t\t\tvar offset = 110;\r\n\t\t\tvar rect = two.makeRoundedRectangle(60 + (offset * i), 100, 100, 100, i * 10);\r\n\t\t\trect.fill = '#74b9ff';\r\n\t\t\trect.stroke = '#6c5ce7'; // Accepts all valid css color\r\n\t\t\trect.linewidth = i;\r\n\t\t}\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\t}\r\n\r\n\tfunction sketchRoundedRectCanvas() {\r\n\t\t// Make an instance of two and place it on the page.\r\n\t\tvar elem = document.getElementById('sketcher-canvas-roundedrect');\r\n\t\tvar params:Settings = new Settings(680, 200, 'canvas');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\tfor (i in 0...6) {\r\n\t\t\tvar offset = 110;\r\n\t\t\tvar rect = two.makeRoundedRectangle(60 + (offset * i), 100, 100, 100, i * 10);\r\n\t\t\trect.fill = '#74b9ff';\r\n\t\t\trect.stroke = '#6c5ce7'; // Accepts all valid css color\r\n\t\t\trect.linewidth = i;\r\n\t\t}\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\t}\r\n\r\n\tfunction sketchSVG() {\r\n\t\t// Make an instance of two and place it on the page.\r\n\t\tvar elem = document.getElementById('sketcher-svg');\r\n\t\tvar params:Settings = new Settings(285, 200, 'svg');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\t// two has convenience methods to create shapes.\r\n\t\tvar circle = two.makeCircle(72, 100, 50);\r\n\t\tvar rect = two.makeRectangle(213, 100, 100, 100);\r\n\r\n\t\t// The object returned has many stylable properties:\r\n\t\tcircle.fill = '#FF8000';\r\n\t\tcircle.stroke = 'orangered'; // Accepts all valid css color\r\n\t\tcircle.linewidth = 5;\r\n\r\n\t\trect.fill = 'rgb(0, 200, 255)';\r\n\t\trect.opacity = 0.75;\r\n\t\trect.noStroke();\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\t}\r\n\r\n\tfunction sketchCanvas() {\r\n\t\t// Make an instance of two and place it on the page.\r\n\t\tvar elem = document.getElementById('sketcher-canvas');\r\n\t\tvar params:Settings = new Settings(285, 200, 'canvas');\r\n\t\tvar two = Sketcher.create(params).appendTo(elem);\r\n\r\n\t\t// two has convenience methods to create shapes.\r\n\t\tvar circle = two.makeCircle(72, 100, 50);\r\n\t\tvar rect = two.makeRectangle(213, 100, 100, 100);\r\n\r\n\t\t// The object returned has many stylable properties:\r\n\t\tcircle.fill = '#FF8000';\r\n\t\tcircle.stroke = 'orangered'; // Accepts all valid css color\r\n\t\tcircle.linewidth = 5;\r\n\r\n\t\trect.fill = 'rgb(0, 200, 255)';\r\n\t\trect.opacity = 0.75;\r\n\t\trect.noStroke();\r\n\r\n\t\t// Don't forget to tell two to render everything to the screen\r\n\t\ttwo.update();\r\n\t}\r\n\r\n\t// ____________________________________ misc ____________________________________\r\n\r\n\tpublic static function downloadTextFile(text:String, ?fileName:String) {\r\n\t\tif (fileName == null)\r\n\t\t\tfileName = 'CC-txt-${Date.now().getTime()}.txt';\r\n\r\n\t\tvar element = document.createElement('a');\r\n\t\telement.setAttribute('href', 'data:text/plain;charset=utf-8,' + untyped encodeURIComponent(text));\r\n\t\telement.setAttribute('download', fileName);\r\n\r\n\t\telement.style.display = 'none';\r\n\t\tdocument.body.appendChild(element);\r\n\r\n\t\telement.click();\r\n\r\n\t\tdocument.body.removeChild(element);\r\n\t}\r\n\r\n\tstatic function main() {\r\n\t\tvar app = new Main();\r\n\t}\r\n}\r\n","package cc.lets;\n\nimport cc.lets.Easing;\nimport haxe.Timer;\nimport cc.lets.easing.Quad;\nimport cc.lets.easing.IEasing;\nimport js.Browser.*;\n\n/**\n * version\n * \t\t1.0.8 - arc\n * \t\t1.0.7 - wiggle\n * \t\t1.0.6 - convert to js only\n */\nclass Go {\n\t// private static var _trigger:Timer;\n\t// private static var _trigger:Int; // requestAnimationFrame\n\tprivate static var _requestId:Int; // requestAnimationFrame\n\tprivate static var _tweens:Array<Go> = new Array<Go>();\n\n\tprivate var _id:String;\n\tprivate var _target:Dynamic;\n\tprivate var _duration:Int; // is set in seconds, but is eventually converted to miliseconds\n\t// private var _easing:Float->Float = Easing.linear;\n\tprivate var _easing:IEasing = Quad.easeOut;\n\tprivate var _options:Dynamic = cast {};\n\tprivate var _props = new Map<String, Range>();\n\tprivate var _isFrom:Bool = false;\n\tprivate var _isYoyo:Bool = false;\n\tprivate var _isWiggle:Bool = false;\n\tprivate var _isOrbit:Bool = false;\n\tprivate var _isTimeBased:Bool = false; // default is frameBased\n\tprivate var _isDelayDone:Bool = false; // default is frameBased\n\tprivate var _initTime:Int = 0; // should work with time (miliseconds) and frames (FPS)\n\tprivate var _delay:Int = 0;\n\tprivate var _seconds:Float = 0;\n\tprivate var _arc:Float = 0;\n\tprivate var FRAME_RATE:Int = 60; // 60 frames per second (FPS)\n\tprivate var DEBUG:Bool = false;\n\tprivate var VERSION:String = '1.0.8';\n\n\t/**\n\t * Animate an object to another state (like position, scale, rotation, alpha)\n\t *\n\t * @example\t\tcc.lets.Go.to(foobarMc, 1.5);\n\t *\n\t * @param  target   \tobject to animate\n\t * @param  duration \tin seconds\n\t */\n\tpublic function new(target:Dynamic, duration:Float) {\n\t\tthis._id = '[lets.Go]$VERSION.' + Date.now().getTime();\n\t\tthis._seconds = duration;\n\t\tthis._target = target;\n\t\tthis._duration = getDuration(duration);\n\t\t// this._options = cast{};\n\t\tif (_isTimeBased) {\n\t\t\tthis._initTime = getTimer();\n\t\t} else {\n\t\t\tthis._initTime = this._duration;\n\t\t}\n\t\t_tweens.push(this);\n\t\tif (DEBUG)\n\t\t\tconsole.log('New Go - _id: \"$_id\" / _duration: ' + _duration + ' / _initTime: ' + _initTime + ' / _tweens.length: ' + _tweens.length);\n\t\t// [mck] extreme little delay to make sure all the values are set\n\t\t// init();\n\t\thaxe.Timer.delay(init, 1); // 1 milisecond delay\n\n\t\t// [mck] TODO check if there is a tween attached to the same animation?\n\t}\n\n\t/**\n\t * Animate an object TO another state (like position, scale, rotation, alpha)\n\t *\n\t * @example\t\tlets.Go.to(foobarMc, 1.5);\n\t *\n\t * @param  target   \tobject to animate\n\t * @param  duration \tin seconds\n\t * @return          Go\n\t */\n\tstatic inline public function to(target:Dynamic, duration:Float):Go {\n\t\tvar Go = new Go(target, duration);\n\t\tGo._isFrom = false;\n\t\treturn Go;\n\t}\n\n\t/**\n\t * Animate an object FROM another state (like position, scale, rotation, alpha)\n\t *\n\t * @example\t\tlets.Go.from(foobarMc, 1.5);\n\t *\n\t * @param  target   \tobject to animate\n\t * @param  duration \tin seconds\n\t * @return          Go\n\t */\n\tstatic inline public function from(target:Dynamic, duration:Float):Go {\n\t\tvar Go = new Go(target, duration);\n\t\tGo._isFrom = true;\n\t\tGo.updateProperties(0); // this can't be done faster\n\t\treturn Go;\n\t}\n\n\t/**\n\t * Use Go to do a delayed call to a function\n\t *\n\t * @example\t\tlets.Go.timer(1.5).onComplete(onCompleteHandler);\n\t *\n\t * @param  duration \tin seconds\n\t * @return          Go\n\t */\n\tstatic inline public function timer(duration:Float):Go {\n\t\tvar Go = new Go({}, duration);\n\t\treturn Go;\n\t}\n\n\t/**\n\t * Use Go.frames to create a time/delay to a functoin\n\t *\n\t * @example\t\tGo.frames(1).onComplete(onCompleteHandler);\n\t *\n\t * @param frames \tframes to wait\n\t * @return Go\n\t */\n\tstatic inline public function frames(frames:Int):Go {\n\t\tvar Go = new Go({}, (frames * 60));\n\t\treturn Go;\n\t}\n\n\t/**\n\t * continues wiggling of an object in random x and y dir\n\t *\n\t * @example\t\tGo.wiggle(foobarMc, 10, 10, 10);\n\t *\n\t * @param x\t\t\t\tcenterpoint x\n\t * @param y\t\t\t\tcenterpoint y\n\t * @param wiggleRoom\toffset from x and y\n\t * @return Go\n\t */\n\tstatic inline public function wiggle(target:Dynamic, x:Float, y:Float, ?wiggleRoom:Float = 10):Go {\n\t\tvar _go = new Go(target, 1 + (Math.random()));\n\t\t_go._isWiggle = true;\n\t\tvar max = wiggleRoom;\n\t\tvar min = -wiggleRoom;\n\t\t_go.prop('x', x + (Math.random() * (max - min)) + min);\n\t\t_go.prop('y', y + (Math.random() * (max - min)) + min);\n\t\t_go.ease(cc.lets.easing.Sine.easeInOut);\n\t\t_go.onComplete(function() {\n\t\t\tGo.wiggle(target, x, y, wiggleRoom);\n\t\t});\n\t\treturn _go;\n\t}\n\n\tstatic inline public function orbit(target:Dynamic, x:Float, y:Float, radius:Int, speed:Float):Go {\n\t\tvar _go = new Go(target, 1 + (Math.random()));\n\t\t_go._isOrbit = true;\n\n\t\t_go.prop('x', x);\n\t\t_go.prop('y', y);\n\t\t_go.prop('cx', x);\n\t\t_go.prop('cy', y);\n\t\t_go.prop('radius', radius);\n\t\t_go.prop('speed', speed);\n\t\t_go.prop('angle', speed);\n\n\t\tReflect.setField(target, 'cx', x);\n\t\tReflect.setField(target, 'cy', y);\n\t\tReflect.setField(target, 'angle', 0);\n\t\tReflect.setField(target, 'speed', speed);\n\t\tReflect.setField(target, 'radius', radius);\n\n\t\t// _go.prop('x', x + (Math.random() * (max - min)) + min);\n\t\t// _go.prop('y', y + (Math.random() * (max - min)) + min);\n\t\t// _go.ease(cc.lets.easing.Sine.easeInOut);\n\t\t// _go.onComplete(function() {\n\t\t// \tGo.wiggle(target, x, y, wiggleRoom);\n\t\t// });\n\t\treturn _go;\n\t}\n\n\t/**\n\t * default the animation is framebased (`requestAnimationFrame`) and will stop animating when focus is gone\n\t * but perhaps time is important\n\t *\n\t * @example\t\tGo.from(foobarMc, 1.5).isTimeBased();\n\t *\n\t * @param  isTimeBased  (optional)\n\t * @return Go\n\t */\n\tinline public function isTimeBased(?isTimeBased:Bool = true):Go {\n\t\ttrace('Fixme: this doesn\\t work right now');\n\t\t_isTimeBased = isTimeBased;\n\t\t_duration = Std.int(_duration / FRAME_RATE);\n\t\treturn this;\n\t}\n\n\t// ____________________________________ properties ____________________________________\n\n\t/**\n\t * [Description]\n\t * @param value\n\t * @return Go\n\t */\n\tinline public function width(value:Float):Go {\n\t\tprop('width', value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * [Description]\n\t * @param value\n\t * @return Go\n\t */\n\tinline public function height(value:Float):Go {\n\t\tprop('height', value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the x value of an object\n\t *\n\t  \t * @example\t\tGo.to(foobarMc, 1.5).x(10);\n\t *\n\t * @param  value \tx-position\n\t * @return       Go\n\t */\n\tinline public function x(value:Float):Go {\n\t\tprop('x', value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the y value of an object\n\t *\n\t  \t * @example\t\tGo.to(foobarMc, 1.5).y(10);\n\t *\n\t * @param  value \ty-position\n\t * @return       Go\n\t */\n\tinline public function y(value:Float):Go {\n\t\tprop('y', value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the y value of an object\n\t *\n\t * @example\t\tGo.to(foobarMc, 1.5).pos(10,20);\n\t *\n\t * @param  x \tx-position\n\t * @param  y \ty-position\n\t * @return       Go\n\t */\n\tinline public function pos(x:Float, y:Float):Go {\n\t\tprop('x', x);\n\t\tprop('y', y);\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the rotation value of an object\n\t *\n\t  \t * @example\t\tGo.to(foobarMc, 1.5).rotation(10);\n\t *\n\t * @param  degree \trotation in degrees (360)\n\t * @return       Go\n\t */\n\tinline public function rotation(degree:Float):Go {\n\t\tprop('rotation', degree);\n\t\treturn this;\n\t}\n\n\tinline public function degree(degree:Float):Go {\n\t\tprop('rotation', degree);\n\t\treturn this;\n\t}\n\n\tinline public function radians(degree:Float):Go {\n\t\tprop('rotation', degree * Math.PI / 180);\n\t\treturn this;\n\t}\n\n\t// [mck] do I need a conversion between degree and radians?\n\n\t/**\n\t * change the alpha value of an object\n\t *\n\t  \t * @example\t\tGo.to(foobarMc, 1.5).alpha(.1);\n\t *\n\t * @param  value \ttransparanty value (maximum value 1)\n\t * @return       Go\n\t */\n\tinline public function alpha(value:Float):Go {\n\t\tprop('alpha', value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the scale of an object\n\t *\n\t  \t * @example\t\tGo.to(foobarMc, 1.5).scale(2);\n\t *\n\t * @param  value \tscale (1 is 100% (original scale), 0.5 is 50%, 2 is 200%)\n\t * @return       Go\n\t */\n\tinline public function scale(value:Float):Go {\n\t\tprop('scaleX', value); // might be values needed from previous Go version\n\t\tprop('scaleY', value); // might be values needed from previous Go version\n\t\tprop('scale', value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * yoyo to the original values of an object\n\t * its back and forth, only once.. use oncomplete to continuesly to do this\n\t *\n\t * @example\t\tGo.to(foobarMc, 1.5).yoyo();\n\t *\n\t * @return       Go\n\t */\n\tinline public function yoyo():Go {\n\t\t_isYoyo = true;\n\t\treturn this;\n\t}\n\n\tinline public function arc(?dir:Int):Go {\n\t\tthis._arc = 0;\n\t\treturn this;\n\t}\n\n\t/**\n\t * delay the animation in seconds\n\t *\n\t * @example\t\tGo.to(foobarMc, 1.5).delay(1.5);\n\t *\n\t * @param duration \tdelay in seconds\n\t * @return       Go\n\t */\n\tinline public function delay(duration:Float):Go {\n\t\t_delay = getDuration(duration);\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the property of an object\n\t *\n\t * @example\t\tGo.to(foobarMc, 1.5).prop('counter',10);\n\t *\n\t * @param  key   \tdescription of the property as string\n\t * @param  value \tchange to this value\n\t * @return       Go\n\t */\n\tinline public function prop(key:String, value:Float):Go {\n\t\t// [mck] TODO set zero value if it doesn't exist\n\t\tvar objValue = 0;\n\t\tif (Reflect.hasField(_target, key)) {\n\t\t\tobjValue = Reflect.getProperty(_target, key);\n\t\t}\n\n\t\t// trace()\n\n\t\tvar _range = {key: key, from: (_isFrom) ? value : objValue, to: (!_isFrom) ? value : objValue};\n\t\t_props.set(key, _range);\n\n\t\t// [mck] make sure the `_isFrom` is set asap\n\t\tif (_isFrom)\n\t\t\tupdateProperties(0);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * on completion of the animation call a function with param(s)\n\t *\n\t * @param  func         \tfunction to call when animition is complete\n\t * @param  arr<Dynamic> \tparams send to function\n\t * @return              Go\n\t */\n\tinline public function onComplete(func:Dynamic, ?arr:Array<Dynamic>):Go {\n\t\t_options.onComplete = func;\n\t\t_options.onCompleteParams = arr;\n\t\treturn this;\n\t}\n\n\t/**\n\t * on update of the animation call a function with param(s)\n\t *\n\t * @param  func         \tfunction to call when animition is updated\n\t * @param  arr<Dynamic> \tparams send to function\n\t * @return              Go\n\t */\n\tinline public function onAnimationStart(func:haxe.Constraints.Function, ?arr:Array<Dynamic>):Go {\n\t\t_options.onAnimationStart = func;\n\t\t_options.onAnimationStartParams = arr;\n\t\treturn this;\n\t}\n\n\t/**\n\t * on update of the animation call a function with param(s)\n\t *\n\t * ```\n\t * Go.to(rect, 1.5).x(600).onUpdate(onUpdateHandler, [rect]).onComplete(onAnimateHandler, []);\n\t * ```\n\t *\n\t * @param  func         \tfunction to call when animation is updated\n\t * @param  arr<Dynamic> \tparams send to function\n\t * @return              Go\n\t */\n\tinline public function onUpdate(func:Dynamic, ?arr:Array<Dynamic>):Go {\n\t\t_options.onUpdate = func;\n\t\t_options.onUpdateParams = arr;\n\t\treturn this;\n\t}\n\n\t/**\n\t * change the default (Easing.linear) easing\n\t *\n\t * @example\t\tGo.from(foobarMc, 1.5).x(500).easing(Easing.quad);\n\t *\n\t * @param  easing->Float \t\tcheck Easing class\n\t * @return\t\tGo\n\t */\n\t// inline public function ease(easing:Float->Float):Go {\n\tinline public function ease(easing:IEasing):Go {\n\t\tthis._easing = easing;\n\t\treturn this;\n\t}\n\n\t// ____________________________________ public ____________________________________\n\n\t/**\n\t * stop a Go tween while its animating\n\t *\n\t * @example \tvar tween : Go = lets.Go.to(foobarMc, 20).x(100);\n\t *           \t// oh dumb dumb, I want to stop that long animation because x-reason\n\t *           \ttween.stop();\n\t */\n\tpublic function stop():Void {\n\t\tdestroy();\n\t}\n\n\t// ____________________________________ private ____________________________________\n\tprivate function init():Void {\n\t\tif (_isTimeBased) {\n\t\t\t// [mck] TODO clean this up!!!!\n\t\t\ttrace('TODO: build timebased animation');\n\t\t\t// var framerate:Int = Math.round(FRAME_RATE / 2); //30;\n\t\t\t// _trigger = (_trigger == null) ? new Timer(Std.int(1000 / framerate)) : _trigger;\n\t\t\t// _trigger.run = onEnterFrameHandler;\n\t\t} else {\n\t\t\tif (_requestId == null) {\n\t\t\t\t// console.info('start frame animation');\n\t\t\t\t_requestId = window.requestAnimationFrame(onEnterFrameHandler);\n\t\t\t\t// trace(_requestId);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate function onEnterFrameHandler(?time:Float):Void {\n\t\t// if (_initTime == 0) return;\n\t\tif (_tweens.length <= 0) {\n\t\t\t// [mck] stop timer, we are done!\n\t\t\tif (_isTimeBased) {\n\t\t\t\t// _trigger.stop();\n\t\t\t\t// _trigger.run = null;\n\t\t\t} else {\n\t\t\t\t// trace('kill $_requestId');\n\t\t\t\twindow.cancelAnimationFrame(_requestId);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else\n\t\t\tfor (i in 0..._tweens.length) {\n\t\t\t\t// [mck] FIXME :: don't know exactly why I need to check if _tweens[i] != null, but I do.\n\t\t\t\tif (_tweens[i] != null)\n\t\t\t\t\t_tweens[i].update();\n\t\t\t}\n\n\t\t_requestId = window.requestAnimationFrame(onEnterFrameHandler);\n\t}\n\n\tprivate function update():Void {\n\t\t// [mck] check for delay, simply count down the delay before we animate\n\t\t// [mck] TODO doesn't work with time\n\t\tif (_delay > 0 && _isTimeBased)\n\t\t\ttrace('FIXME this doesn\\'t work yet');\n\t\tif (_delay > 0) {\n\t\t\t_delay--;\n\t\t\treturn null;\n\t\t}\n\t\tif (!_isDelayDone) {\n\t\t\tif (DEBUG)\n\t\t\t\ttrace('should trigger only once: ${_id}');\n\t\t\tif (Reflect.isFunction(_options.onAnimationStart)) {\n\t\t\t\tvar func = _options.onAnimationStart;\n\t\t\t\tvar arr:Array<Dynamic> = (_options.onAnimationStartParams != null) ? _options.onAnimationStartParams : [];\n\t\t\t\tReflect.callMethod(func, func, [arr]);\n\t\t\t}\n\t\t}\n\t\t_isDelayDone = true;\n\n\t\t// if (_delay > 0) {\n\t\t// \t_delay--;\n\t\t// \t// var waitTime = (getTimer() - _initTime);\n\t\t// \t// if (waitTime >= _delay) {\n\t\t// \t// \t_delay = 0;\n\t\t// \t// \tif(_isTimeBased){\n\t\t// \t// \t\t_initTime = getTimer();\n\t\t// \t// \t} else {\n\t\t// \t// \t\t_initTime--;\n\t\t// \t// \t}\n\t\t// \treturn null;\n\t\t// // } else {\n\t\t// // \treturn null;\n\t\t// }\n\n\t\tthis._initTime--;\n\t\tvar progressed = (this._duration - this._initTime);\n\t\tif (_isTimeBased) {\n\t\t\tprogressed = getTimer() - _initTime;\n\t\t}\n\t\t// trace ('$progressed >= $_duration');\n\t\tif (progressed >= this._duration) {\n\t\t\t// [mck] setProperties in the final state\n\t\t\tupdateProperties(this._duration);\n\t\t\tcomplete();\n\t\t} else {\n\t\t\tupdateProperties(progressed);\n\t\t}\n\t}\n\n\tprivate function updateProperties(time:Float):Void {\n\t\tif (Reflect.isFunction(_options.onUpdate)) {\n\t\t\tvar func = _options.onUpdate;\n\t\t\tvar arr = (_options.onUpdateParams != null) ? _options.onUpdateParams : [];\n\t\t\tReflect.callMethod(func, func, [arr]);\n\t\t}\n\t\t// [mck] for some reason this can be null\n\t\tif (_props == null)\n\t\t\treturn;\n\t\tfor (n in _props.keys()) {\n\t\t\tvar range = _props.get(n);\n\t\t\tif (_isOrbit) {\n\t\t\t\t// trace('clever stuff $n ($_props) , $range');\n\t\t\t\tvar __cx:Range = _props.get('cx');\n\t\t\t\tvar __cy:Range = _props.get('cy');\n\t\t\t\tvar __angle:Range = _props.get('angle');\n\t\t\t\tvar __speed:Range = _props.get('speed');\n\t\t\t\tvar __rad:Range = _props.get('radius');\n\n\t\t\t\ttrace('cx: ${__cx.to},  cy: ${__cy.to} , ${__angle.to}, ${__speed.to}, ${__rad.to}');\n\n\t\t\t\t// if (n == 'x') {\n\t\t\t\t// \tvar xx = __cx.to + Math.cos(radians(__angle.to)) * __rad.to;\n\t\t\t\t// \tReflect.setProperty(_target, n, xx);\n\t\t\t\t// }\n\t\t\t\t// if (n == 'y') {\n\t\t\t\t// \tvar yy = __cy.to + Math.sin(radians(__angle.to)) * __rad.to;\n\t\t\t\t// \tReflect.setProperty(_target, n, yy);\n\t\t\t\t// }\n\n\t\t\t\ttrace('$n == \"angle\" : ' + (n == 'angle'));\n\n\t\t\t\ttrace(_target);\n\n\t\t\t\tif (n == 'angle') {\n\t\t\t\t\tvar aa = __angle.to + __speed.to;\n\t\t\t\t\tReflect.setProperty(_target, n, aa);\n\t\t\t\t}\n\n\t\t\t\t// var radius = 50;\n\t\t\t\t// var speed = 2;\n\t\t\t\t// untyped sh.angle += speed;\n\t\t\t\t// // plot the balls x to cos and y to sin\n\t\t\t\t// sh.x = w / 2 + Math.cos(radians(untyped sh.angle)) * radius;\n\t\t\t\t// sh.y = h / 2 + Math.sin(radians(untyped sh.angle)) * radius;\n\t\t\t} else {\n\t\t\t\t// Reflect.setProperty(_target, n, _easing(time / _duration) * (range.to - range.from) + range.from);\n\t\t\t\tReflect.setProperty(_target, n, _easing.ease(time, range.from, (range.to - range.from), _duration));\n\t\t\t}\n\t\t}\n\t\t// else throw( \"Property \"+propertyName+\" not found in target!\" );\n\t}\n\n\tprivate function complete():Void {\n\t\tif (DEBUG)\n\t\t\ttrace('complete :: \"$_id\", _duration: $_duration, _seconds: $_seconds, _initTime: '\n\t\t\t\t+ _initTime\n\t\t\t\t+ ' / _tweens.length: '\n\t\t\t\t+ _tweens.length);\n\n\t\tif (_isYoyo) {\n\t\t\t// [mck] reverse the props back to the original state\n\t\t\tfor (n in _props.keys()) {\n\t\t\t\tvar range = _props.get(n);\n\t\t\t\tvar _rangeReverse = {key: n, from: range.to, to: range.from};\n\t\t\t\t_props.set(n, _rangeReverse);\n\t\t\t}\n\t\t\t// [mck] reset the time and ignore this function for now... :)\n\t\t\tif (_isTimeBased) {\n\t\t\t\tthis._initTime = getTimer();\n\t\t\t} else {\n\t\t\t\tthis._initTime = _duration;\n\t\t\t}\n\t\t\t_isYoyo = false;\n\t\t\treturn null;\n\t\t}\n\n\t\tvar func = _options.onComplete;\n\t\tvar arr = (_options.onCompleteParams != null) ? _options.onCompleteParams : [];\n\n\t\tdestroy();\n\n\t\tif (Reflect.isFunction(func))\n\t\t\tReflect.callMethod(func, func, [arr]);\n\t}\n\n\t/**\n\t * function to calculate the duration (frames or miliseconds)\n\t * @param duration \tgiven in seconds, recalculated to miliseconds OR frame\n\t */\n\tfunction getDuration(duration:Float):Int {\n\t\tvar d = 0;\n\t\tif (_isTimeBased) {\n\t\t\td = Std.int(duration * 1000); // convert seconds to miliseconds\n\t\t} else {\n\t\t\tif (duration <= 0)\n\t\t\t\tduration = 0.1;\n\t\t\td = Std.int(duration * FRAME_RATE); // seconds * FPS = frames\n\t\t}\n\t\treturn d;\n\t}\n\n\t/**\n\t * get time values\n\t * TODO: I am forcing timer into Int... this works for JS, not sure for others\n\t */\n\tfunction getTimer():Int {\n\t\treturn Std.int(Date.now().getTime());\n\t}\n\n\tprivate function destroy():Void {\n\t\tif (Lambda.has(_tweens, this))\n\t\t\t_tweens.remove(this);\n\t\t// [mck] cleaning up\n\t\tif (_options) {\n\t\t\t_easing = Quad.easeOut;\n\t\t\t_options = cast {};\n\t\t\t_target = null;\n\t\t\t_props = null;\n\t\t\t_duration = 0;\n\t\t\t_initTime = 0;\n\t\t\t_delay = 0;\n\t\t}\n\t}\n}\n\ntypedef Range = {key:String, from:Null<Float>, to:Null<Float>}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\n\t@:pure\n\tpublic inline static function hasField( o : Dynamic, field : String ) : Bool {\n\t\treturn untyped __js__('Object').prototype.hasOwnProperty.call(o, field);\n\t}\n\n\tpublic static function field( o : Dynamic, field : String ) : Dynamic {\n\t\ttry return untyped o[field] catch( e : Dynamic ) return null;\n\t}\n\n\tpublic inline static function setField( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\to[field] = value;\n\t}\n\n\tpublic static function getProperty( o : Dynamic, field : String ) : Dynamic untyped {\n\t\tvar tmp;\n\t\treturn if( o == null ) __define_feature__(\"Reflect.getProperty\",null) else if( o.__properties__ && (tmp=o.__properties__[\"get_\"+field]) ) o[tmp]() else o[field];\n\t}\n\n\tpublic static function setProperty( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\tvar tmp;\n\t\tif( o.__properties__ && (tmp=o.__properties__[\"set_\"+field]) ) o[tmp](value) else o[field] = __define_feature__(\"Reflect.setProperty\",value);\n\t}\n\n\tpublic inline static function callMethod( o : Dynamic, func : haxe.Constraints.Function, args : Array<Dynamic> ) : Dynamic untyped {\n\t\treturn func.apply(o,args);\n\t}\n\n\tpublic static function fields( o : Dynamic ) : Array<String> {\n\t\tvar a = [];\n\t\tif (o != null) untyped {\n\t\t\tvar hasOwnProperty = __js__('Object').prototype.hasOwnProperty;\n\t\t\t__js__(\"for( var f in o ) {\");\n\t\t\tif( f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f) ) a.push(f);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic static function isFunction( f : Dynamic ) : Bool untyped {\n\t\treturn __js__(\"typeof(f)\") == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>( a : T, b : T ) : Int {\n\t\treturn ( a == b ) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods( f1 : Dynamic, f2 : Dynamic ) : Bool {\n\t\tif( f1 == f2 )\n\t\t\treturn true;\n\t\tif( !isFunction(f1) || !isFunction(f2) )\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\tpublic static function isObject( v : Dynamic ) : Bool untyped {\n\t\tif( v == null )\n\t\t\treturn false;\n\t\tvar t = __js__(\"typeof(v)\");\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null)) || (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue( v : Dynamic ) : Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField( o : Dynamic, field : String ) : Bool untyped {\n\t\tif( !hasField(o,field) ) return false;\n\t\t__js__(\"delete\")(o[field]);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>( o : T ) : T {\n\t\tvar o2 : Dynamic = {};\n\t\tfor( f in Reflect.fields(o) )\n\t\t\tReflect.setField(o2,f,Reflect.field(o,f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function( f : Array<Dynamic> -> Void ) : Dynamic {})\n\tpublic static function makeVarArgs( f : Array<Dynamic> -> Dynamic ) : Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(__js__(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n\n}\n","/**\n * https://two.js.org/#documentation\n */\nclass Settings {\n\t@:isVar public var width(get, set):Int;\n\t@:isVar public var type(get, set):String = 'svg';\n\t@:isVar public var height(get, set):Int;\n\n\t@:isVar public var padding(get, set):Int;\n\t@:isVar public var scale(get, set):Bool;\n\n\tpublic function new(width:Int, height:Int, ?type:String = 'svg') {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.type = type;\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\tfunction get_width():Int {\n\t\treturn width;\n\t}\n\n\tfunction set_width(value:Int):Int {\n\t\treturn width = value;\n\t}\n\n\tfunction get_height():Int {\n\t\treturn height;\n\t}\n\n\tfunction set_height(value:Int):Int {\n\t\treturn height = value;\n\t}\n\n\tfunction get_type():String {\n\t\treturn type;\n\t}\n\n\tfunction set_type(value:String):String {\n\t\treturn type = value;\n\t}\n\n\tfunction get_padding():Int {\n\t\treturn padding;\n\t}\n\n\tfunction set_padding(value:Int):Int {\n\t\treturn padding = value;\n\t}\n\n\tfunction get_scale():Bool {\n\t\treturn scale;\n\t}\n\n\tfunction set_scale(value:Bool):Bool {\n\t\treturn scale = value;\n\t}\n}\n","package;\n\nimport Sketch.Global.*;\nimport js.Browser.*;\nimport js.html.*;\nimport js.html.MouseEvent;\nimport js.html.CanvasElement;\nimport cc.tool.ExportFile;\n\n/**\n * inspired by George Gally, which was inpired by Seb Lee\n * https://github.com/GeorgeGally/creative_coding/blob/master/js/canvas.js\n *\n * The name is again inspired by ...\n */\nclass Sketch {\n\tpublic var window = js.Browser.window;\n\tpublic var document = js.Browser.document;\n\tpublic var canvas:js.html.CanvasElement;\n\tpublic var ctx:CanvasRenderingContext2D;\n\n\tstatic public var option:SketchOption = new SketchOption();\n\n\tpublic function new() {}\n\n\t// https://github.com/soulwire/sketch.js/wiki/API#class-methods\n\t// ____________________________________ class-methods ____________________________________\n\tpublic static function create(name:String, ?opt:SketchOption):CanvasRenderingContext2D {\n\t\t// console.log(Sketch.option);\n\t\t// console.log(opt);\n\n\t\tif (opt != null) {\n\t\t\tSketch.option = opt;\n\t\t}\n\t\tif (Sketch.option.type == SketchType.CANVAS) {\n\t\t\treturn new Sketch().createCanvas(name);\n\t\t} else {\n\t\t\treturn new Sketch().createGLCanvas(name);\n\t\t}\n\t}\n\n\t// this enables me to have many canvases all positioned on top of eachother at 100% width and height of page\n\tpublic function createCanvas(name:String):CanvasRenderingContext2D {\n\t\tvar body = document.querySelector('body');\n\n\t\t// [mck] check if `name` already exists\n\t\tif (document.getElementById('canvas-wrapper') != null) {\n\t\t\t// [mck] remove the previous one\n\t\t\tvar element = document.getElementById('canvas-wrapper');\n\t\t\telement.parentNode.removeChild(element);\n\t\t\t// reset?\n\t\t\twindow.addEventListener(RESIZE, null, false);\n\t\t\twindow.addEventListener(MOUSE_MOVE, null, false);\n\t\t\twindow.addEventListener(MOUSE_DOWN, null, false);\n\t\t\twindow.addEventListener(MOUSE_UP, null, false);\n\t\t\twindow.addEventListener(KEY_DOWN, null, false);\n\t\t}\n\t\t// if(document.getElementById(name) != null){\n\t\t// \t// [mck] remove the previous one\n\t\t// \tvar element = document.getElementById(name);\n\t\t// \telement.parentNode.removeChild(element);\n\t\t// }\n\n\t\tvar container = document.createDivElement();\n\t\tcontainer.setAttribute(\"id\", 'canvas-wrapper'); // might be a bit agressive\n\t\tcontainer.className = 'canvas-wrapper-container'; // this is a more friendly solution\n\n\t\tcanvas = document.createCanvasElement();\n\t\tcanvas.setAttribute(\"id\", name);\n\t\t// canvas.style.position = \"absolute\";\n\t\t// canvas.style.left = \"0px\";\n\t\t// canvas.style.top = \"0px\";\n\n\t\tbody.appendChild(container);\n\t\tcontainer.appendChild(canvas);\n\n\t\tctx = canvas.getContext('2d');\n\t\tnew Sketch().init(ctx);\n\t\tonResizeHandler();\n\t\twindow.addEventListener(RESIZE, onResizeHandler, false);\n\t\treturn ctx;\n\t}\n\n\tpublic function createGLCanvas(name:String):CanvasRenderingContext2D {\n\t\t// canvas = document.createCanvasElement();\n\t\t// var body = document.querySelector('body');\n\t\t// canvas.setAttribute(\"id\", name);\n\t\t// canvas.style.position = \"absolute\";\n\t\t// canvas.style.left = \"0px\";\n\t\t// canvas.style.top = \"0px\";\n\t\t// body.appendChild(canvas);\n\t\t// var gl:CanvasRenderingContext2D = canvas.getContext('webgl');\n\t\t// new Sketch().init();\n\t\t// if (gl == null)\n\t\t// \tvar gl = canvas.getContext('experimental-webgl');\n\t\t// onResizeHandler();\n\t\t// window.addEventListener(RESIZE, resize, false);\n\t\t// return gl;\n\t\treturn null;\n\t}\n\n\tfunction checkForId(id:String):Bool {\n\t\treturn true;\n\t}\n\n\tfunction onResizeHandler() {\n\t\tvar c:Array<CanvasElement> = cast document.getElementsByTagName('canvas');\n\n\t\tif (Sketch.option == null)\n\t\t\treturn; // very weird that this happens, need to investigate\n\n\t\tif (Sketch.option.fullscreen) {\n\t\t\tw = window.innerWidth;\n\t\t\th = window.innerHeight;\n\t\t\tSketch.option.width = w;\n\t\t\tSketch.option.height = h;\n\t\t} else {\n\t\t\tw = Sketch.option.width;\n\t\t\th = Sketch.option.height;\n\t\t}\n\n\t\tfor (i in 0...c.length) {\n\t\t\tvar _c = c[i];\n\t\t\tif (Sketch.option.scale) {\n\t\t\t\tvar padding = Sketch.option.padding;\n\t\t\t\tvar scaleX = (window.innerWidth - (2 * padding)) / w;\n\t\t\t\tvar scaleY = (window.innerHeight - (2 * padding)) / h;\n\t\t\t\tvar scale = Math.min(scaleX, scaleY);\n\t\t\t\t_c.style.width = '${Sketch.option.width * scale}px';\n\t\t\t\t_c.style.height = '${Sketch.option.height * scale}px';\n\t\t\t}\n\t\t\tif (_c.id.indexOf('hiddencanvas-') != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t_c.width = w;\n\t\t\t_c.height = h;\n\t\t}\n\t\tconsole.log('RESIZE :: w=$w , h=$h');\n\t}\n\n\t/**\n\t * so we need a canvas to sample from\n\t * @param name\n\t * @param option\n\t */\n\tpublic static function createHiddenCanvas(name, ?option:SketchOption, ?isDebug:Bool = false):CanvasRenderingContext2D {\n\t\tif (option == null) {\n\t\t\toption = new SketchOption();\n\t\t}\n\n\t\tvar body = document.querySelector('body');\n\t\tvar canvas = document.createCanvasElement();\n\t\tbody.appendChild(canvas);\n\n\t\tvar __w = Math.min(w * 0.50, option.width);\n\n\t\tcanvas.setAttribute(\"id\", 'hiddencanvas-${name}');\n\t\tcanvas.style.position = \"absolute\";\n\t\tcanvas.style.left = \"0px\";\n\t\tcanvas.style.top = \"0px\";\n\t\tcanvas.style.border = \"1px solid pink\";\n\t\tcanvas.style.width = '${__w}px';\n\t\tcanvas.width = option.width;\n\t\tcanvas.height = option.height;\n\t\tif (!isDebug)\n\t\t\tcanvas.style.left = -(option.width * 1.5) + \"px\";\n\n\t\tvar ctx = canvas.getContext('2d');\n\t\treturn ctx;\n\t}\n\n\tprivate function init(?ctx:CanvasRenderingContext2D) {\n\t\t// trace('init');\n\n\t\twindow.addEventListener(MOUSE_MOVE, function(e:MouseEvent) {\n\t\t\tmouseX = e.clientX;\n\t\t\tmouseY = e.clientY;\n\t\t\tmouseMoved = true;\n\t\t\t// trace(mouseX, mouseY);\n\t\t});\n\n\t\twindow.addEventListener(MOUSE_DOWN, function(e) {\n\t\t\tmouseDown = true;\n\t\t\t// trace('${mouseDown}');\n\t\t\t// if(typeof onMouseDown == 'function') onMouseDown();\n\t\t});\n\n\t\twindow.addEventListener(MOUSE_UP, function(e) {\n\t\t\tmouseDown = false;\n\t\t\t// trace('${mouseDown}');\n\t\t\t// if(typeof onMouseUp == 'function') onMouseUp();\n\t\t});\n\n\t\twindow.addEventListener(KEY_DOWN, function(e:js.html.KeyboardEvent) {\n\t\t\t// trace(e);\n\t\t\tif (e.metaKey == true && e.key == 'r') {\n\t\t\t\ttrace('cmd + r');\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t\tif (e.metaKey == true && e.key == 's' && e.shiftKey == false) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\ttrace('cmd + s');\n\t\t\t\tExportFile.downloadImageBg(ctx, true); // jpg\n\t\t\t}\n\t\t\tif (e.metaKey == true && e.key == 's' && e.shiftKey == true) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\ttrace('cmd + shift + s');\n\t\t\t\tExportFile.downloadImage(ctx, false);\n\t\t\t}\n\t\t\tif (e.metaKey == true && untyped e.code == 'KeyS' && e.altKey == true) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\ttrace('cmd + alt + s');\n\t\t\t\tExportFile.onBase64Handler(ctx, true);\n\t\t\t}\n\n\t\t\tif (e.metaKey == true && e.key == 'f') {\n\t\t\t\tif (!isFullscreen) {\n\t\t\t\t\topenFullscreen();\n\t\t\t\t\tisFullscreen = true;\n\t\t\t\t} else {\n\t\t\t\t\tcloseFullscreen();\n\t\t\t\t\tisFullscreen = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\n\t\t// window.addEventListener(KEY_UP, function(e){\n\t\t// \t// if(typeof onKeyUp == 'function') onKeyUp(e);\n\t\t// });\n\t}\n\n\t/* View in fullscreen */\n\tfunction openFullscreen() {\n\t\tvar elem = document.documentElement;\n\t\tif (elem.requestFullscreen != null) {\n\t\t\telem.requestFullscreen();\n\t\t} else if (untyped elem.mozRequestFullScreen) { /* Firefox */\n\t\t\tuntyped elem.mozRequestFullScreen();\n\t\t} else if (untyped elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */\n\t\t\tuntyped elem.webkitRequestFullscreen();\n\t\t} else if (untyped elem.msRequestFullscreen) { /* IE/Edge */\n\t\t\tuntyped elem.msRequestFullscreen();\n\t\t}\n\t}\n\n\t/* Close fullscreen */\n\tfunction closeFullscreen() {\n\t\tif (document.exitFullscreen != null) {\n\t\t\tdocument.exitFullscreen();\n\t\t} else if (untyped document.mozCancelFullScreen) { /* Firefox */\n\t\t\tuntyped document.mozCancelFullScreen();\n\t\t} else if (untyped document.webkitExitFullscreen) { /* Chrome, Safari and Opera */\n\t\t\tuntyped document.webkitExitFullscreen();\n\t\t} else if (untyped document.msExitFullscreen) { /* IE/Edge */\n\t\t\tuntyped document.msExitFullscreen();\n\t\t}\n\t}\n\n\t// https://github.com/soulwire/sketch.js/wiki/API#instance-methods\n\t// ____________________________________ Instance Methods ____________________________________\n\t// start\n\t// stop\n\t// toggle\n\t// clear\n\t// destroy\n\t// https://github.com/soulwire/sketch.js/wiki/API#overridable-instance-methods\n\t// Overridable Instance Methods\n\t// Implement these methods on your sketch instance (or pass them to create inside the options hash).\n\t// setup\n\t// update\n\t// draw\n\t// touchstart\n\t// touchmove\n\t// touchend\n\t// mouseover\n\t// mousedown\n\t// mousemove\n\t// mouseout\n\t// mouseup\n\t// click\n\t// keydown\n\t// keyup\n\t// resize\n}\n\n// Constants\n// CANVAS Enumeration for the Canvas type\n// WEBGL Enumeration for the WebGL type\n// DOM Enumeration for the DOM type\n// instances A list of all current Sketch instances\n@:enum abstract SketchType(String) {\n\tvar CANVAS = 'canvas';\n\tvar WEBGL = 'webgl';\n\tvar DOM = 'dom';\n}\n\n@:enum abstract PaperSize(String) {\n\tvar A6 = 'A6';\n\tvar A5 = 'A5';\n\tvar A4 = 'A4';\n\tvar A3 = 'A3';\n\tvar A2 = 'A2';\n\tvar A1 = 'A1';\n}\n\n// https://github.com/soulwire/sketch.js/wiki/API#options\nclass SketchOption {\n\tpublic var width(get_width, set_width):Int;\n\n\tprivate var _width:Int;\n\n\tfunction get_width():Int {\n\t\treturn _width;\n\t}\n\n\tfunction set_width(value:Int):Int {\n\t\t_fullscreen = false;\n\t\tif (_height == null)\n\t\t\t_height = value;\n\t\treturn _width = value;\n\t}\n\n\tpublic var height(get_height, set_height):Int;\n\n\tprivate var _height:Int;\n\n\tfunction get_height():Int {\n\t\treturn _height;\n\t}\n\n\tfunction set_height(value:Int):Int {\n\t\t_fullscreen = false;\n\t\tif (_width == null)\n\t\t\t_width = value;\n\t\treturn _height = value;\n\t}\n\n\t/**\n\t * fullscreen\n\t *\n\t * default true, when width or height is set, this will be automaticly false\n\t */\n\tpublic var fullscreen(get_fullscreen, set_fullscreen):Bool;\n\n\tprivate var _fullscreen:Bool = true;\n\n\tfunction get_fullscreen():Bool {\n\t\treturn _fullscreen;\n\t}\n\n\tfunction set_fullscreen(value:Bool):Bool {\n\t\treturn _fullscreen = value;\n\t}\n\n\t// autoclear Default: true Whether to clear the context before each call to draw. Otherwise call clear()\n\n\t/**\n\t * TODO: [mck] doesn't work yet\n\t */\n\tpublic var autoclear(get_autoclear, set_autoclear):Bool;\n\n\tprivate var _autoclear:Bool = true;\n\n\tfunction get_autoclear():Bool {\n\t\treturn _autoclear;\n\t}\n\n\tfunction set_autoclear(value:Bool):Bool {\n\t\treturn _autostart = value;\n\t}\n\n\t// autostart Default: true Otherwise call start()\n\n\t/**\n\t * TODO: [mck] doesn't work yet\n\t */\n\tpublic var autostart(get_autostart, set_autostart):Bool;\n\n\tprivate var _autostart:Bool = true;\n\n\tfunction get_autostart():Bool {\n\t\treturn _autostart;\n\t}\n\n\tfunction set_autostart(value:Bool):Bool {\n\t\treturn _autostart = value;\n\t}\n\n\t// ?????????????????\n\t// autopause Default: true Whether to pause the animation on window blur and resume on focus\n\n\t/**\n\t * TODO: [mck] doesn't work yet\n\t */\n\tpublic var autopause(get_autopause, set_autopause):Bool;\n\n\tprivate var _autopause:Bool = true;\n\n\tfunction get_autopause():Bool {\n\t\treturn _autopause;\n\t}\n\n\tfunction set_autopause(value:Bool):Bool {\n\t\treturn _autopause = value;\n\t}\n\n\t// container Default: document.body Where to put the sketch context\n\n\t/**\n\t * TODO: [mck] doesn't work yet\n\t */\n\tpublic var container(get_container, set_container):js.html.Element;\n\n\tprivate var _container:js.html.Element = document.body;\n\n\tfunction get_container():js.html.Element {\n\t\treturn _container;\n\t}\n\n\tfunction set_container(value:js.html.Element):js.html.Element {\n\t\treturn _container = value;\n\t}\n\n\t// type Default Sketch.CANVAS Possible values: Sketch.CANVAS, Sketch.WEB_GL and Sketch.DOM\n\n\t/**\n\t *\n\t */\n\tpublic var type(get_type, set_type):SketchType;\n\n\tprivate var _type:SketchType = SketchType.CANVAS;\n\n\tfunction get_type():SketchType {\n\t\treturn _type;\n\t}\n\n\tfunction set_type(value:SketchType):SketchType {\n\t\treturn _type = value;\n\t}\n\n\t// scale the canvas so you can see it without using the scrollbar\n\tpublic var scale(get_scale, set_scale):Bool;\n\n\tprivate var _scale:Bool = false;\n\n\tfunction get_scale():Bool {\n\t\treturn _scale;\n\t}\n\n\tfunction set_scale(value:Bool):Bool {\n\t\treturn _scale = value;\n\t}\n\n\t// scaling will use padding so you will see what you are doing\n\tpublic var padding(get_padding, set_padding):Int;\n\n\tprivate var _padding:Int = 20;\n\n\tfunction get_padding():Int {\n\t\treturn _padding;\n\t}\n\n\tfunction set_padding(value:Int):Int {\n\t\treturn _padding = value;\n\t}\n\n\t/**\n\t * set the dpi, default 72\n\t *\n\t * be carefull, this is a heavy feature, not recommended for video\n\t *\n\t * common values\n\t * 72 (internet values)\n\t * 150 (home printers)\n\t * 300 (books printing)\n\t */\n\tpublic var dpi(get_dpi, set_dpi):Int;\n\n\tprivate var _dpi:Int = 72; // default 72\n\n\tfunction get_dpi():Int {\n\t\treturn _dpi;\n\t}\n\n\tfunction set_dpi(value:Int):Int {\n\t\treturn _dpi = value;\n\t}\n\n\t// interval Default: 1 The update / draw interval (2 will update every 2 frames, etc)\n\t// globals Default: true Add global properties and methods to the window\n\t// retina Default: false Resize for best appearance on retina displays. Can be slow due to so many pixels!\n\t// eventTarget If you want Sketch to bind mouse events to an element other than the Sketch canvas, you can specify that ele\n\tpublic function new() {}\n}\n\n/**\n * Use extends SketchBase to create a quick base to work with\n */\nclass SketchBase {\n\tpublic var ctx:CanvasRenderingContext2D;\n\tpublic var isDrawActive:Bool = true;\n\tpublic var isDebug:Bool = false;\n\tpublic var dpiScale:Float = 1;\n\n\t/**\n\t * constructor\n\t * @param ctx\n\t */\n\tpublic function new(ctx:CanvasRenderingContext2D) {\n\t\tif (isDebug)\n\t\t\ttrace('START :: ${toString()}');\n\t\tif (ctx == null) {\n\t\t\t// setup a default Sketch with Instagram settings\n\t\t\tvar option = new SketchOption();\n\t\t\toption.width = 1080; // 1080\n\t\t\t// option.height = 1000;\n\t\t\toption.autostart = true;\n\t\t\toption.padding = 10;\n\t\t\toption.scale = true;\n\t\t\tctx = Sketch.create(\"creative_code_mck\", option);\n\t\t}\n\n\t\t/**\n\t\t * default is 72 dpi, if you design based on that\n\t\t * and use dpiScaling to correct that value,\n\t\t * you will be just fine\n\t\t */\n\t\tdpiScale = Sketch.option.dpi / 72;\n\t\tthis.ctx = ctx;\n\t\twindow.addEventListener(RESIZE, _reset, false);\n\t\twindow.addEventListener(KEY_DOWN, _keyDown, false);\n\t\twindow.addEventListener(KEY_UP, _keyUp, false);\n\t\t// window.addEventListener(KEY_DOWN, onKeyDown);\n\t\tsetup();\n\t\t_draw(); // start draw loop\n\t}\n\n\t// ____________________________________ private ____________________________________\n\t// track key functions\n\tfunction _keyDown(e:js.html.KeyboardEvent) {\n\t\tswitch (e.key) {\n\t\t\tcase ' ':\n\t\t\t\tdraw();\n\t\t\tdefault:\n\t\t\t\t// trace(\"case '\" + e.key + \"': trace ('\" + e.key + \"');\");\n\t\t}\n\t}\n\n\tfunction _keyUp(e:js.html.KeyboardEvent) {}\n\n\t// trigger when window resize, draw function is still running, so clear canvas and restart with init\n\tfunction _reset() {\n\t\tctx.clearRect(0, 0, w, h);\n\t\t_draw();\n\t}\n\n\t// wrapper around the real `draw` class\n\tfunction _draw(?timestamp:Float) {\n\t\tdraw();\n\t\t__export();\n\t\tif (isDrawActive)\n\t\t\twindow.requestAnimationFrame(_draw);\n\t}\n\n\t// ____________________________________ public ____________________________________\n\n\t/**\n\t * setup your art here, is also the best place to reset data\n\t * when the browser resizes\n\t */\n\tpublic function setup() {\n\t\tif (isDebug)\n\t\t\ttrace('SETUP :: ${toString()} -> override public function draw()');\n\t}\n\n\t/**\n\t * the magic happens here, every class should have a `draw` function\n\t */\n\tpublic function draw() {\n\t\tif (isDebug)\n\t\t\ttrace('DRAW :: ${toString()} -> override public function draw()');\n\t}\n\n\t/**\n\t * might be completely useless, might change in the future,\n\t * but this is my library so deal with it\n\t * I need this for my export functions\n\t */\n\tpublic function __export() {\n\t\t// if (isDebug)\n\t\t// trace('EXPORT :: ${toString()} -> override public function __export()');\n\t}\n\n\t/**\n\t * pause the draw function (toggle function)\n\t */\n\tpublic function pause() {\n\t\tisDrawActive = !isDrawActive;\n\t}\n\n\t/**\n\t * stop draw function\n\t */\n\tpublic function stop() {\n\t\tisDrawActive = false;\n\t}\n\n\t/**\n\t * play draw function\n\t */\n\tpublic function play() {\n\t\tisDrawActive = true;\n\t\t_draw();\n\t}\n\n\tpublic function start() {\n\t\tplay();\n\t}\n\n\tpublic function onKeyDown(e:js.html.KeyboardEvent) {\n\t\t// switch (e.key) {\n\t\t// \tcase ' ':\n\t\t// \t\tdrawShape();\n\t\t// \tdefault:\n\t\t// \t\ttrace(\"case '\" + e.key + \"': trace ('\" + e.key + \"');\");\n\t\t// }\n\t}\n\n\t// ____________________________________ compensate value with dpi (usefull if you need to have dpi bigger then 72) ____________________________________\n\n\t/**\n\t * default dpi is 72, but CC-sketch can compensate values with this class\n\t *\n\t * @param value \tnormal 72 dpi value\n\t * @return Float\n\t */\n\tpublic function scaled(value:Float) : Float{\n\t\treturn value * dpiScale;\n\t}\n\n\t/**\n\t * default dpi is 72, but CC-sketch can compensate values with this class\n\t * use when you expect a bigger Int value\n\t *\n\t * @param value \tnormal 72 dpi value\n\t * @return Int\n\t */\n\tpublic function scaledInt(value:Float) : Int{\n\t\treturn Std.int(value * dpiScale);\n\t}\n\n\t// setup\n\t// update\n\t// draw\n\t// touchstart\n\t// touchmove\n\t// touchend\n\t// mouseover\n\t// mousedown\n\t// mousemove\n\t// mouseout\n\t// mouseup\n\t// click\n\t// keydown\n\t// keyup\n\t// resize\n\n\t/**\n\t * shorthand to get half `w` (width of canvas)\n\t */\n\t@:isVar public var w2(get, null):Float;\n\n\tfunction get_w2() {\n\t\treturn w / 2;\n\t}\n\n\t/**\n\t * shorthand to get half `h` (height of canvas)\n\t */\n\t@:isVar public var h2(get, null):Float;\n\n\tfunction get_h2() {\n\t\treturn h / 2;\n\t}\n\n\t/**\n\t * shorthand to get quarter `w` (width of canvas)\n\t */\n\t@:isVar public var w4(get, null):Float;\n\n\tfunction get_w4() {\n\t\treturn w / 4;\n\t}\n\n\t/**\n\t * shorthand to get quarter `h` (height of canvas)\n\t */\n\t@:isVar public var h4(get, null):Float;\n\n\tfunction get_h4() {\n\t\treturn h / 4;\n\t}\n\n\t/**\n\t * shorthand to get third `w` (width of canvas)\n\t */\n\t@:isVar public var w3(get, null):Float;\n\n\tfunction get_w3() {\n\t\treturn w / 3;\n\t}\n\n\t/**\n\t * shorthand to get third `h` (height of canvas)\n\t */\n\t@:isVar public var h3(get, null):Float;\n\n\tfunction get_h3() {\n\t\treturn h / 3;\n\t}\n\n\t/**\n\t * Get className, with package\n\t * @example:\n\t * \t\ttrace(toString()); // this file would be \"art.CCBase\"\n\t */\n\tpublic function toString() {\n\t\tvar className = Type.getClassName(Type.getClass(this));\n\t\treturn className;\n\t}\n}\n\n/**\n * Sketch.Global has values you can access easily\n *\n * @usage:\n * \t\timport Sketch.Global.*;\n *\n * @source\n * \t\t\thttps://groups.google.com/forum/#!topic/haxelang/CPbyE3WCvnc\n * \t\t\thttps://gist.github.com/nadako/5913724\n */\nclass Global {\n\tpublic static var MOUSE_DOWN:String = 'mousedown';\n\tpublic static var MOUSE_UP:String = 'mouseup';\n\tpublic static var MOUSE_MOVE:String = 'mousemove';\n\tpublic static var KEY_DOWN:String = 'keydown';\n\tpublic static var KEY_UP:String = 'keyup';\n\tpublic static var RESIZE:String = 'resize';\n\tpublic static var mouseX:Int;\n\tpublic static var mouseY:Int;\n\tpublic static var mouseMoved:Bool;\n\tpublic static var mouseDown:Bool;\n\tpublic static var keyDown:Int;\n\tpublic static var keyUp:Int;\n\tpublic static var mousePressed:Int = 0;\n\tpublic static var mouseReleased:Int = 0;\n\tpublic static var isFullscreen:Bool = false;\n\tpublic static var TWO_PI:Float = Math.PI * 2;\n\t// allows me global access to canvas and its width and height properties\n\tpublic static var w:Int;\n\tpublic static var h:Int;\n\t// public static var width:Int;\n\t// public static var height:Int;\n}\n","package;\n\nimport js.Browser.*;\nimport draw.*;\n\nclass Sketcher {\n\tvar settings:Settings;\n\t// var paper:Dynamic;\n\tvar element:js.html.Element;\n\tvar baseArray:Array<IBase> = [];\n\tvar svg:String;\n\tvar canvas:js.html.CanvasElement;\n\n\tpublic static var ctx:js.html.CanvasRenderingContext2D;\n\n\tpublic function new(settings:Settings) {\n\t\tthis.settings = settings;\n\n\t\tSketch.Global.w = settings.width;\n\t\tSketch.Global.h = settings.height;\n\n\t\tif (settings.scale == true) {\n\t\t\tvar node = document.createElement('style');\n\t\t\tnode.innerHTML = 'svg {width: 100%; height: 100%;}';\n\t\t\tdocument.body.appendChild(node);\n\t\t}\n\n\t\tif (settings.padding != null && settings.padding > 0) {\n\t\t\tvar node = document.createElement('style');\n\t\t\tnode.innerHTML = 'svg {margin: ${settings.padding}px; }';\n\t\t\tdocument.body.appendChild(node);\n\t\t}\n\t}\n\n\t// ____________________________________ util to append ____________________________________\n\n\tpublic function appendTo(element:js.html.Element):Sketcher {\n\t\tif (element == null) {\n\t\t\treturn this;\n\t\t}\n\t\tthis.element = element;\n\n\t\tif (settings.type == 'canvas') {\n\t\t\tcanvas = document.createCanvasElement();\n\t\t\tcanvas.width = settings.width;\n\t\t\tcanvas.height = settings.height;\n\t\t\tcanvas.id = 'canvas';\n\t\t\tctx = canvas.getContext2d();\n\t\t\telement.appendChild(canvas);\n\t\t}\n\t\treturn this;\n\t}\n\n\t// ____________________________________ make something ____________________________________\n\n\tpublic function makeText(str:String, ?x, ?y):Text {\n\t\tvar shape = new Text(str, x, y);\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\tpublic function makeCircle(x, y, radius):Circle {\n\t\tvar shape = new Circle(x, y, radius);\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\tpublic function makeRectangle(x, y, width, height):Rectangle {\n\t\tvar shape = new Rectangle(x, y, width, height);\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\tpublic function makeRoundedRectangle(x, y, width, height, radius):Rectangle {\n\t\tvar shape = new Rectangle(x, y, width, height);\n\t\tshape.radius = radius;\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\tpublic function makeLine(x1, y1, x2, y2):Line {\n\t\tvar shape = new Line(x1, y1, x2, y2);\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\tpublic function makeEllipse(x, y, rx, ry):Ellipse {\n\t\tvar shape = new Ellipse(x, y, rx, ry);\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\tpublic function makePolygon(sides):Polygon {\n\t\tvar shape = new Polygon(sides);\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\t/**\n\t * wip!!!!\n\t * @param one\n\t * @param two\n\t * @return Group\n\t */\n\tpublic function makeGroup(array:Array<IBase>):Group {\n\t\tvar shape = new Group(array);\n\t\tfor (j in 0...array.length) {\n\t\t\tvar _base = array[j];\n\t\t\tfor (i in 0...baseArray.length) {\n\t\t\t\tvar base:IBase = baseArray[i];\n\t\t\t\tif (base == _base) {\n\t\t\t\t\tbaseArray[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbaseArray.push(shape);\n\t\treturn shape;\n\t}\n\n\t/**\n\t * helpfull debug tool, register point\n\t *\n\t * ```\n\t * var sketch = Sketcher.create(params).appendTo(elem);\n\t * sketch.makeX(10,10);\n\t * ```\n\t *\n\t * @param x\t\tposition in x dir\n\t * @param y\t\tposition in y dir\n\t * @param color\t(optional) default color is red\n\t * @return Line \t(weird to return one line????)\n\t */\n\tpublic function makeX(x, y, ?color:String = 'red'):Line {\n\t\tvar cx = x;\n\t\tvar cy = y;\n\t\tvar r = 5;\n\n\t\tvar lineX = new Line(cx - r, cy, cx + r, cy);\n\t\tlineX.stroke = color;\n\t\tbaseArray.push(lineX);\n\t\tvar lineY = new Line(cx, cy - r, cx, cy + r);\n\t\tlineY.stroke = color;\n\t\tbaseArray.push(lineY);\n\n\t\t// var group = two.makeGroup(circle, rect);\n\n\t\treturn lineX;\n\t}\n\n\t// ____________________________________ update ____________________________________\n\n\tpublic function update() {\n\t\t// trace('WIP update');\n\t\tif (element == null) {\n\t\t\t// make sure the element exists\n\t\t\t// console.warn('element doesn\\'t exist in DOM (${element})');\n\t\t\treturn;\n\t\t}\n\t\ttrace('type:${settings.type}, id:${element.id}');\n\t\tif (settings.type == 'svg') {\n\t\t\t// [mck] TODO change string into XML!!!\n\t\t\tvar paper = '<?xml version=\"1.0\" standalone=\"no\"?><svg width=\"${settings.width}\" height=\"${settings.height}\" viewBox=\"0 0 ${settings.width} ${settings.height}\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">';\n\t\t\tfor (i in 0...baseArray.length) {\n\t\t\t\tvar base = baseArray[i];\n\t\t\t\tif (base == null)\n\t\t\t\t\tcontinue; // groups do this\n\n\t\t\t\tif (base.type == 'Group') {\n\t\t\t\t\t// trace('ggggg');\n\t\t\t\t\tcast(base, draw.Group).test();\n\t\t\t\t}\n\t\t\t\tvar draw = base.svg(settings);\n\t\t\t\t// trace(base.toString());\n\t\t\t\t// trace(draw);\n\t\t\t\tpaper += draw;\n\t\t\t}\n\t\t\tpaper += '</svg>';\n\t\t\telement.innerHTML = paper;\n\t\t} else {\n\t\t\tfor (i in 0...baseArray.length) {\n\t\t\t\tvar base = baseArray[i];\n\t\t\t\ttrace(base.type);\n\t\t\t\tbase.ctx(ctx);\n\t\t\t}\n\t\t}\n\t}\n\n\t// [mck] TODO create settings AST to have possible object send as well?\n\tpublic static function create(settings:Settings):Sketcher {\n\t\tvar sketcher = new Sketcher(settings);\n\t\tsketcher.baseArray = []; // make sure it's empty\n\t\treturn sketcher;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nimport js.Boot;\n\n@:keepInit\n@:coreApi class Std {\n\n\tpublic static inline function is( v : Dynamic, t : Dynamic ) : Bool {\n\t\treturn untyped js.Boot.__instanceof(v,t);\n\t}\n\n\tpublic static inline function instance<T:{},S:T>( value : T, c : Class<S> ) : S {\n\t\treturn untyped __instanceof__(value, c) ? cast value : null;\n\t}\n\n\t@:pure\n\tpublic static function string( s : Dynamic ) : String {\n\t\treturn untyped js.Boot.__string_rec(s,\"\");\n\t}\n\n\tpublic static inline function int( x : Float ) : Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt( x : String ) : Null<Int> {\n\t\tvar v = untyped __js__(\"parseInt\")(x, 10);\n\t\t// parse again if hexadecimal\n\t\tif( v == 0 && (x.charCodeAt(1) == 'x'.code || x.charCodeAt(1) == 'X'.code) )\n\t\t\tv = untyped __js__(\"parseInt\")(x);\n\t\tif( untyped __js__(\"isNaN\")(v) )\n\t\t\treturn null;\n\t\treturn cast v;\n\t}\n\n\tpublic static inline function parseFloat( x : String ) : Float {\n\t\treturn untyped __js__(\"parseFloat\")(x);\n\t}\n\n\tpublic static function random( x : Int ) : Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random()*x);\n\t}\n\n\tstatic function __init__() : Void untyped {\n\t\t__feature__(\"js.Boot.getClass\",String.prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"String\"] = String,String));\n\t\t__feature__(\"js.Boot.isClass\",String.__name__ = __feature__(\"Type.getClassName\",[\"String\"],true));\n\t\t__feature__(\"Type.resolveClass\",$hxClasses[\"Array\"] = Array);\n\t\t__feature__(\"js.Boot.isClass\",Array.__name__ = __feature__(\"Type.getClassName\",[\"Array\"],true));\n\t\t__feature__(\"Date.*\", {\n\t\t\t__feature__(\"js.Boot.getClass\",__js__('Date').prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"Date\"] = __js__('Date'),__js__('Date')));\n\t\t\t__feature__(\"js.Boot.isClass\",__js__('Date').__name__ = [\"Date\"]);\n\t\t});\n\t\t__feature__(\"Int.*\",{\n\t\t\tvar Int = __feature__(\"Type.resolveClass\", $hxClasses[\"Int\"] = { __name__ : [\"Int\"] }, { __name__ : [\"Int\"] });\n\t\t});\n\t\t__feature__(\"Dynamic.*\",{\n\t\t\tvar Dynamic = __feature__(\"Type.resolveClass\", $hxClasses[\"Dynamic\"] = { __name__ : [\"Dynamic\"] }, { __name__ : [\"Dynamic\"] });\n\t\t});\n\t\t__feature__(\"Float.*\",{\n\t\t\tvar Float = __feature__(\"Type.resolveClass\", $hxClasses[\"Float\"] = __js__(\"Number\"), __js__(\"Number\"));\n\t\t\tFloat.__name__ = [\"Float\"];\n\t\t});\n\t\t__feature__(\"Bool.*\",{\n\t\t\tvar Bool = __feature__(\"Type.resolveEnum\",$hxClasses[\"Bool\"] = __js__(\"Boolean\"), __js__(\"Boolean\"));\n\t\t\tBool.__ename__ = [\"Bool\"];\n\t\t});\n\t\t__feature__(\"Class.*\",{\n\t\t\tvar Class = __feature__(\"Type.resolveClass\", $hxClasses[\"Class\"] = { __name__ : [\"Class\"] }, { __name__ : [\"Class\"] });\n\t\t});\n\t\t__feature__(\"Enum.*\",{\n\t\t\tvar Enum = {};\n\t\t});\n\t\t__feature__(\"Void.*\",{\n\t\t\tvar Void = __feature__(\"Type.resolveEnum\", $hxClasses[\"Void\"] = { __ename__ : [\"Void\"] }, { __ename__ : [\"Void\"] });\n\t\t});\n\n#if (js_es < 5)\n\t\t__feature__(\"Array.map\",\n\t\t\tif( Array.prototype.map == null )\n\t\t\t\tArray.prototype.map = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length )\n\t\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n\t\t__feature__(\"Array.filter\",\n\t\t\tif( Array.prototype.filter == null )\n\t\t\t\tArray.prototype.filter = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length ) {\n\t\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\t\tif( f(e) ) a.push(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tA String buffer is an efficient way to build a big string by appending small\n\telements together.\n\n\tIts cross-platform implementation uses String concatenation internally, but\n\tStringBuf may be optimized for different targets.\n\n\tUnlike String, an instance of StringBuf is not immutable in the sense that\n\tit can be passed as argument to functions which modify it by appending more\n\tvalues. However, the internal buffer cannot be modified.\n**/\nclass StringBuf {\n\n\tvar b:String;\n\n\t/**\n\t\tThe length of `this` StringBuf in characters.\n\t**/\n\tpublic var length(get,never) : Int;\n\n\t/**\n\t\tCreates a new StringBuf instance.\n\n\t\tThis may involve initialization of the internal buffer.\n\t**/\n\tpublic inline function new() {\n\t\tb = \"\";\n\t}\n\n\tinline function get_length() : Int {\n\t\treturn b.length;\n\t}\n\n\t/**\n\t\tAppends the representation of `x` to `this` StringBuf.\n\n\t\tThe exact representation of `x` may vary per platform. To get more\n\t\tconsistent behavior, this function should be called with\n\t\tStd.string(x).\n\n\t\tIf `x` is null, the String \"null\" is appended.\n\t**/\n\tpublic inline function add<T>( x : T ) : Void {\n\t\tb += x;\n\t}\n\n\t/**\n\t\tAppends the character identified by `c` to `this` StringBuf.\n\n\t\tIf `c` is negative or has another invalid value, the result is\n\t\tunspecified.\n\t**/\n\tpublic inline function addChar( c : Int ) : Void {\n\t\tb += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tAppends a substring of `s` to `this` StringBuf.\n\n\t\tThis function expects `pos` and `len` to describe a valid substring of\n\t\t`s`, or else the result is unspecified. To get more robust behavior,\n\t\t`this.add(s.substr(pos,len))` can be used instead.\n\n\t\tIf `s` or `pos` are null, the result is unspecified.\n\n\t\tIf `len` is omitted or null, the substring ranges from `pos` to the end\n\t\tof `s`.\n\t**/\n\tpublic inline function addSub( s : String, pos : Int, ?len : Int) : Void {\n\t\tb += (len == null ? s.substr(pos) : s.substr(pos, len));\n\t}\n\n\t/**\n\t\tReturns the content of `this` StringBuf as String.\n\n\t\tThe buffer is not emptied by this operation.\n\t**/\n\tpublic inline function toString() : String {\n\t\treturn b;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tThis class provides advanced methods on Strings. It is ideally used with\n\t`using StringTools` and then acts as an [extension](https://haxe.org/manual/lf-static-extension.html)\n\tto the `String` class.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n**/\n#if cpp\nusing cpp.NativeString;\n#end\nclass StringTools {\n\t/**\n\t\tEncode an URL by using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua) inline #end public static function urlEncode( s : String ) : String {\n\t\t#if flash\n\t\t\treturn untyped __global__[\"encodeURIComponent\"](s);\n\t\t#elseif neko\n\t\t\treturn untyped new String(_urlEncode(s.__s));\n\t\t#elseif js\n\t\t\treturn untyped encodeURIComponent(s);\n\t\t#elseif cpp\n\t\t\treturn untyped s.__URLEncode();\n\t\t#elseif java\n\t\t\treturn postProcessUrlEncode(java.net.URLEncoder.encode(s, \"UTF-8\"));\n\t\t#elseif cs\n\t\t\treturn untyped cs.system.Uri.EscapeDataString(s);\n\t\t#elseif python\n\t\t\treturn python.lib.urllib.Parse.quote(s, \"\");\n\t\t#elseif hl\n\t\t\tvar len = 0;\n\t\t\tvar b = @:privateAccess s.bytes.urlEncode(len);\n\t\t\treturn @:privateAccess String.__alloc__(b,len);\n\t\t#elseif lua\n\t\t\ts = lua.NativeStringTools.gsub(s, \"\\n\", \"\\r\\n\");\n\t\t\ts = lua.NativeStringTools.gsub(s, \"([^%w %-%_%.%~])\", function (c) {\n\t\t\t\treturn lua.NativeStringTools.format(\"%%%02X\", lua.NativeStringTools.byte(c) + '');\n\t\t\t});\n\t\t\ts = lua.NativeStringTools.gsub(s, \" \", \"+\");\n\t\t\treturn s;\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n#if java\n\tprivate static function postProcessUrlEncode( s : String ) : String {\n\t\tvar ret = new StringBuf();\n\t\tvar i = 0,\n\t\t    len = s.length;\n\t\twhile (i < len) {\n\t\t\tswitch(_charAt(s, i++)) {\n\t\t\tcase '+'.code:\n\t\t\t\tret.add('%20');\n\t\t\tcase '%'.code if (i <= len - 2):\n\t\t\t\tvar c1 = _charAt(s, i++),\n\t\t\t\t    c2 = _charAt(s, i++);\n\t\t\t\tswitch[c1, c2] {\n\t\t\t\tcase ['2'.code, '1'.code]:\n\t\t\t\t\tret.addChar('!'.code);\n\t\t\t\tcase ['2'.code, '7'.code]:\n\t\t\t\t\tret.addChar('\\''.code);\n\t\t\t\tcase ['2'.code, '8'.code]:\n\t\t\t\t\tret.addChar('('.code);\n\t\t\t\tcase ['2'.code, '9'.code]:\n\t\t\t\t\tret.addChar(')'.code);\n\t\t\t\tcase ['7'.code, 'E'.code] | ['7'.code, 'e'.code]:\n\t\t\t\t\tret.addChar('~'.code);\n\t\t\t\tcase _:\n\t\t\t\t\tret.addChar('%'.code);\n\t\t\t\t\tret.addChar(cast c1);\n\t\t\t\t\tret.addChar(cast c2);\n\t\t\t\t}\n\t\t\tcase chr:\n\t\t\t\tret.addChar(cast chr);\n\t\t\t}\n\t\t}\n\t\treturn ret.toString();\n\t}\n#end\n\n\t/**\n\t\tDecode an URL using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua) inline #end public static function urlDecode( s : String ) : String {\n\t\t#if flash\n\t\t\treturn untyped __global__[\"decodeURIComponent\"](s.split(\"+\").join(\" \"));\n\t\t#elseif neko\n\t\t\treturn untyped new String(_urlDecode(s.__s));\n\t\t#elseif js\n\t\t\treturn untyped decodeURIComponent(s.split(\"+\").join(\" \"));\n\t\t#elseif cpp\n\t\t\treturn untyped s.__URLDecode();\n\t\t#elseif java\n\t\t\ttry\n\t\t\t\treturn untyped __java__(\"java.net.URLDecoder.decode(s, \\\"UTF-8\\\")\")\n\t\t\tcatch (e:Dynamic) throw e;\n\t\t#elseif cs\n\t\t\treturn untyped cs.system.Uri.UnescapeDataString(s);\n\t\t#elseif python\n\t\t\treturn python.lib.urllib.Parse.unquote(s);\n\t\t#elseif hl\n\t\t\tvar len = 0;\n\t\t\tvar b = @:privateAccess s.bytes.urlDecode(len);\n\t\t\treturn @:privateAccess String.__alloc__(b,len);\n\t\t#elseif lua\n\t\t\ts = lua.NativeStringTools.gsub (s, \"+\", \" \");\n\t\t\ts = lua.NativeStringTools.gsub (s, \"%%(%x%x)\",\n\t\t\t\tfunction(h) {return lua.NativeStringTools.char(lua.Lua.tonumber(h,16));});\n\t\t\ts = lua.NativeStringTools.gsub (s, \"\\r\\n\", \"\\n\");\n\t\t\treturn s;\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n\t/**\n\t\tEscapes HTML special characters of the string `s`.\n\n\t\tThe following replacements are made:\n\n\t\t- `&` becomes `&amp`;\n\t\t- `<` becomes `&lt`;\n\t\t- `>` becomes `&gt`;\n\n\t\tIf `quotes` is true, the following characters are also replaced:\n\n\t\t- `\"` becomes `&quot`;\n\t\t- `'` becomes `&#039`;\n\t**/\n\tpublic static function htmlEscape( s : String, ?quotes : Bool ) : String {\n\t\ts = s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t\treturn quotes ? s.split('\"').join(\"&quot;\").split(\"'\").join(\"&#039;\") : s;\n\t}\n\n\t/**\n\t\tUnescapes HTML special characters of the string `s`.\n\n\t\tThis is the inverse operation to htmlEscape, i.e. the following always\n\t\tholds: `htmlUnescape(htmlEscape(s)) == s`\n\n\t\tThe replacements follow:\n\n\t\t- `&amp;` becomes `&`\n\t\t- `&lt;` becomes `<`\n\t\t- `&gt;` becomes `>`\n\t\t- `&quot;` becomes `\"`\n\t\t- `&#039;` becomes `'`\n\t**/\n\tpublic static function htmlUnescape( s : String ) : String {\n\t\treturn s.split(\"&gt;\").join(\">\").split(\"&lt;\").join(\"<\").split(\"&quot;\").join('\"').split(\"&#039;\").join(\"'\").split(\"&amp;\").join(\"&\");\n\t}\n\n\t/**\n\t\tTells if the string `s` starts with the string `start`.\n\n\t\tIf `start` is `null`, the result is unspecified.\n\n\t\tIf `start` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java) inline #end function startsWith( s : String, start : String ) : Bool {\n\t\t#if java\n\t\treturn untyped s.startsWith(start);\n\t\t#elseif cs\n\t\treturn untyped s.StartsWith(start);\n\t\t#elseif cpp\n\t\tif (s.length<start.length)\n\t\t\treturn false;\n\t\tvar p0 = s.c_str();\n\t\tvar p1 = start.c_str();\n\t\tfor(i in 0...start.length)\n\t\t\tif ( p0.at(i) != p1.at(i) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t\t#elseif hl\n\t\treturn @:privateAccess (s.length >= start.length && s.bytes.compare(0,start.bytes,0,start.length<<1) == 0);\n\t\t#else\n\t\treturn( s.length >= start.length && s.substr(0, start.length) == start );\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the string `s` ends with the string `end`.\n\n\t\tIf `end` is `null`, the result is unspecified.\n\n\t\tIf `end` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java) inline #end function endsWith( s : String, end : String ) : Bool {\n\t\t#if java\n\t\treturn untyped s.endsWith(end);\n\t\t#elseif cs\n\t\treturn untyped s.EndsWith(end);\n\t\t#elseif cpp\n\t\tif (s.length<end.length)\n\t\t\treturn false;\n\t\tvar p0 = s.c_str().add( s.length-end.length );\n\t\tvar p1 = end.c_str();\n\t\tfor(i in 0...end.length)\n\t\t\tif ( p0.at(i) != p1.at(i) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t\t#elseif hl\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn @:privateAccess (slen >= elen && s.bytes.compare((slen - elen) << 1, end.bytes, 0, elen << 1) == 0);\n\t\t#else\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn( slen >= elen && s.substr(slen - elen, elen) == end );\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the character in the string `s` at position `pos` is a space.\n\n\t\tA character is considered to be a space character if its character code\n\t\tis 9,10,11,12,13 or 32.\n\n\t\tIf `s` is the empty String `\"\"`, or if pos is not a valid position within\n\t\t`s`, the result is false.\n\t**/\n\tpublic static function isSpace( s : String, pos : Int ) : Bool {\n\t\t#if (python || lua)\n\t\tif (s.length == 0 || pos < 0 || pos >= s.length) return false;\n\t\t#end\n\t\tvar c = s.charCodeAt( pos );\n\t\treturn (c > 8 && c < 14) || c == 32;\n\t}\n\n\t/**\n\t\tRemoves leading space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function ltrim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.TrimStart();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile( r < l && isSpace(s,r) ){\n\t\t\tr++;\n\t\t}\n\t\tif( r > 0 )\n\t\t\treturn s.substr(r, l-r);\n\t\telse\n\t\t\treturn s;\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves trailing space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function rtrim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.TrimEnd();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile( r < l && isSpace(s,l-r-1) ){\n\t\t\tr++;\n\t\t}\n\t\tif( r > 0 ){\n\t\t\treturn s.substr(0, l-r);\n\t\t}else{\n\t\t\treturn s;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves leading and trailing space characters of `s`.\n\n\t\tThis is a convenience function for `ltrim(rtrim(s))`.\n\t**/\n\tpublic #if (cs || java) inline #end static function trim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.Trim();\n\t\t#elseif java\n\t\treturn untyped s.trim();\n\t\t#else\n\t\treturn ltrim(rtrim(s));\n\t\t#end\n\t}\n\n\t/**\n\t\tConcatenates `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function lpad( s : String, c : String, l : Int ) : String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\twhile (s.length < l) {\n\t\t\ts = c + s;\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t\tAppends `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function rpad( s : String, c : String, l : Int ) : String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\twhile (s.length < l) {\n\t\t\ts = s + c;\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReplace all occurrences of the String `sub` in the String `s` by the\n\t\tString `by`.\n\n\t\tIf `sub` is the empty String `\"\"`, `by` is inserted after each character\n\t\tof `s`. If `by` is also the empty String `\"\"`, `s` remains unchanged.\n\n\t\tThis is a convenience function for `s.split(sub).join(by)`.\n\n\t\tIf `sub` or `by` are null, the result is unspecified.\n\t**/\n\tpublic static function replace( s : String, sub : String, by : String ) : String {\n\t\t#if java\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.replace(sub, by);\n\t\t#elseif cs\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.Replace(sub, by);\n\t\t#else\n\t\treturn s.split(sub).join(by);\n\t\t#end\n\t}\n\n\t/**\n\t\tEncodes `n` into a hexadecimal representation.\n\n\t\tIf `digits` is specified, the resulting String is padded with \"0\" until\n\t\tits `length` equals `digits`.\n\t**/\n\tpublic static function hex( n : Int, ?digits : Int ) {\n\t\t#if flash\n\t\t\tvar n : UInt = n;\n\t\t\tvar s : String = untyped n.toString(16);\n\t\t\ts = s.toUpperCase();\n\t\t#else\n\t\t\tvar s = \"\";\n\t\t\tvar hexChars = \"0123456789ABCDEF\";\n\t\t\tdo {\n\t\t\t\ts = hexChars.charAt(n&15) + s;\n\t\t\t\tn >>>= 4;\n\t\t\t} while( n > 0 );\n\t\t#end\n\t\t#if python\n\t\tif (digits != null && s.length < digits) {\n\t\t\tvar diff = digits - s.length;\n\t\t\tfor (_ in 0...diff) {\n\t\t\t\ts = \"0\" + s;\n\t\t\t}\n\t\t}\n\t\t#else\n\t\tif( digits != null )\n\t\t\twhile( s.length < digits )\n\t\t\t\ts = \"0\"+s;\n\t\t#end\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReturns the character code at position `index` of String `s`, or an\n\t\tend-of-file indicator at if `position` equals `s.length`.\n\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\n\t\tthe result is unspecified if `index` is negative or greater than\n\t\t`s.length`.\n\n\t\tEnd of file status can be checked by calling `StringTools.isEof()` with\n\t\tthe returned value as argument.\n\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\n\t\tcharacter.\n\t**/\n\tpublic static inline function fastCodeAt( s : String, index : Int ) : Int {\n\t\t#if neko\n\t\treturn untyped __dollar__sget(s.__s, index);\n\t\t#elseif cpp\n\t\treturn untyped s.cca(index);\n\t\t#elseif flash\n\t\treturn untyped s.cca(index);\n\t\t#elseif java\n\t\treturn ( index < s.length ) ? cast(_charAt(s, index), Int) : -1;\n\t\t#elseif cs\n\t\treturn ( cast(index, UInt) < s.length ) ? cast(s[index], Int) : -1;\n\t\t#elseif js\n\t\treturn (untyped s).charCodeAt(index);\n\t\t#elseif python\n\t\treturn if (index >= s.length) -1 else python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\n\t\t#elseif hl\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\n\t\t#elseif lua\n\t\treturn lua.NativeStringTools.byte(s,index+1);\n\t\t#else\n\t\treturn untyped s.cca(index);\n\t\t#end\n\t}\n\n\t/*\n\t\tTells if `c` represents the end-of-file (EOF) character.\n\t*/\n\t@:noUsing public static inline function isEof( c : Int ) : Bool {\n\t\t#if (flash || cpp || hl)\n\t\treturn c == 0;\n\t\t#elseif js\n\t\treturn c != c; // fast NaN\n\t\t#elseif (neko || lua)\n\t\treturn c == null;\n\t\t#elseif cs\n\t\treturn c == -1;\n\t\t#elseif java\n\t\treturn c == -1;\n\t\t#elseif python\n\t\treturn c == -1;\n\t\t#else\n\t\treturn false;\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Unix.\n\t\tThe input will be quoted, or escaped if necessary.\n\t*/\n\tpublic static function quoteUnixArg(argument:String):String {\n\t\t// Based on cpython's shlex.quote().\n\t\t// https://hg.python.org/cpython/file/a3f076d4f54f/Lib/shlex.py#l278\n\n\t\tif (argument == \"\")\n\t\t\treturn \"''\";\n\n\t\tif (!~/[^a-zA-Z0-9_@%+=:,.\\/-]/.match(argument))\n\t\t\treturn argument;\n\n\t\t// use single quotes, and put single quotes into double quotes\n\t\t// the string $'b is then quoted as '$'\"'\"'b'\n\t\treturn \"'\" + replace(argument, \"'\", \"'\\\"'\\\"'\") + \"'\";\n\t}\n\n\t/**\n\t\tCharacter codes of the characters that will be escaped by `quoteWinArg(_, true)`.\n\t*/\n\tpublic static var winMetaCharacters = [\" \".code, \"(\".code, \")\".code, \"%\".code, \"!\".code, \"^\".code, \"\\\"\".code, \"<\".code, \">\".code, \"&\".code, \"|\".code, \"\\n\".code, \"\\r\".code, \",\".code, \";\".code];\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Windows.\n\t\tThe input will be quoted, or escaped if necessary, such that the output\n\t\twill be parsed as a single argument using the rule specified in\n\t\thttp://msdn.microsoft.com/en-us/library/ms880421\n\n\t\tExamples:\n\t\t```\n\t\tquoteWinArg(\"abc\") == \"abc\";\n\t\tquoteWinArg(\"ab c\") == '\"ab c\"';\n\t\t```\n\t*/\n\tpublic static function quoteWinArg(argument:String, escapeMetaCharacters:Bool):String {\n\t\t// If there is no space, tab, back-slash, or double-quotes, and it is not an empty string.\n\t\tif (!~/^[^ \\t\\\\\"]+$/.match(argument)) {\n\n\t\t\t// Based on cpython's subprocess.list2cmdline().\n\t\t\t// https://hg.python.org/cpython/file/50741316dd3a/Lib/subprocess.py#l620\n\n\t\t\tvar result = new StringBuf();\n\t\t\tvar needquote = argument.indexOf(\" \") != -1 || argument.indexOf(\"\\t\") != -1 || argument == \"\";\n\n\t\t\tif (needquote)\n\t\t\t\tresult.add('\"');\n\n\t\t\tvar bs_buf = new StringBuf();\n\t\t\tfor (i in 0...argument.length) {\n\t\t\t\tswitch (argument.charCodeAt(i)) {\n\t\t\t\t\tcase \"\\\\\".code:\n\t\t\t\t\t\t// Don't know if we need to double yet.\n\t\t\t\t\t\tbs_buf.add(\"\\\\\");\n\t\t\t\t\tcase '\"'.code:\n\t\t\t\t\t\t// Double backslashes.\n\t\t\t\t\t\tvar bs = bs_buf.toString();\n\t\t\t\t\t\tresult.add(bs);\n\t\t\t\t\t\tresult.add(bs);\n\t\t\t\t\t\tbs_buf = new StringBuf();\n\t\t\t\t\t\tresult.add('\\\\\"');\n\t\t\t\t\tcase c:\n\t\t\t\t\t\t// Normal char\n\t\t\t\t\t\tif (bs_buf.length > 0) {\n\t\t\t\t\t\t\tresult.add(bs_buf.toString());\n\t\t\t\t\t\t\tbs_buf = new StringBuf();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.addChar(c);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add remaining backslashes, if any.\n\t\t\tresult.add(bs_buf.toString());\n\n\t\t\tif (needquote) {\n\t\t\t\tresult.add(bs_buf.toString());\n\t\t\t\tresult.add('\"');\n\t\t\t}\n\n\t\t\targument = result.toString();\n\t\t}\n\n\t\tif (escapeMetaCharacters) {\n\t\t\tvar result = new StringBuf();\n\t\t\tfor (i in 0...argument.length) {\n\t\t\t\tvar c = argument.charCodeAt(i);\n\t\t\t\tif (winMetaCharacters.indexOf(c) >= 0) {\n\t\t\t\t\tresult.addChar(\"^\".code);\n\t\t\t\t}\n\t\t\t\tresult.addChar(c);\n\t\t\t}\n\t\t\treturn result.toString();\n\t\t} else {\n\t\t\treturn argument;\n\t\t}\n\t}\n\n\t#if java\n\tprivate static inline function _charAt(str:String, idx:Int):java.StdTypes.Char16 return untyped str._charAt(idx);\n\t#end\n\n\t#if neko\n\tprivate static var _urlEncode = neko.Lib.load(\"std\",\"url_encode\",1);\n\tprivate static var _urlDecode = neko.Lib.load(\"std\",\"url_decode\",1);\n\t#end\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nenum ValueType {\n\tTNull;\n\tTInt;\n\tTFloat;\n\tTBool;\n\tTObject;\n\tTFunction;\n\tTClass( c : Class<Dynamic> );\n\tTEnum( e : Enum<Dynamic> );\n\tTUnknown;\n}\n\n@:coreApi class Type {\n\n\tpublic static inline function getClass<T>( o : T ) : Class<T> {\n\t\treturn if (o == null) null else @:privateAccess js.Boot.getClass(o);\n\t}\n\n\tpublic static function getEnum( o : EnumValue ) : Enum<Dynamic> untyped {\n\t\tif( o == null )\n\t\t\treturn null;\n\t\treturn o.__enum__;\n\t}\n\n\tpublic static function getSuperClass( c : Class<Dynamic> ) : Class<Dynamic> untyped {\n\t\treturn c.__super__;\n\t}\n\n\n\tpublic static function getClassName( c : Class<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped c.__name__;\n\t\tif (a == null)\n\t\t\treturn null;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function getEnumName( e : Enum<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped e.__ename__;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function resolveClass( name : String ) : Class<Dynamic> untyped {\n\t\tvar cl : Class<Dynamic> = $hxClasses[name];\n\t\t// ensure that this is a class\n\t\tif( cl == null || !js.Boot.isClass(cl) )\n\t\t\treturn null;\n\t\treturn cl;\n\t}\n\n\tpublic static function resolveEnum( name : String ) : Enum<Dynamic> untyped {\n\t\tvar e : Dynamic = $hxClasses[name];\n\t\t// ensure that this is an enum\n\t\tif( e == null || !js.Boot.isEnum(e) )\n\t\t\treturn null;\n\t\treturn e;\n\t}\n\n\tpublic static function createInstance<T>( cl : Class<T>, args : Array<Dynamic> ) : T untyped {\n\t\tswitch( args.length ) {\n\t\tcase 0:\n\t\t\treturn __new__(cl);\n\t\tcase 1:\n\t\t\treturn __new__(cl,args[0]);\n\t\tcase 2:\n\t\t\treturn __new__(cl,args[0],args[1]);\n\t\tcase 3:\n\t\t\treturn __new__(cl,args[0],args[1],args[2]);\n\t\tcase 4:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3]);\n\t\tcase 5:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4]);\n\t\tcase 6:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\tcase 7:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\tcase 8:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\tcase 9:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\tcase 10:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);\n\t\tcase 11:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);\n\t\tcase 12:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);\n\t\tcase 13:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);\n\t\tcase 14:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);\n\t\tdefault:\n\t\t\tthrow \"Too many arguments\";\n\t\t}\n\t}\n\n\tpublic static function createEmptyInstance<T>( cl : Class<T> ) : T untyped {\n\t\t__js__(\"function empty() {}; empty.prototype = cl.prototype\");\n\t\treturn __js__(\"new empty()\");\n\t}\n\n\tpublic static function createEnum<T>( e : Enum<T>, constr : String, ?params : Array<Dynamic> ) : T {\n\t\tvar f:Dynamic = Reflect.field(e,constr);\n\t\tif( f == null ) throw \"No such constructor \"+constr;\n\t\tif( Reflect.isFunction(f) ) {\n\t\t\tif( params == null ) throw \"Constructor \"+constr+\" need parameters\";\n\t\t\treturn Reflect.callMethod(e,f,params);\n\t\t}\n\t\tif( params != null && params.length != 0 )\n\t\t\tthrow \"Constructor \"+constr+\" does not need parameters\";\n\t\treturn f;\n\t}\n\n\tpublic static function createEnumIndex<T>( e : Enum<T>, index : Int, ?params : Array<Dynamic> ) : T {\n\t\tvar c : String = (untyped e.__constructs__)[index];\n\t\tif( c == null ) throw index+\" is not a valid enum constructor index\";\n\t\treturn createEnum(e,c,params);\n\t}\n\n\tpublic static function getInstanceFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = [];\n\t\tuntyped __js__(\"for(var i in c.prototype) a.push(i)\");\n\t\ta.remove(\"__class__\");\n\t\ta.remove(\"__properties__\");\n\t\treturn a;\n\t}\n\n\tpublic static function getClassFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = Reflect.fields(c);\n\t\ta.remove(\"__name__\");\n\t\ta.remove(\"__interfaces__\");\n\t\ta.remove(\"__properties__\");\n\t\ta.remove(\"__super__\");\n\t\ta.remove(\"__meta__\");\n\t\ta.remove(\"prototype\");\n\t\treturn a;\n\t}\n\n\tpublic static inline function getEnumConstructs( e : Enum<Dynamic> ) : Array<String> {\n\t\treturn ((cast e).__constructs__ : Array<String>).copy();\n\t}\n\n\tpublic static function typeof( v : Dynamic ) : ValueType untyped {\n\t\tswitch( __js__(\"typeof\")(v) ) {\n\t\tcase \"boolean\": return TBool;\n\t\tcase \"string\": return TClass(String);\n\t\tcase \"number\":\n\t\t\t// this should handle all cases : NaN, +/-Inf and Floats outside range\n\t\t\tif( Math.ceil(v) == v%2147483648.0 )\n\t\t\t\treturn TInt;\n\t\t\treturn TFloat;\n\t\tcase \"object\":\n\t\t\tif( v == null )\n\t\t\t\treturn TNull;\n\t\t\tvar e = v.__enum__;\n\t\t\tif( e != null )\n\t\t\t\treturn TEnum(e);\n\t\t\tvar c = js.Boot.getClass(v);\n\t\t\tif( c != null )\n\t\t\t\treturn TClass(c);\n\t\t\treturn TObject;\n\t\tcase \"function\":\n\t\t\tif( js.Boot.isClass(v) || js.Boot.isEnum(v) )\n\t\t\t\treturn TObject;\n\t\t\treturn TFunction;\n\t\tcase \"undefined\":\n\t\t\treturn TNull;\n\t\tdefault:\n\t\t\treturn TUnknown;\n\t\t}\n\t}\n\n\tpublic static function enumEq<T>( a : T, b : T ) : Bool untyped {\n\t\tif( a == b )\n\t\t\treturn true;\n\t\ttry {\n\t\t\tif( a[0] != b[0] )\n\t\t\t\treturn false;\n\t\t\tfor( i in 2...a.length )\n\t\t\t\tif( !enumEq(a[i],b[i]) )\n\t\t\t\t\treturn false;\n\t\t\tvar e = a.__enum__;\n\t\t\tif( e != b.__enum__ || e == null )\n\t\t\t\treturn false;\n\t\t} catch( e : Dynamic ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic inline static function enumConstructor( e : EnumValue ) : String {\n\t\treturn untyped e[0];\n\t}\n\n\tpublic inline static function enumParameters( e : EnumValue ) : Array<Dynamic> {\n\t\treturn untyped e.slice(2);\n\t}\n\n\tpublic inline static function enumIndex( e : EnumValue ) : Int {\n\t\treturn untyped e[1];\n\t}\n\n\tpublic inline static function allEnums<T>( e : Enum<T> ) : Array<T> {\n\t\treturn untyped __define_feature__(\"Type.allEnums\", e.__empty_constructs__);\n\t}\n\n}\n\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tXml node types.\n\n\t@see https://haxe.org/manual/std-Xml.html\n**/\n@:enum abstract XmlType(Int) {\n\t/**\n\t\tRepresents an XML element type.\n\t**/\n\tvar Element = 0;\n\t/**\n\t\tRepresents XML parsed character data type.\n\t**/\n\tvar PCData = 1;\n\t/**\n\t\tRepresents XML character data type.\n\t**/\n\tvar CData = 2;\n\t/**\n\t\tRepresents an XML comment type.\n\t**/\n\tvar Comment = 3;\n\t/**\n\t\tRepresents an XML doctype element type.\n\t**/\n\tvar DocType = 4;\n\t/**\n\t \tRepresents an XML processing instruction type.\n\t**/\n\tvar ProcessingInstruction = 5;\n\t/**\n\t\tRepresents an XML document type.\n\t**/\n\tvar Document = 6;\n}\n\n/**\n\tCross-platform Xml API.\n\n\t@see https://haxe.org/manual/std-Xml.html\n**/\nclass Xml {\n\t/**\n\t\tXML element type.\n\t**/\n\tstatic public var Element(default,never) = XmlType.Element;\n\t/**\n\t\tXML parsed character data type.\n\t**/\n\tstatic public var PCData(default,never) = XmlType.PCData;\n\t/**\n\t\tXML character data type.\n\t**/\n\tstatic public var CData(default,never) = XmlType.CData;\n\t/**\n\t\tXML comment type.\n\t**/\n\tstatic public var Comment(default,never) = XmlType.Comment;\n\t/**\n\t\tXML doctype element type.\n\t**/\n\tstatic public var DocType(default,never) = XmlType.DocType;\n\t/**\n\t \tXML processing instruction type.\n\t**/\n\tstatic public var ProcessingInstruction(default,never) = XmlType.ProcessingInstruction;\n\t/**\n\t\tXML document type.\n\t**/\n\tstatic public var Document(default,never) = XmlType.Document;\n\n\t/**\n\t\tParses the String into an Xml document.\n\t**/\n\tstatic public function parse( str : String ) : Xml {\n\t\treturn haxe.xml.Parser.parse(str);\n\t}\n\n\t/**\n\t\tReturns the type of the Xml Node. This should be used before\n\t\taccessing other functions since some might raise an exception\n\t\tif the node type is not correct.\n\t**/\n\tpublic var nodeType(default, null) : XmlType;\n\n\t/**\n\t\tReturns the node name of an Element.\n\t**/\n\t@:isVar public var nodeName(get, set) : String;\n\n\t/**\n\t\tReturns the node value. Only works if the Xml node is not an Element or a Document.\n\t**/\n\t@:isVar public var nodeValue(get, set) : String;\n\n\t/**\n\t\tReturns the parent object in the Xml hierarchy.\n\t\tThe parent can be `null`, an Element or a Document.\n\t**/\n\tpublic var parent(default, null) : Xml;\n\n\tvar children:Array<Xml>;\n\tvar attributeMap:Map<String, String>;\n\n\t#if !cppia inline #end function get_nodeName() {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn nodeName;\n\t}\n\n\t#if !cppia inline #end function set_nodeName(v) {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn this.nodeName = v;\n\t}\n\n\t#if !cppia inline #end function get_nodeValue() {\n\t\tif (nodeType == Document || nodeType == Element) {\n\t\t\tthrow 'Bad node type, unexpected $nodeType';\n\t\t}\n\t\treturn nodeValue;\n\t}\n\n\t#if !cppia inline #end function set_nodeValue(v) {\n\t\tif (nodeType == Document || nodeType == Element) {\n\t\t\tthrow 'Bad node type, unexpected $nodeType';\n\t\t}\n\t\treturn this.nodeValue = v;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createElement( name : String ) : Xml {\n\t\tvar xml = new Xml(Element);\n\t\txml.nodeName = name;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createPCData( data : String ) : Xml {\n\t\tvar xml = new Xml(PCData);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createCData( data : String ) : Xml {\n\t\tvar xml = new Xml(CData);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createComment( data : String ) : Xml {\n\t\tvar xml = new Xml(Comment);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createDocType( data : String ) : Xml {\n\t\tvar xml = new Xml(DocType);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createProcessingInstruction( data : String ) : Xml {\n\t\tvar xml = new Xml(ProcessingInstruction);\n\t\txml.nodeValue = data;\n\t\treturn xml;\n\t}\n\n\t/**\n\t\tCreates a node of the given type.\n\t**/\n\tstatic public function createDocument() : Xml {\n\t\treturn new Xml(Document);\n\t}\n\n\t/**\n\t\tGet the given attribute of an Element node. Returns `null` if not found.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function get( att : String ) : String {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn attributeMap[att];\n\t}\n\n\t/**\n\t\tSet the given attribute value for an Element node.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function set( att : String, value : String ) : Void {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\tattributeMap.set(att, value);\n\t}\n\n\t/**\n\t\tRemoves an attribute for an Element node.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function remove( att : String ) : Void {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\tattributeMap.remove(att);\n\t}\n\n\t/**\n\t\tTells if the Element node has a given attribute.\n\t\tAttributes are case-sensitive.\n\t**/\n\tpublic function exists( att : String ) : Bool {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn attributeMap.exists(att);\n\t}\n\n\t/**\n\t\tReturns an `Iterator` on all the attribute names.\n\t**/\n\tpublic function attributes() : Iterator<String> {\n\t\tif (nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element but found $nodeType';\n\t\t}\n\t\treturn attributeMap.keys();\n\t}\n\n\t/**\n\t\tReturns an iterator of all child nodes.\n\t\tOnly works if the current node is an Element or a Document.\n\t**/\n\tpublic #if !cppia inline #end function iterator() : Iterator<Xml> {\n\t\tensureElementType();\n\t\treturn children.iterator();\n\t}\n\n\t/**\n\t\tReturns an iterator of all child nodes which are Elements.\n\t\tOnly works if the current node is an Element or a Document.\n\t**/\n\tpublic function elements() : Iterator<Xml> {\n\t\tensureElementType();\n\t\tvar ret = [for (child in children) if (child.nodeType == Element) child];\n\t\treturn ret.iterator();\n\t}\n\n\t/**\n\t\tReturns an iterator of all child nodes which are Elements with the given nodeName.\n\t\tOnly works if the current node is an Element or a Document.\n\t**/\n\tpublic function elementsNamed( name : String ) : Iterator<Xml> {\n\t\tensureElementType();\n\t\tvar ret = [for (child in children) if (child.nodeType == Element && child.nodeName == name) child];\n\t\treturn ret.iterator();\n\t}\n\n\t/**\n\t\tReturns the first child node.\n\t**/\n\tpublic #if !cppia inline #end function firstChild() : Xml {\n\t\tensureElementType();\n\t\treturn children[0];\n\t}\n\n\t/**\n\t\tReturns the first child node which is an Element.\n\t**/\n\tpublic function firstElement() : Xml {\n\t\tensureElementType();\n\t\tfor (child in children) {\n\t\t\tif (child.nodeType == Element) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t\tAdds a child node to the Document or Element.\n\t\tA child node can only be inside one given parent node, which is indicated by the `parent` property.\n\t\tIf the child is already inside this Document or Element, it will be moved to the last position among the Document or Element's children.\n\t\tIf the child node was previously inside a different node, it will be moved to this Document or Element.\n\t**/\n\tpublic function addChild( x : Xml ) : Void {\n\t\tensureElementType();\n\t\tif (x.parent != null) {\n\t\t\tx.parent.removeChild(x);\n\t\t}\n\t\tchildren.push(x);\n\t\tx.parent = this;\n\t}\n\n\t/**\n\t\tRemoves a child from the Document or Element.\n\t\tReturns true if the child was successfuly removed.\n\t**/\n\tpublic function removeChild( x : Xml ) : Bool {\n\t\tensureElementType();\n\t\tif (children.remove(x)) {\n\t\t\tx.parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t\tInserts a child at the given position among the other childs.\n\t\tA child node can only be inside one given parent node, which is indicated by the [parent] property.\n\t\tIf the child is already inside this Document or Element, it will be moved to the new position among the Document or Element's children.\n\t\tIf the child node was previously inside a different node, it will be moved to this Document or Element.\n\t**/\n\tpublic function insertChild( x : Xml, pos : Int ) : Void {\n\t\tensureElementType();\n\t\tif (x.parent != null) {\n\t\t\tx.parent.children.remove(x);\n\t\t}\n\t\tchildren.insert(pos, x);\n\t\tx.parent = this;\n\t}\n\n\t/**\n\t\tReturns a String representation of the Xml node.\n\t**/\n\tpublic #if !cppia inline #end function toString() : String {\n\t\treturn haxe.xml.Printer.print(this);\n\t}\n\n\tfunction new(nodeType:XmlType) {\n\t\tthis.nodeType = nodeType;\n\t\tchildren = [];\n\t\tattributeMap = new Map();\n\t}\n\n\tinline function ensureElementType() {\n\t\tif (nodeType != Document && nodeType != Element) {\n\t\t\tthrow 'Bad node type, expected Element or Document but found $nodeType';\n\t\t}\n\t}\n}\n","package cc.lets;\n\nclass Easing {\n\tstatic inline public function linear(v:Float):Float {\n\t\treturn v;\n\t}\n\n\tstatic inline public function quad(v:Float):Float {\n\t\treturn v * v;\n\t}\n\n\tstatic inline public function cubic(v:Float):Float {\n\t\treturn v * v * v;\n\t}\n\n\tstatic inline public function quart(v:Float):Float {\n\t\treturn v * v * v;\n\t}\n\n\tstatic inline public function quint(v:Float):Float {\n\t\treturn v * v * v;\n\t}\n\n\tstatic inline public function sine(v:Float):Float {\n\t\treturn 1 - Math.cos(v * Math.PI / 2);\n\t}\n\n\tstatic inline public function circ(v:Float):Float {\n\t\treturn 1 - Math.sqrt(1 - v * v);\n\t}\n\n\tstatic inline public function expo(v:Float):Float {\n\t\treturn (v == 0) ? 0 : Math.pow(2, 10 * (v - 1));\n\t}\n\n\tstatic inline public function back(v:Float):Float {\n\t\tvar s = 1.70158;\n\t\treturn v * v * ((s + 1) * v - s);\n\t}\n\n\tstatic inline public function bounce(v:Float):Float {\n\t\tv = 1 - v;\n\t\treturn 1 - if (v < (1 / 2.75)) (7.5625 * v * v)\n\t\telse if (v < (2 / 2.75)) (7.5625 * (v -= (1.5 / 2.75)) * v + .75)\n\t\telse if (v < (2.5 / 2.75)) (7.5625 * (v -= (2.25 / 2.75)) * v + .9375)\n\t\telse\n\t\t\t(7.5625 * (v -= (2.625 / 2.75)) * v + .984375);\n\t}\n\n\tstatic inline public function elastic(v:Float):Float {\n\t\tif (v == 0)\n\t\t\treturn 0;\n\t\tif (v == 1)\n\t\t\treturn 1;\n\t\tvar p = .3;\n\t\tvar s = p / 4;\n\n\t\treturn -(Math.pow(2, 10 * (v -= 1)) * Math.sin((v - 0.075) * (2 * Math.PI) / 0.3));\n\t}\n\n\tstatic public function reverse(f:Float->Float):Float->Float {\n\t\treturn function(v:Float):Float {\n\t\t\treturn 1 - f(1 - v);\n\t\t}\n\t}\n\n\tstatic public function reflect(f:Float->Float):Float->Float {\n\t\treturn function(v:Float):Float {\n\t\t\treturn if (v < 0.5) {\n\t\t\t\tf(v * 2) / 2;\n\t\t\t} else {\n\t\t\t\t1 - f(2 - v * 2) / 2;\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * @author Joshua Granick\n * @author Robert Penner / http://www.robertpenner.com/easing_terms_of_use.html\n */\npackage cc.lets.easing;\n\nclass Quad {\n\tstatic public var easeIn(get_easeIn, never):IEasing;\n\tstatic public var easeInOut(get_easeInOut, never):IEasing;\n\tstatic public var easeOut(get_easeOut, never):IEasing;\n\n\tprivate static function get_easeIn():IEasing {\n\t\treturn new QuadEaseIn();\n\t}\n\n\tprivate static function get_easeInOut():IEasing {\n\t\treturn new QuadEaseInOut();\n\t}\n\n\tprivate static function get_easeOut():IEasing {\n\t\treturn new QuadEaseOut();\n\t}\n}\n\nclass QuadEaseIn implements IEasing {\n\tpublic function new() {}\n\n\tpublic function calculate(k:Float):Float {\n\t\treturn k * k;\n\t}\n\n\tpublic function ease(t:Float, b:Float, c:Float, d:Float):Float {\n\t\treturn c * (t /= d) * t + b;\n\t}\n}\n\nclass QuadEaseInOut implements IEasing {\n\tpublic function new() {}\n\n\tpublic function calculate(k:Float):Float {\n\t\tif ((k *= 2) < 1) {\n\t\t\treturn 1 / 2 * k * k;\n\t\t}\n\t\treturn -1 / 2 * ((k - 1) * (k - 3) - 1);\n\t}\n\n\tpublic function ease(t:Float, b:Float, c:Float, d:Float):Float {\n\t\tif ((t /= d / 2) < 1) {\n\t\t\treturn c / 2 * t * t + b;\n\t\t}\n\t\treturn -c / 2 * ((t - 1) * (t - 3) - 1) + b;\n\t}\n}\n\nclass QuadEaseOut implements IEasing {\n\tpublic function new() {}\n\n\tpublic function calculate(k:Float):Float {\n\t\treturn -k * (k - 2);\n\t}\n\n\tpublic function ease(t:Float, b:Float, c:Float, d:Float):Float {\n\t\treturn -c * (t /= d) * (t - 2) + b;\n\t}\n}\n","/**\n * @author Joshua Granick\n * @author Robert Penner / http://www.robertpenner.com/easing_terms_of_use.html\n */\npackage cc.lets.easing;\n\nclass Sine {\n\tstatic public var easeIn(get_easeIn, never):IEasing;\n\tstatic public var easeInOut(get_easeInOut, never):IEasing;\n\tstatic public var easeOut(get_easeOut, never):IEasing;\n\n\tprivate static function get_easeIn():IEasing {\n\t\treturn new SineEaseIn();\n\t}\n\n\tprivate static function get_easeInOut():IEasing {\n\t\treturn new SineEaseInOut();\n\t}\n\n\tprivate static function get_easeOut():IEasing {\n\t\treturn new SineEaseOut();\n\t}\n}\n\nclass SineEaseIn implements IEasing {\n\tpublic function new() {}\n\n\tpublic function calculate(k:Float):Float {\n\t\treturn 1 - Math.cos(k * (Math.PI / 2));\n\t}\n\n\tpublic function ease(t:Float, b:Float, c:Float, d:Float):Float {\n\t\treturn -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t}\n}\n\nclass SineEaseInOut implements IEasing {\n\tpublic function new() {}\n\n\tpublic function calculate(k:Float):Float {\n\t\treturn -(Math.cos(Math.PI * k) - 1) / 2;\n\t}\n\n\tpublic function ease(t:Float, b:Float, c:Float, d:Float):Float {\n\t\treturn -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t}\n}\n\nclass SineEaseOut implements IEasing {\n\tpublic function new() {}\n\n\tpublic function calculate(k:Float):Float {\n\t\treturn Math.sin(k * (Math.PI / 2));\n\t}\n\n\tpublic function ease(t:Float, b:Float, c:Float, d:Float):Float {\n\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t}\n}\n","package cc.model.constants;\n\nimport cc.AST;\n\n/**\n\tA1\t594 x 841 mm\t23.4 x 33.1 in\n\tA2\t420 x 594 mm\t16.5 x 23.4 in\n\tA3\t297 x 420 mm\t11.7 x 16.5 in\n\tA4\t210 x 297 mm\t8.3 x 11.7 in\n\tA5\t148 x 210 mm\t5.8 x 8.3 in\n\tA6\t105 x 148 mm\t4.1 x 5.8 in\n**/\nclass Paper {\n\t// http://www.papersizes.org/a-paper-sizes.htm\n\tpublic static inline var A6:String = 'a6';\n\tpublic static inline var A5:String = 'a5';\n\tpublic static inline var A4:String = 'a4';\n\tpublic static inline var A3:String = 'a3';\n\tpublic static inline var A2:String = 'a2';\n\tpublic static inline var A1:String = 'a1';\n\tpublic static var ARR:Array<String> = [A6, A5, A4, A3, A2, A1];\n\n\t/**\n\t * inPixel\n\t *\n\t * @example\t\tPaper.inPixel(PaperSize.A$)\n\t * @see\n\t *\n\t * @param\n\t *\n\t * @return\n\t */\n\tpublic static function inPixel(papersize:PaperSize):Rectangle {\n\t\tvar rectangle:Rectangle = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t};\n\t\tvar w:Int;\n\t\tvar h:Int;\n\t\tswitch (papersize) {\n\t\t\tcase PaperSize.A1:\n\t\t\t\tw = 594;\n\t\t\t\th = 841; // mm\t23.4 x 33.1 in\n\t\t\tcase PaperSize.A2:\n\t\t\t\tw = 420;\n\t\t\t\th = 594; // mm\t16.5 x 23.4 in\n\t\t\tcase PaperSize.A3:\n\t\t\t\tw = 297;\n\t\t\t\th = 420; // mm\t11.7 x 16.5 in\n\t\t\tcase PaperSize.A4:\n\t\t\t\tw = 210;\n\t\t\t\th = 297; // mm\t8.3 x 11.7 in\n\t\t\tcase PaperSize.A5:\n\t\t\t\tw = 148;\n\t\t\t\th = 210; // mm\t5.8 x 8.3 in\n\t\t\tcase PaperSize.A6:\n\t\t\t\tw = 105;\n\t\t\t\th = 148; // mm\t4.1 x 5.8 in\n\t\t\tdefault:\n\t\t\t\ttrace(\"case '\" + papersize + \"': trace ('\" + papersize + \"');\");\n\t\t}\n\t\trectangle.width = Std.int(mm2pixel(w));\n\t\trectangle.height = Std.int(mm2pixel(h));\n\t\trectangle.x = 0;\n\t\trectangle.y = 0;\n\t\treturn rectangle;\n\t}\n\n\tpublic static function inMM(papersize:String):Rectangle {\n\t\tvar w:Int = 0;\n\t\tvar h:Int = 0;\n\t\tswitch (papersize.toUpperCase()) {\n\t\t\tcase 'A1':\n\t\t\t\tw = 594;\n\t\t\t\th = 841; // mm\t23.4 x 33.1 in\n\t\t\tcase 'A2':\n\t\t\t\tw = 420;\n\t\t\t\th = 594; // mm\t16.5 x 23.4 in\n\t\t\tcase 'A3':\n\t\t\t\tw = 297;\n\t\t\t\th = 420; // mm\t11.7 x 16.5 in\n\t\t\tcase 'A4':\n\t\t\t\tw = 210;\n\t\t\t\th = 297; // mm\t8.3 x 11.7 in\n\t\t\tcase 'A5':\n\t\t\t\tw = 148;\n\t\t\t\th = 210; // mm\t5.8 x 8.3 in\n\t\t\tcase 'A6':\n\t\t\t\tw = 105;\n\t\t\t\th = 148; // mm\t4.1 x 5.8 in\n\t\t\tdefault:\n\t\t\t\ttrace(\"case '\" + papersize + \"': trace ('\" + papersize + \"');\");\n\t\t}\n\t\tvar rectangle = {\n\t\t\twidth: w,\n\t\t\theight: h,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t};\n\t\treturn rectangle;\n\t}\n\n\tpublic static function mm2pixel(value:Float):Float {\n\t\tvar dpi = 72;\n\n\t\t// mm = ( pixels * 25.4 ) / DPI\n\t\t// Width : 10 cm * 300 / 2.54 = 1181 pixels\n\t\t// Height: 15 cm * 300 / 2.54 = 1772 pixels\n\n\t\treturn value * dpi / 25.4;\n\t}\n\n\tpublic static function pixel2mm(value:Float):Float {\n\t\t// mm = ( pixels * 25.4 ) / DPI\n\t\tvar dpi = 72;\n\t\treturn value * 25.4 / dpi;\n\t}\n\n\t/**\n\t * [Description]\n\t * @param mm\n\t * @param dpi\n\t * @return Float\n\t */\n\tpublic static function convertmm2pixel(mm:Float, ?dpi:Int = 72):Float {\n\t\t// mm = ( pixels * 25.4 ) / DPI\n\t\t// Width : 10 cm * 300 / 2.54 = 1181 pixels\n\t\t// Height: 15 cm * 300 / 2.54 = 1772 pixels\n\n\t\treturn (mm * dpi / 25.4);\n\t}\n}\n\ntypedef Rectangle = {\n\t@:optional var _id:Int;\n\t@:optional var x:Int;\n\t@:optional var y:Int;\n\tvar width:Int;\n\tvar height:Int;\n};\n\nenum PaperSize {\n\tA6;\n\tA5;\n\tA4;\n\tA3;\n\tA2;\n\tA1;\n}\n","package cc.tool;\n\nimport js.html.CanvasRenderingContext2D;\nimport js.Browser.*;\nimport js.Browser.window;\nimport cc.util.MathUtil;\n\nusing StringTools;\n\nclass ExportFile {\n\t/**\n\t * [Description]\n\t * @param ctx\n\t * @param isJpg\n\t * @param fileName\n\t */\n\tpublic static function downloadImage(ctx:CanvasRenderingContext2D, ?isJpg:Bool = false, ?fileName:String) {\n\t\tif (fileName == null) {\n\t\t\tvar hash = js.Browser.location.hash;\n\t\t\thash = hash.replace('#', '').toLowerCase();\n\t\t\tif (hash == '')\n\t\t\t\thash = 'image';\n\t\t\tfileName = '${hash}-${Date.now().getTime()}';\n\t\t\t// fileName = 'cc-art-${Date.now().getTime()}';\n\t\t}\n\t\tvar link = document.createAnchorElement();\n\t\tlink.href = ctx.canvas.toDataURL((isJpg) ? 'image/jpeg' : '', 1);\n\t\tlink.download = fileName;\n\t\tlink.click();\n\t}\n\n\t/**\n\t * [Description]\n\t * @param ctx\n\t * @param isJpg\n\t */\n\tpublic static function onBase64Handler(ctx:CanvasRenderingContext2D, ?isJpg:Bool = false) {\n\t\tvar base64 = ctx.canvas.toDataURL((isJpg) ? 'image/jpeg' : '', 1);\n\t\t// var base64 = ctx.toDataURL(); // default png\n\t\tclipboard(base64);\n\t}\n\n\t/**\n\t * Start file download.\n\t * cc.tool.ExportFile.downloadTextFile(\"This is the content of my file :)\", \"hello.txt\");\n\t *\n\t * @param text\n\t * @param fileName\n\t */\n\tpublic static function downloadTextFile(text:String, ?fileName:String) {\n\t\tif (fileName == null)\n\t\t\tfileName = 'CC-txt-${Date.now().getTime()}.txt';\n\n\t\tvar element = document.createElement('a');\n\t\telement.setAttribute('href', 'data:text/plain;charset=utf-8,' + untyped encodeURIComponent(text));\n\t\telement.setAttribute('download', fileName);\n\n\t\telement.style.display = 'none';\n\t\tdocument.body.appendChild(element);\n\n\t\telement.click();\n\n\t\tdocument.body.removeChild(element);\n\t}\n\n\t/**\n\t * [Description]\n\t * @example\n\t * \t\t\tutils.Clipboard.copy('hello');\n\t * @param text \tvalue you want to export (probably base64)\n\t */\n\tpublic static function clipboard(text:String) {\n\t\tvar win = 'Ctrl+C';\n\t\tvar mac = 'Cmd+C';\n\t\tvar copyCombo = win;\n\t\tvar userAgent = untyped js.Browser.navigator.userAgent;\n\t\tvar ereg = new EReg(\"iPhone|iPod|iPad|Android|BlackBerry\", \"i\");\n\t\tvar ismac = ereg.match(userAgent);\n\t\tif (ismac)\n\t\t\tcopyCombo = mac;\n\t\twindow.prompt('Copy to clipboard: $copyCombo, Enter', text);\n\t}\n\n\t/**\n\t * Returns contents of a canvas as a png based data url, with the specified background color\n\t *\n\t * just change the background to white... it really doesn't matter, when exporting a jpg\n\t *\n\t * @param ctx\n\t * @param isJpg\n\t * @param fileName\n\t */\n\tpublic static function downloadImageBg(ctx:CanvasRenderingContext2D, ?isJpg:Bool = false, ?fileName:String) {\n\t\tvar canvas = ctx.canvas;\n\n\t\tif (fileName == null) {\n\t\t\tvar hash = js.Browser.location.hash;\n\t\t\thash = hash.replace('#', '').toLowerCase();\n\t\t\tif (hash == '')\n\t\t\t\thash = 'image';\n\t\t\tfileName = '${hash}-${Date.now().getTime()}';\n\t\t\t// fileName = 'cc-art-${Date.now().getTime()}';\n\t\t}\n\n\t\t// cache height and width\n\t\tvar w = canvas.width;\n\t\tvar h = canvas.height;\n\n\t\t// var ctx = canvas.getctx2d();\n\n\t\tvar data;\n\t\tvar compositeOperation:String;\n\n\t\t// get the current ImageData for the canvas.\n\t\tdata = ctx.getImageData(0, 0, w, h);\n\n\t\t// store the current globalCompositeOperation\n\t\tcompositeOperation = ctx.globalCompositeOperation;\n\n\t\t// set to draw behind current content\n\t\tctx.globalCompositeOperation = \"destination-over\";\n\n\t\t// set background color\n\t\tctx.fillStyle = '#ffffff';\n\n\t\t// draw background / rect on entire canvas\n\t\tctx.fillRect(0, 0, w, h);\n\n\t\t// get the image data from the canvas\n\t\tvar imageData = canvas.toDataURL(\"image/png\");\n\n\t\t// clear the canvas\n\t\tctx.clearRect(0, 0, w, h);\n\n\t\t// restore it with original / cached ImageData\n\t\tctx.putImageData(data, 0, 0);\n\n\t\t// reset the globalCompositeOperation to what it was\n\t\tctx.globalCompositeOperation = compositeOperation;\n\n\t\tvar link = document.createAnchorElement();\n\t\tlink.download = fileName;\n\t\t// not sure how to do this in Haxe, so untyped to the resque\n\t\tif (!untyped HTMLCanvasElement.prototype.toBlob) {\n\t\t\t// trace('There is no blob');\n\t\t\tlink.href = ctx.canvas.toDataURL((isJpg) ? 'image/jpeg' : '', 1);\n\t\t\tlink.click();\n\t\t} else {\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob\n\t\t\t// trace('Attack of the blob');\n\t\t\tctx.canvas.toBlob(function(blob) {\n\t\t\t\tlink.href = js.html.URL.createObjectURL(blob);\n\t\t\t\tlink.click();\n\t\t\t}, (isJpg) ? 'image/jpeg' : '', 1);\n\t\t}\n\t}\n\n\t// ____________________________________ toString() ____________________________________\n\n\tfunction toString():String {\n\t\treturn '[ExportFile]';\n\t}\n}\n","package cc.util;\n\nusing StringTools;\n\ntypedef RGBObject = {\n\tvar r:Int;\n\tvar g:Int;\n\tvar b:Int;\n};\n\ntypedef RGB = {\n\tvar r:Int;\n\tvar g:Int;\n\tvar b:Int;\n};\n\ntypedef RGBA = {\n\tvar r:Int;\n\tvar g:Int;\n\tvar b:Int;\n\tvar a:Float;\n};\n\nclass ColorUtil {\n\tpublic function new() {}\n\n\tstatic public function getColour(r:Int, ?g:Int, ?b:Int, ?a:Float):String {\n\t\tvar c;\n\t\tif (g == null) {\n\t\t\tc = rgb(r, r, r);\n\t\t} else if (b == null && a == null) {\n\t\t\tc = rgba(r, r, r, g);\n\t\t} else if (a == null) {\n\t\t\tc = rgb(r, g, b);\n\t\t} else {\n\t\t\tc = rgba(r, g, b, a);\n\t\t}\n\t\treturn (c);\n\t};\n\n\tstatic public function getColourObj(rgb:RGB, ?a:Float):String {\n\t\treturn getColour(rgb.r, rgb.g, rgb.b, a);\n\t}\n\n\t/**\n\t * use RGB values to create color\n\t * @param r red (max:255, min:0)\n\t * @param g green (max:255, min:0)\n\t * @param b blue (max:255, min:0)\n\t */\n\tstatic public function rgb(r:Int, ?g:Int, ?b:Int):String {\n\t\tif (g == null)\n\t\t\tg = r;\n\t\tif (b == null)\n\t\t\tb = r;\n\t\treturn 'rgb(' + MathUtil.clamp(Math.round(r), 0, 255) + ', ' + MathUtil.clamp(Math.round(g), 0, 255) + ', ' + MathUtil.clamp(Math.round(b), 0, 255)\n\t\t\t+ ')';\n\t};\n\n\tstatic public function rgba(r, ?g, ?b, ?a):String {\n\t\tif (g == null) {\n\t\t\treturn 'rgb(' + MathUtil.clamp(Math.round(r), 0, 255) + ', ' + MathUtil.clamp(Math.round(r), 0, 255) + ', '\n\t\t\t\t+ MathUtil.clamp(Math.round(r), 0, 255) + ')';\n\t\t} else if (b == null) {\n\t\t\treturn 'rgba(' + MathUtil.clamp(Math.round(r), 0, 255) + ', ' + MathUtil.clamp(Math.round(r), 0, 255) + ', '\n\t\t\t\t+ MathUtil.clamp(Math.round(r), 0, 255) + ', ' + MathUtil.clamp(g, 0, 1) + ')';\n\t\t} else if (a == null) {\n\t\t\treturn 'rgba(' + MathUtil.clamp(Math.round(r), 0, 255) + ', ' + MathUtil.clamp(Math.round(g), 0, 255) + ', '\n\t\t\t\t+ MathUtil.clamp(Math.round(b), 0, 255) + ', 1)';\n\t\t} else {\n\t\t\treturn 'rgba(' + MathUtil.clamp(Math.round(r), 0, 255) + ', ' + MathUtil.clamp(Math.round(g), 0, 255) + ', '\n\t\t\t\t+ MathUtil.clamp(Math.round(b), 0, 255) + ', ' + MathUtil.clamp(a, 0, 1) + ')';\n\t\t}\n\t};\n\n\t/**\n\t * [Description]\n\t * @param r\n\t * @param g\n\t * @param b\n\t * @return String\n\t */\n\tpublic static function rgbToHex(r:Int, g:Int, b:Int):String {\n\t\t// r = MathUtil.clamp(Math.round(r), 0, 255);\n\t\t// g = MathUtil.clamp(Math.round(g), 0, 255);\n\t\t// b = MathUtil.clamp(Math.round(b), 0, 255);\n\t\t// var hex = StringTools.hex(r,2)\n\t\treturn StringTools.hex(r, 2) + StringTools.hex(g, 2) + StringTools.hex(b, 2);\n\t}\n\n\tpublic static function rgb2hex(r:Int, g:Int, b:Int, ?a:Int = 255):Int {\n\t\treturn (a << 24) | (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * get a random rgb color\n\t * @return String\n\t */\n\tstatic public function randomColour():String {\n\t\tvar r = MathUtil.randomInt(255);\n\t\tvar g = MathUtil.randomInt(255);\n\t\tvar b = MathUtil.randomInt(255);\n\t\treturn ColorUtil.rgb(r, g, b);\n\t}\n\n\tstatic public function randomColourObject():RGB {\n\t\tvar r = MathUtil.randomInt(255);\n\t\tvar g = MathUtil.randomInt(255);\n\t\tvar b = MathUtil.randomInt(255);\n\t\treturn {\n\t\t\tr: r,\n\t\t\tg: g,\n\t\t\tb: b\n\t\t};\n\t}\n\n\t// public static function hex2css( color : Int ) : String {\n\t// \treturn \"#\" + color.toString(16);\n\t// }\n\n\t/**\n\t *\t@example\t\tvar _color = ColorUtil.hex2rgb(0xff3333);\n\t *\t\t\t\t\ttrace(\"_color.r: \" + _color.r);\n\t *\n\t */\n\t// static function hexToRgb(hex:Int):RGBObject {\n\t// \tvar bigint = parseInt(hex, 16);\n\t// \tvar _r = (bigint >> 16) & 255;\n\t// \tvar _g = (bigint >> 8) & 255;\n\t// \tvar _b = bigint & 255;\n\t// \treturn {r:_r, g:_g, b:_b};\n\t// \t// return r + \",\" + g + \",\" + b;\n\t// }\n\t// http://old.haxe.org/doc/snip/colorconverter\n\tpublic static inline function toRGB(int:Int):RGBObject {\n\t\treturn {\n\t\t\tr: Math.round(((int >> 16) & 255)),\n\t\t\tg: Math.round(((int >> 8) & 255)),\n\t\t\tb: Math.round((int & 255)),\n\t\t}\n\t}\n\n\tpublic static inline function ttoRGB(int:Int):RGB {\n\t\treturn {\n\t\t\tr: ((int >> 16) & 255),\n\t\t\tg: ((int >> 8) & 255),\n\t\t\tb: (int & 255),\n\t\t}\n\t}\n\n\t/**\n\t * all different options that html colors can be converted to.\n\t *\n\t * this is only tested with\n\t * \t- 'rgb(0, 200, 255)'\n\t * \t- 'rgba(0, 200, 255, 1)' // but rgba doesntwork\n\t *\n\t * @param value\n\t * @return RGBA\n\t */\n\tpublic static inline function assumption(value:String):RGBA {\n\t\tvar _r:Int = 0;\n\t\tvar _g:Int = 0;\n\t\tvar _b:Int = 0;\n\t\tvar _a:Float = 1;\n\t\tvalue = value.replace(' ', ''); // remove spaces\n\n\t\tif (value.indexOf('rgba') != -1) {\n\t\t\tvalue = value.replace('rgba(', '').replace(')', '');\n\t\t\tvar arr = value.split(',');\n\t\t\t_r = cast arr[0];\n\t\t\t_g = cast arr[1];\n\t\t\t_b = cast arr[2];\n\t\t\t_a = cast arr[3];\n\t\t} else if (value.indexOf('rgb') != -1) {\n\t\t\tvalue = value.replace('rgb(', '').replace(')', '');\n\t\t\tvar arr = value.split(',');\n\t\t\t_r = cast arr[0];\n\t\t\t_g = cast arr[1];\n\t\t\t_b = cast arr[2];\n\t\t} else if (value.indexOf('#') != -1) {\n\t\t\t// value = value.replace('#', '');\n\t\t\tvar rgb = hex2RGB(value);\n\t\t\t_r = rgb.r;\n\t\t\t_g = rgb.g;\n\t\t\t_b = rgb.b;\n\t\t}\n\t\treturn {\n\t\t\tr: _r,\n\t\t\tg: _g,\n\t\t\tb: _b,\n\t\t\ta: _a,\n\t\t}\n\t}\n\n\t/**\n\t * convert a hex value to a RGB type\n\t *\n\t * @example \tvar rgb:RBG = ColorUtil.hex2RGB('#ff3333'); //  {r:255, g:0, b:0};\n\t *\n\t * @param hex \tstring\n\t * @return RGB\n\t */\n\tpublic static inline function hex2RGB(hex:String):RGB {\n\t\tvar int = Std.parseInt(hex.replace('#', '0x'));\n\t\treturn {\n\t\t\tr: ((int >> 16) & 255),\n\t\t\tg: ((int >> 8) & 255),\n\t\t\tb: (int & 255),\n\t\t}\n\t}\n\n\t// public static var BLACK : RGBObject = {r:0, g:0, b:0};\n\t// public static var WHITE : RGBObject = {r:255, g:255, b:255};\n\t// public static var RED : RGBObject = {r:255, g:0, b:0};\n\t// https://clrs.cc/\n\tpublic static var NAVY:RGBObject = toRGB(0x001f3f);\n\tpublic static var BLUE:RGBObject = toRGB(0x0074D9);\n\tpublic static var AQUA:RGBObject = toRGB(0x7FDBFF);\n\tpublic static var TEAL:RGBObject = toRGB(0x39CCCC);\n\tpublic static var OLIVE:RGBObject = toRGB(0x3D9970);\n\tpublic static var GREEN:RGBObject = toRGB(0x2ECC40);\n\tpublic static var LIME:RGBObject = toRGB(0x01FF70);\n\tpublic static var YELLOW:RGBObject = toRGB(0xFFDC00);\n\tpublic static var ORANGE:RGBObject = toRGB(0xFF851B);\n\tpublic static var RED:RGBObject = toRGB(0xFF4136);\n\tpublic static var MAROON:RGBObject = toRGB(0x85144b);\n\tpublic static var FUCHSIA:RGBObject = toRGB(0xF012BE);\n\tpublic static var PURPLE:RGBObject = toRGB(0xB10DC9);\n\tpublic static var BLACK:RGBObject = toRGB(0x111111);\n\tpublic static var GRAY:RGBObject = toRGB(0xAAAAAA);\n\tpublic static var SILVER:RGBObject = toRGB(0xDDDDDD);\n\tpublic static var WHITE:RGBObject = toRGB(0xFFFFFF);\n\t// [mck] my favourite debug color\n\tpublic static var PINK:RGBObject = toRGB(0xFF1493); // deeppink\n\tpublic static var PINK_DEEP:RGBObject = toRGB(0xFF1493); // deeppink\n\tpublic static var PINK_HOT:RGBObject = toRGB(0xff69B4); // hotpink\n\t// 500 and 1000 are to big for most ide... but do you really need that much color combinations?\n\tpublic static var niceColor100:Array<Array<String>> = [\n\t\t[\"#69d2e7\", \"#a7dbd8\", \"#e0e4cc\", \"#f38630\", \"#fa6900\"], [\"#fe4365\", \"#fc9d9a\", \"#f9cdad\", \"#c8c8a9\", \"#83af9b\"],\n\t\t[\"#ecd078\", \"#d95b43\", \"#c02942\", \"#542437\", \"#53777a\"], [\"#556270\", \"#4ecdc4\", \"#c7f464\", \"#ff6b6b\", \"#c44d58\"],\n\t\t[\"#774f38\", \"#e08e79\", \"#f1d4af\", \"#ece5ce\", \"#c5e0dc\"], [\"#e8ddcb\", \"#cdb380\", \"#036564\", \"#033649\", \"#031634\"],\n\t\t[\"#490a3d\", \"#bd1550\", \"#e97f02\", \"#f8ca00\", \"#8a9b0f\"], [\"#594f4f\", \"#547980\", \"#45ada8\", \"#9de0ad\", \"#e5fcc2\"],\n\t\t[\"#00a0b0\", \"#6a4a3c\", \"#cc333f\", \"#eb6841\", \"#edc951\"], [\"#e94e77\", \"#d68189\", \"#c6a49a\", \"#c6e5d9\", \"#f4ead5\"],\n\t\t[\"#3fb8af\", \"#7fc7af\", \"#dad8a7\", \"#ff9e9d\", \"#ff3d7f\"], [\"#d9ceb2\", \"#948c75\", \"#d5ded9\", \"#7a6a53\", \"#99b2b7\"],\n\t\t[\"#ffffff\", \"#cbe86b\", \"#f2e9e1\", \"#1c140d\", \"#cbe86b\"], [\"#efffcd\", \"#dce9be\", \"#555152\", \"#2e2633\", \"#99173c\"],\n\t\t[\"#343838\", \"#005f6b\", \"#008c9e\", \"#00b4cc\", \"#00dffc\"], [\"#413e4a\", \"#73626e\", \"#b38184\", \"#f0b49e\", \"#f7e4be\"],\n\t\t[\"#ff4e50\", \"#fc913a\", \"#f9d423\", \"#ede574\", \"#e1f5c4\"], [\"#99b898\", \"#fecea8\", \"#ff847c\", \"#e84a5f\", \"#2a363b\"],\n\t\t[\"#655643\", \"#80bca3\", \"#f6f7bd\", \"#e6ac27\", \"#bf4d28\"], [\"#00a8c6\", \"#40c0cb\", \"#f9f2e7\", \"#aee239\", \"#8fbe00\"],\n\t\t[\"#351330\", \"#424254\", \"#64908a\", \"#e8caa4\", \"#cc2a41\"], [\"#554236\", \"#f77825\", \"#d3ce3d\", \"#f1efa5\", \"#60b99a\"],\n\t\t[\"#ff9900\", \"#424242\", \"#e9e9e9\", \"#bcbcbc\", \"#3299bb\"], [\"#5d4157\", \"#838689\", \"#a8caba\", \"#cad7b2\", \"#ebe3aa\"],\n\t\t[\"#8c2318\", \"#5e8c6a\", \"#88a65e\", \"#bfb35a\", \"#f2c45a\"], [\"#fad089\", \"#ff9c5b\", \"#f5634a\", \"#ed303c\", \"#3b8183\"],\n\t\t[\"#ff4242\", \"#f4fad2\", \"#d4ee5e\", \"#e1edb9\", \"#f0f2eb\"], [\"#d1e751\", \"#ffffff\", \"#000000\", \"#4dbce9\", \"#26ade4\"],\n\t\t[\"#f8b195\", \"#f67280\", \"#c06c84\", \"#6c5b7b\", \"#355c7d\"], [\"#1b676b\", \"#519548\", \"#88c425\", \"#bef202\", \"#eafde6\"],\n\t\t[\"#bcbdac\", \"#cfbe27\", \"#f27435\", \"#f02475\", \"#3b2d38\"], [\"#5e412f\", \"#fcebb6\", \"#78c0a8\", \"#f07818\", \"#f0a830\"],\n\t\t[\"#452632\", \"#91204d\", \"#e4844a\", \"#e8bf56\", \"#e2f7ce\"], [\"#eee6ab\", \"#c5bc8e\", \"#696758\", \"#45484b\", \"#36393b\"],\n\t\t[\"#f0d8a8\", \"#3d1c00\", \"#86b8b1\", \"#f2d694\", \"#fa2a00\"], [\"#f04155\", \"#ff823a\", \"#f2f26f\", \"#fff7bd\", \"#95cfb7\"],\n\t\t[\"#2a044a\", \"#0b2e59\", \"#0d6759\", \"#7ab317\", \"#a0c55f\"], [\"#bbbb88\", \"#ccc68d\", \"#eedd99\", \"#eec290\", \"#eeaa88\"],\n\t\t[\"#b9d7d9\", \"#668284\", \"#2a2829\", \"#493736\", \"#7b3b3b\"], [\"#b3cc57\", \"#ecf081\", \"#ffbe40\", \"#ef746f\", \"#ab3e5b\"],\n\t\t[\"#a3a948\", \"#edb92e\", \"#f85931\", \"#ce1836\", \"#009989\"], [\"#67917a\", \"#170409\", \"#b8af03\", \"#ccbf82\", \"#e33258\"],\n\t\t[\"#e8d5b7\", \"#0e2430\", \"#fc3a51\", \"#f5b349\", \"#e8d5b9\"], [\"#aab3ab\", \"#c4cbb7\", \"#ebefc9\", \"#eee0b7\", \"#e8caaf\"],\n\t\t[\"#300030\", \"#480048\", \"#601848\", \"#c04848\", \"#f07241\"], [\"#ab526b\", \"#bca297\", \"#c5ceae\", \"#f0e2a4\", \"#f4ebc3\"],\n\t\t[\"#607848\", \"#789048\", \"#c0d860\", \"#f0f0d8\", \"#604848\"], [\"#a8e6ce\", \"#dcedc2\", \"#ffd3b5\", \"#ffaaa6\", \"#ff8c94\"],\n\t\t[\"#3e4147\", \"#fffedf\", \"#dfba69\", \"#5a2e2e\", \"#2a2c31\"], [\"#b6d8c0\", \"#c8d9bf\", \"#dadabd\", \"#ecdbbc\", \"#fedcba\"],\n\t\t[\"#fc354c\", \"#29221f\", \"#13747d\", \"#0abfbc\", \"#fcf7c5\"], [\"#1c2130\", \"#028f76\", \"#b3e099\", \"#ffeaad\", \"#d14334\"],\n\t\t[\"#edebe6\", \"#d6e1c7\", \"#94c7b6\", \"#403b33\", \"#d3643b\"], [\"#cc0c39\", \"#e6781e\", \"#c8cf02\", \"#f8fcc1\", \"#1693a7\"],\n\t\t[\"#dad6ca\", \"#1bb0ce\", \"#4f8699\", \"#6a5e72\", \"#563444\"], [\"#a7c5bd\", \"#e5ddcb\", \"#eb7b59\", \"#cf4647\", \"#524656\"],\n\t\t[\"#fdf1cc\", \"#c6d6b8\", \"#987f69\", \"#e3ad40\", \"#fcd036\"], [\"#5c323e\", \"#a82743\", \"#e15e32\", \"#c0d23e\", \"#e5f04c\"],\n\t\t[\"#230f2b\", \"#f21d41\", \"#ebebbc\", \"#bce3c5\", \"#82b3ae\"], [\"#b9d3b0\", \"#81bda4\", \"#b28774\", \"#f88f79\", \"#f6aa93\"],\n\t\t[\"#3a111c\", \"#574951\", \"#83988e\", \"#bcdea5\", \"#e6f9bc\"], [\"#5e3929\", \"#cd8c52\", \"#b7d1a3\", \"#dee8be\", \"#fcf7d3\"],\n\t\t[\"#1c0113\", \"#6b0103\", \"#a30006\", \"#c21a01\", \"#f03c02\"], [\"#382f32\", \"#ffeaf2\", \"#fcd9e5\", \"#fbc5d8\", \"#f1396d\"],\n\t\t[\"#e3dfba\", \"#c8d6bf\", \"#93ccc6\", \"#6cbdb5\", \"#1a1f1e\"], [\"#000000\", \"#9f111b\", \"#b11623\", \"#292c37\", \"#cccccc\"],\n\t\t[\"#c1b398\", \"#605951\", \"#fbeec2\", \"#61a6ab\", \"#accec0\"], [\"#8dccad\", \"#988864\", \"#fea6a2\", \"#f9d6ac\", \"#ffe9af\"],\n\t\t[\"#f6f6f6\", \"#e8e8e8\", \"#333333\", \"#990100\", \"#b90504\"], [\"#1b325f\", \"#9cc4e4\", \"#e9f2f9\", \"#3a89c9\", \"#f26c4f\"],\n\t\t[\"#5e9fa3\", \"#dcd1b4\", \"#fab87f\", \"#f87e7b\", \"#b05574\"], [\"#951f2b\", \"#f5f4d7\", \"#e0dfb1\", \"#a5a36c\", \"#535233\"],\n\t\t[\"#413d3d\", \"#040004\", \"#c8ff00\", \"#fa023c\", \"#4b000f\"], [\"#eff3cd\", \"#b2d5ba\", \"#61ada0\", \"#248f8d\", \"#605063\"],\n\t\t[\"#2d2d29\", \"#215a6d\", \"#3ca2a2\", \"#92c7a3\", \"#dfece6\"], [\"#cfffdd\", \"#b4dec1\", \"#5c5863\", \"#a85163\", \"#ff1f4c\"],\n\t\t[\"#4e395d\", \"#827085\", \"#8ebe94\", \"#ccfc8e\", \"#dc5b3e\"], [\"#9dc9ac\", \"#fffec7\", \"#f56218\", \"#ff9d2e\", \"#919167\"],\n\t\t[\"#a1dbb2\", \"#fee5ad\", \"#faca66\", \"#f7a541\", \"#f45d4c\"], [\"#ffefd3\", \"#fffee4\", \"#d0ecea\", \"#9fd6d2\", \"#8b7a5e\"],\n\t\t[\"#a8a7a7\", \"#cc527a\", \"#e8175d\", \"#474747\", \"#363636\"], [\"#ffedbf\", \"#f7803c\", \"#f54828\", \"#2e0d23\", \"#f8e4c1\"],\n\t\t[\"#f8edd1\", \"#d88a8a\", \"#474843\", \"#9d9d93\", \"#c5cfc6\"], [\"#f38a8a\", \"#55443d\", \"#a0cab5\", \"#cde9ca\", \"#f1edd0\"],\n\t\t[\"#4e4d4a\", \"#353432\", \"#94ba65\", \"#2790b0\", \"#2b4e72\"], [\"#0ca5b0\", \"#4e3f30\", \"#fefeeb\", \"#f8f4e4\", \"#a5b3aa\"],\n\t\t[\"#a70267\", \"#f10c49\", \"#fb6b41\", \"#f6d86b\", \"#339194\"], [\"#9d7e79\", \"#ccac95\", \"#9a947c\", \"#748b83\", \"#5b756c\"],\n\t\t[\"#edf6ee\", \"#d1c089\", \"#b3204d\", \"#412e28\", \"#151101\"], [\"#046d8b\", \"#309292\", \"#2fb8ac\", \"#93a42a\", \"#ecbe13\"],\n\t\t[\"#4d3b3b\", \"#de6262\", \"#ffb88c\", \"#ffd0b3\", \"#f5e0d3\"], [\"#fffbb7\", \"#a6f6af\", \"#66b6ab\", \"#5b7c8d\", \"#4f2958\"],\n\t\t[\"#ff003c\", \"#ff8a00\", \"#fabe28\", \"#88c100\", \"#00c176\"], [\"#fcfef5\", \"#e9ffe1\", \"#cdcfb7\", \"#d6e6c3\", \"#fafbe3\"],\n\t\t[\"#9cddc8\", \"#bfd8ad\", \"#ddd9ab\", \"#f7af63\", \"#633d2e\"], [\"#30261c\", \"#403831\", \"#36544f\", \"#1f5f61\", \"#0b8185\"],\n\t\t[\"#d1313d\", \"#e5625c\", \"#f9bf76\", \"#8eb2c5\", \"#615375\"], [\"#ffe181\", \"#eee9e5\", \"#fad3b2\", \"#ffba7f\", \"#ff9c97\"],\n\t\t[\"#aaff00\", \"#ffaa00\", \"#ff00aa\", \"#aa00ff\", \"#00aaff\"], [\"#c2412d\", \"#d1aa34\", \"#a7a844\", \"#a46583\", \"#5a1e4a\"]\n\t];\n\tpublic static var niceColor100SortedString:Array<Array<String>> = [\n\t\t[\"#E0E4CC\", \"#A7DBD8\", \"#69D2E7\", \"#F38630\", \"#FA6900\"], [\"#F9CDAD\", \"#C8C8A9\", \"#FC9D9A\", \"#83AF9B\", \"#FE4365\"],\n\t\t[\"#ECD078\", \"#D95B43\", \"#53777A\", \"#C02942\", \"#542437\"], [\"#C7F464\", \"#4ECDC4\", \"#FF6B6B\", \"#C44D58\", \"#556270\"],\n\t\t[\"#ECE5CE\", \"#F1D4AF\", \"#C5E0DC\", \"#E08E79\", \"#774F38\"], [\"#E8DDCB\", \"#CDB380\", \"#036564\", \"#033649\", \"#031634\"],\n\t\t[\"#F8CA00\", \"#E97F02\", \"#8A9B0F\", \"#BD1550\", \"#490A3D\"], [\"#E5FCC2\", \"#9DE0AD\", \"#45ADA8\", \"#547980\", \"#594F4F\"],\n\t\t[\"#EDC951\", \"#EB6841\", \"#00A0B0\", \"#CC333F\", \"#6A4A3C\"], [\"#F4EAD5\", \"#C6E5D9\", \"#C6A49A\", \"#D68189\", \"#E94E77\"],\n\t\t[\"#DAD8A7\", \"#FF9E9D\", \"#7FC7AF\", \"#3FB8AF\", \"#FF3D7F\"], [\"#D5DED9\", \"#D9CEB2\", \"#99B2B7\", \"#948C75\", \"#7A6A53\"],\n\t\t[\"#FFFFFF\", \"#F2E9E1\", \"#CBE86B\", \"#CBE86B\", \"#1C140D\"], [\"#EFFFCD\", \"#DCE9BE\", \"#555152\", \"#99173C\", \"#2E2633\"],\n\t\t[\"#00DFFC\", \"#00B4CC\", \"#008C9E\", \"#005F6B\", \"#343838\"], [\"#F7E4BE\", \"#F0B49E\", \"#B38184\", \"#73626E\", \"#413E4A\"],\n\t\t[\"#E1F5C4\", \"#EDE574\", \"#F9D423\", \"#FC913A\", \"#FF4E50\"], [\"#FECEA8\", \"#99B898\", \"#FF847C\", \"#E84A5F\", \"#2A363B\"],\n\t\t[\"#F6F7BD\", \"#E6AC27\", \"#80BCA3\", \"#BF4D28\", \"#655643\"], [\"#F9F2E7\", \"#AEE239\", \"#40C0CB\", \"#8FBE00\", \"#00A8C6\"],\n\t\t[\"#E8CAA4\", \"#64908A\", \"#CC2A41\", \"#424254\", \"#351330\"], [\"#F1EFA5\", \"#D3CE3D\", \"#60B99A\", \"#F77825\", \"#554236\"],\n\t\t[\"#E9E9E9\", \"#BCBCBC\", \"#FF9900\", \"#3299BB\", \"#424242\"], [\"#EBE3AA\", \"#CAD7B2\", \"#A8CABA\", \"#838689\", \"#5D4157\"],\n\t\t[\"#F2C45A\", \"#BFB35A\", \"#88A65E\", \"#5E8C6A\", \"#8C2318\"], [\"#FAD089\", \"#FF9C5B\", \"#F5634A\", \"#3B8183\", \"#ED303C\"],\n\t\t[\"#F4FAD2\", \"#F0F2EB\", \"#E1EDB9\", \"#D4EE5E\", \"#FF4242\"], [\"#FFFFFF\", \"#D1E751\", \"#4DBCE9\", \"#26ADE4\", \"#000000\"],\n\t\t[\"#F8B195\", \"#F67280\", \"#C06C84\", \"#6C5B7B\", \"#355C7D\"], [\"#EAFDE6\", \"#BEF202\", \"#88C425\", \"#519548\", \"#1B676B\"],\n\t\t[\"#BCBDAC\", \"#CFBE27\", \"#F27435\", \"#F02475\", \"#3B2D38\"], [\"#FCEBB6\", \"#F0A830\", \"#78C0A8\", \"#F07818\", \"#5E412F\"],\n\t\t[\"#E2F7CE\", \"#E8BF56\", \"#E4844A\", \"#91204D\", \"#452632\"], [\"#EEE6AB\", \"#C5BC8E\", \"#696758\", \"#45484B\", \"#36393B\"],\n\t\t[\"#F0D8A8\", \"#F2D694\", \"#86B8B1\", \"#FA2A00\", \"#3D1C00\"], [\"#FFF7BD\", \"#F2F26F\", \"#95CFB7\", \"#FF823A\", \"#F04155\"],\n\t\t[\"#A0C55F\", \"#7AB317\", \"#0D6759\", \"#0B2E59\", \"#2A044A\"], [\"#EEDD99\", \"#EEC290\", \"#CCC68D\", \"#EEAA88\", \"#BBBB88\"],\n\t\t[\"#B9D7D9\", \"#668284\", \"#7B3B3B\", \"#493736\", \"#2A2829\"], [\"#ECF081\", \"#FFBE40\", \"#B3CC57\", \"#EF746F\", \"#AB3E5B\"],\n\t\t[\"#EDB92E\", \"#A3A948\", \"#F85931\", \"#009989\", \"#CE1836\"], [\"#CCBF82\", \"#B8AF03\", \"#67917A\", \"#E33258\", \"#170409\"],\n\t\t[\"#E8D5B9\", \"#E8D5B7\", \"#F5B349\", \"#FC3A51\", \"#0E2430\"], [\"#EBEFC9\", \"#EEE0B7\", \"#E8CAAF\", \"#C4CBB7\", \"#AAB3AB\"],\n\t\t[\"#F07241\", \"#C04848\", \"#601848\", \"#480048\", \"#300030\"], [\"#F4EBC3\", \"#F0E2A4\", \"#C5CEAE\", \"#BCA297\", \"#AB526B\"],\n\t\t[\"#F0F0D8\", \"#C0D860\", \"#789048\", \"#607848\", \"#604848\"], [\"#DCEDC2\", \"#FFD3B5\", \"#A8E6CE\", \"#FFAAA6\", \"#FF8C94\"],\n\t\t[\"#FFFEDF\", \"#DFBA69\", \"#3E4147\", \"#5A2E2E\", \"#2A2C31\"], [\"#FEDCBA\", \"#ECDBBC\", \"#DADABD\", \"#C8D9BF\", \"#B6D8C0\"],\n\t\t[\"#FCF7C5\", \"#0ABFBC\", \"#FC354C\", \"#13747D\", \"#29221F\"], [\"#FFEAAD\", \"#B3E099\", \"#D14334\", \"#028F76\", \"#1C2130\"],\n\t\t[\"#EDEBE6\", \"#D6E1C7\", \"#94C7B6\", \"#D3643B\", \"#403B33\"], [\"#F8FCC1\", \"#C8CF02\", \"#E6781E\", \"#1693A7\", \"#CC0C39\"],\n\t\t[\"#DAD6CA\", \"#1BB0CE\", \"#4F8699\", \"#6A5E72\", \"#563444\"], [\"#E5DDCB\", \"#A7C5BD\", \"#EB7B59\", \"#CF4647\", \"#524656\"],\n\t\t[\"#FDF1CC\", \"#C6D6B8\", \"#FCD036\", \"#E3AD40\", \"#987F69\"], [\"#E5F04C\", \"#C0D23E\", \"#E15E32\", \"#A82743\", \"#5C323E\"],\n\t\t[\"#EBEBBC\", \"#BCE3C5\", \"#82B3AE\", \"#F21D41\", \"#230F2B\"], [\"#B9D3B0\", \"#F6AA93\", \"#F88F79\", \"#81BDA4\", \"#B28774\"],\n\t\t[\"#E6F9BC\", \"#BCDEA5\", \"#83988E\", \"#574951\", \"#3A111C\"], [\"#FCF7D3\", \"#DEE8BE\", \"#B7D1A3\", \"#CD8C52\", \"#5E3929\"],\n\t\t[\"#F03C02\", \"#C21A01\", \"#A30006\", \"#6B0103\", \"#1C0113\"], [\"#FFEAF2\", \"#FCD9E5\", \"#FBC5D8\", \"#F1396D\", \"#382F32\"],\n\t\t[\"#E3DFBA\", \"#C8D6BF\", \"#93CCC6\", \"#6CBDB5\", \"#1A1F1E\"], [\"#CCCCCC\", \"#B11623\", \"#9F111B\", \"#292C37\", \"#000000\"],\n\t\t[\"#FBEEC2\", \"#ACCEC0\", \"#C1B398\", \"#61A6AB\", \"#605951\"], [\"#FFE9AF\", \"#F9D6AC\", \"#FEA6A2\", \"#8DCCAD\", \"#988864\"],\n\t\t[\"#F6F6F6\", \"#E8E8E8\", \"#B90504\", \"#333333\", \"#990100\"], [\"#E9F2F9\", \"#9CC4E4\", \"#F26C4F\", \"#3A89C9\", \"#1B325F\"],\n\t\t[\"#DCD1B4\", \"#FAB87F\", \"#F87E7B\", \"#5E9FA3\", \"#B05574\"], [\"#F5F4D7\", \"#E0DFB1\", \"#A5A36C\", \"#535233\", \"#951F2B\"],\n\t\t[\"#C8FF00\", \"#FA023C\", \"#413D3D\", \"#4B000F\", \"#040004\"], [\"#EFF3CD\", \"#B2D5BA\", \"#61ADA0\", \"#248F8D\", \"#605063\"],\n\t\t[\"#DFECE6\", \"#92C7A3\", \"#3CA2A2\", \"#215A6D\", \"#2D2D29\"], [\"#CFFFDD\", \"#B4DEC1\", \"#A85163\", \"#FF1F4C\", \"#5C5863\"],\n\t\t[\"#CCFC8E\", \"#8EBE94\", \"#DC5B3E\", \"#827085\", \"#4E395D\"], [\"#FFFEC7\", \"#9DC9AC\", \"#FF9D2E\", \"#919167\", \"#F56218\"],\n\t\t[\"#FEE5AD\", \"#FACA66\", \"#A1DBB2\", \"#F7A541\", \"#F45D4C\"], [\"#FFFEE4\", \"#FFEFD3\", \"#D0ECEA\", \"#9FD6D2\", \"#8B7A5E\"],\n\t\t[\"#A8A7A7\", \"#CC527A\", \"#E8175D\", \"#474747\", \"#363636\"], [\"#FFEDBF\", \"#F8E4C1\", \"#F7803C\", \"#F54828\", \"#2E0D23\"],\n\t\t[\"#F8EDD1\", \"#C5CFC6\", \"#D88A8A\", \"#9D9D93\", \"#474843\"], [\"#F1EDD0\", \"#CDE9CA\", \"#A0CAB5\", \"#F38A8A\", \"#55443D\"],\n\t\t[\"#94BA65\", \"#2790B0\", \"#4E4D4A\", \"#2B4E72\", \"#353432\"], [\"#FEFEEB\", \"#F8F4E4\", \"#A5B3AA\", \"#0CA5B0\", \"#4E3F30\"],\n\t\t[\"#F6D86B\", \"#FB6B41\", \"#339194\", \"#F10C49\", \"#A70267\"], [\"#CCAC95\", \"#9A947C\", \"#9D7E79\", \"#748B83\", \"#5B756C\"],\n\t\t[\"#EDF6EE\", \"#D1C089\", \"#B3204D\", \"#412E28\", \"#151101\"], [\"#ECBE13\", \"#93A42A\", \"#2FB8AC\", \"#309292\", \"#046D8B\"],\n\t\t[\"#F5E0D3\", \"#FFD0B3\", \"#FFB88C\", \"#DE6262\", \"#4D3B3B\"], [\"#FFFBB7\", \"#A6F6AF\", \"#66B6AB\", \"#5B7C8D\", \"#4F2958\"],\n\t\t[\"#FABE28\", \"#FF8A00\", \"#88C100\", \"#00C176\", \"#FF003C\"], [\"#FCFEF5\", \"#FAFBE3\", \"#E9FFE1\", \"#D6E6C3\", \"#CDCFB7\"],\n\t\t[\"#DDD9AB\", \"#BFD8AD\", \"#9CDDC8\", \"#F7AF63\", \"#633D2E\"], [\"#0B8185\", \"#1F5F61\", \"#36544F\", \"#403831\", \"#30261C\"],\n\t\t[\"#F9BF76\", \"#8EB2C5\", \"#E5625C\", \"#D1313D\", \"#615375\"], [\"#EEE9E5\", \"#FFE181\", \"#FAD3B2\", \"#FFBA7F\", \"#FF9C97\"],\n\t\t[\"#AAFF00\", \"#FFAA00\", \"#00AAFF\", \"#FF00AA\", \"#AA00FF\"], [\"#D1AA34\", \"#A7A844\", \"#A46583\", \"#C2412D\", \"#5A1E4A\"],\n\t\t[\"#F8F3BF\", \"#DCE4F7\", \"#BFCFF7\", \"#75616B\", \"#D34017\"]];\n\tpublic static var niceColor100SortedInt:Array<Array<Int>> = [\n\t\t[14738636, 11000792, 6935271, 15959600, 16410880], [16371117, 13158569, 16555418, 8630171, 16663397],\n\t\t[15519864, 14244675, 5470074, 12593474, 5514295], [13104228, 5164484, 16739179, 12864856, 5595760], [15525326, 15848623, 12968156, 14716537, 7819064],\n\t\t[15261131, 13480832, 222564, 210505, 202292], [16304640, 15302402, 9083663, 12391760, 4786749], [15072450, 10346669, 4566440, 5536128, 5853007],\n\t\t[15583569, 15427649, 41136, 13382463, 6965820], [16050901, 13034969, 13018266, 14057865, 15289975], [14342311, 16752285, 8374191, 4176047, 16727423],\n\t\t[14016217, 14274226, 10072759, 9735285, 8022611], [16777215, 15919585, 13363307, 13363307, 1840141], [15728589, 14477758, 5591378, 10032956, 3024435],\n\t\t[57340, 46284, 35998, 24427, 3422264], [16245950, 15774878, 11764100, 7561838, 4275786], [14808516, 15590772, 16372771, 16552250, 16731728],\n\t\t[16699048, 10074264, 16745596, 15223391, 2766395], [16185277, 15117351, 8436899, 12537128, 6641219], [16380647, 11461177, 4243659, 9420288, 43206],\n\t\t[15256228, 6590602, 13380161, 4342356, 3478320], [15855525, 13880893, 6338970, 16218149, 5587510], [15329769, 12369084, 16750848, 3316155, 4342338],\n\t\t[15459242, 13293490, 11061946, 8619657, 6111575], [15909978, 12563290, 8955486, 6196330, 9184024], [16437385, 16751707, 16081738, 3899779, 15544380],\n\t\t[16054994, 15790827, 14806457, 13954654, 16728642], [16777215, 13756241, 5094633, 2534884, 0], [16298389, 16151168, 12610692, 7101307, 3497085],\n\t\t[15400422, 12513794, 8963109, 5346632, 1795947], [12369324, 13614631, 15889461, 15737973, 3878200], [16575414, 15771696, 7913640, 15759384, 6177071],\n\t\t[14874574, 15253334, 14976074, 9510989, 4531762], [15656619, 12958862, 6907736, 4540491, 3553595], [15784104, 15914644, 8829105, 16394752, 4004864],\n\t\t[16775101, 15921775, 9818039, 16745018, 15745365], [10536287, 8041239, 878425, 732761, 2753610], [15654297, 15647376, 13420173, 15641224, 12303240],\n\t\t[12179417, 6718084, 8076091, 4798262, 2762793], [15528065, 16760384, 11783255, 15692911, 11222619], [15579438, 10725704, 16275761, 39305, 13506614],\n\t\t[13418370, 12103427, 6787450, 14889560, 1508361], [15259065, 15259063, 16102217, 16530001, 926768],\n\t\t[15462345, 15655095, 15256239, 12897207, 11187115], [15757889, 12601416, 6297672, 4718664, 3145776],\n\t\t[16051139, 15786660, 12963502, 12362391, 11227755], [15790296, 12638304, 7901256, 6322248, 6309960],\n\t\t[14478786, 16765877, 11069134, 16755366, 16747668], [16776927, 14662249, 4079943, 5910062, 2763825],\n\t\t[16702650, 15522748, 14342845, 13162943, 11983040], [16578501, 704444, 16528716, 1275005, 2695711], [16771757, 11788441, 13714228, 167798, 1843504],\n\t\t[15592422, 14082503, 9750454, 13853755, 4209459], [16317633, 13160194, 15104030, 1479591, 13372473], [14341834, 1814734, 5211801, 6970994, 5649476],\n\t\t[15064523, 10995133, 15432537, 13583943, 5391958], [16642508, 13031096, 16568374, 14921024, 9994089],\n\t\t[15069260, 12636734, 14769714, 11020099, 6042174], [15461308, 12379077, 8565678, 15867201, 2297643],\n\t\t[12178352, 16165523, 16289657, 8502692, 11700084], [15137212, 12377765, 8624270, 5720401, 3805468], [16578515, 14608574, 12046755, 13470802, 6175017],\n\t\t[15744002, 12720641, 10682374, 7012611, 1835283], [16771826, 16570853, 16500184, 15808877, 3682098], [14933946, 13162175, 9686214, 7126453, 1711902],\n\t\t[13421772, 11605539, 10424603, 2698295, 0], [16510658, 11325120, 12694424, 6399659, 6314321], [16771503, 16373420, 16688802, 9292973, 9996388],\n\t\t[16185078, 15263976, 12125444, 3355443, 10027264], [15332089, 10274020, 15887439, 3836361, 1782367],\n\t\t[14471604, 16431231, 16285307, 6201251, 11556212], [16118999, 14737329, 10855276, 5460531, 9772843], [13172480, 16384572, 4275517, 4915215, 262148],\n\t\t[15725517, 11720122, 6401440, 2396045, 6312035], [14675174, 9619363, 3973794, 2185837, 2960681], [13631453, 11853505, 11030883, 16719692, 6051939],\n\t\t[13433998, 9354900, 14441278, 8548485, 5126493], [16776903, 10340780, 16751918, 9539943, 16081432],\n\t\t[16704941, 16435814, 10607538, 16229697, 16014668], [16776932, 16773075, 13692138, 10475218, 9140830],\n\t\t[11052967, 13390458, 15210333, 4671303, 3552822], [16772543, 16311489, 16220220, 16074792, 3018019],\n\t\t[16313809, 12963782, 14191242, 10329491, 4671555], [15855056, 13494730, 10537653, 15960714, 5588029], [9747045, 2592944, 5131594, 2838130, 3486770],\n\t\t[16711403, 16315620, 10859434, 828848, 5127984], [16177259, 16476993, 3379604, 15797321, 10945127], [13413525, 10130556, 10321529, 7637891, 5993836],\n\t\t[15595246, 13746313, 11739213, 4271656, 1380609], [15515155, 9675818, 3127468, 3183250, 290187], [16113875, 16765107, 16758924, 14574178, 5061435],\n\t\t[16776119, 10942127, 6731435, 5995661, 5187928], [16432680, 16747008, 8962304, 49526, 16711740], [16580341, 16448483, 15335393, 14083779, 13488055],\n\t\t[14539179, 12572845, 10280392, 16232291, 6503726], [754053, 2056033, 3560527, 4208689, 3155484], [16367478, 9351877, 15032924, 13709629, 6378357],\n\t\t[15657445, 16769409, 16438194, 16759423, 16751767], [11206400, 16755200, 43775, 16711850, 11141375],\n\t\t[13740596, 10987588, 10773891, 12730669, 5905994], [16315327, 14476535, 12570615, 7692651, 13844503]];\n}\n","package cc.util;\n\nimport Sketch.Global.*;\nimport cc.AST;\nimport js.Browser.*;\nimport js.html.CanvasRenderingContext2D;\nimport cc.util.ColorUtil.RGB;\n\n/**\n * var grid:GridUtil = new GridUtil();\n * grid.setNumbered(3,3); // 3 horizontal, 3 vertical\n * // grid.setCellSize(_cellsize); // use a cellsize (width/height)\n * grid.setIsCenterPoint(true); // default true, but can be set if needed\n *\n * // quick generate grid\n * if (isDebug) {\n * \t\tShapeUtil.gridField(ctx, grid);\n * }\n *\n * // use grid to generate totale amount of shapes/etc\n * for (i in 0...grid.array.length) {\n * \t\tshapeArray.push(createShape(i, grid.array[i]));\n * }\n */\nclass GridUtil {\n\tpublic var array:Array<Point> = [];\n\tpublic var total:Int = null;\n\n\t/**\n\t * starting point x\n\t */\n\tpublic var x:Float = null;\n\n\t/**\n\t * starting point y\n\t */\n\tpublic var y:Float = null;\n\n\t/**\n\t * the width of the grid\n\t */\n\tpublic var width:Float = null;\n\n\t/**\n\t * the height of the grid\n\t */\n\tpublic var height:Float = null;\n\n\tpublic var gridX:Float = 0;\n\tpublic var gridY:Float = 0;\n\n\t/**\n\t * create grid with center point as (gridw gridheight center)\n\t */\n\tpublic var isCentered:Bool = false;\n\n\t/**\n\t * use fullscreen or bigger to use a grid\n\t */\n\tpublic var isFullscreen:Bool = false;\n\n\t/**\n\t * how width is the grid\n\t */\n\tpublic var cellWidth:Float = null;\n\n\t/**\n\t * how height is the grid\n\t */\n\tpublic var cellHeight:Float = null;\n\n\tpublic var numHor:Float = null;\n\tpublic var numVer:Float = null;\n\n\tvar _isCellSize:Bool = false;\n\tvar _isNumbered:Bool = false;\n\tvar _isDimension:Bool = false;\n\tvar _isPosition:Bool = false;\n\tvar _isDebug:Bool = false; // fix ugly grid bugs\n\n\t// ____________________________________ chaining ____________________________________\n\t// are always set\n\tprivate var _ctx:CanvasRenderingContext2D;\n\n\t// new private vars\n\tprivate var _x:Dynamic; //\n\tprivate var _y:Dynamic; //\n\tprivate var _w:Dynamic; //\n\tprivate var _h:Dynamic; //\n\tprivate var _hor:Dynamic; //\n\tprivate var _ver:Dynamic; //\n\tprivate var _cellw:Dynamic; //\n\tprivate var _cellh:Dynamic; //\n\tprivate var _center:Dynamic; //\n\tprivate var _debug:Dynamic; // (Suggestion: debug)\n\tprivate var _fullscreen:Dynamic; // (Suggestions: fullscreen, isFullscreen)\n\tprivate var _color:Dynamic; // (Suggestion: color)\n\n\tpublic function new(?ctx:CanvasRenderingContext2D) {\n\t\tif (ctx != null)\n\t\t\tthis._ctx = ctx;\n\t}\n\n\t/**\n\t * var grid = GridUtil.create (ctx).draw();\n\t *\n\t * @param ctx\n\t * @param text\n\t * @return GridUtil\n\t */\n\tstatic inline public function create(ctx:CanvasRenderingContext2D):GridUtil {\n\t\tvar GridUtil = new GridUtil(ctx);\n\t\treturn GridUtil;\n\t}\n\n\t// ____________________________________ properties ____________________________________\n\n\t/**\n\t * [mck] prefer to have this x, and y\n\t */\n\tinline public function xpos(x:Float):GridUtil {\n\t\tthis._x = x;\n\t\treturn this;\n\t}\n\n\tinline public function ypos(y:Float):GridUtil {\n\t\tthis._y = y;\n\t\treturn this;\n\t}\n\n\tinline public function pos(x:Float, y:Float):GridUtil {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\treturn this;\n\t}\n\n\tinline public function dimension(w:Float, h:Float):GridUtil {\n\t\tthis._w = w;\n\t\tthis._h = h;\n\t\treturn this;\n\t}\n\n\tinline public function grid(hor:Int, ver:Int):GridUtil {\n\t\tthis._hor = hor;\n\t\tthis._ver = ver;\n\t\treturn this;\n\t}\n\n\tinline public function size(w:Float, h:Float):GridUtil {\n\t\tthis._cellw = w;\n\t\tthis._cellh = h;\n\t\treturn this;\n\t}\n\n\tinline public function centered():GridUtil {\n\t\tthis._center = true;\n\t\treturn this;\n\t}\n\n\tinline public function debug():GridUtil {\n\t\tthis._debug = true;\n\t\treturn this;\n\t}\n\n\tinline public function fullscreen():GridUtil {\n\t\tthis._fullscreen = true;\n\t\treturn this;\n\t}\n\n\tinline public function color(value:RGB):GridUtil {\n\t\tthis._color = value;\n\t\treturn this;\n\t}\n\n\tinline public function calc():GridUtil {\n\t\ttrace('WIP');\n\t\treturn this;\n\t}\n\n\tinline public function draw(?isDebug:Bool = false):GridUtil {\n\t\t// draw on canvas\n\t\tif (isDebug) {\n\t\t\t// _ctx\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * [Description]\n\t * @param x\t\t\tstart position x\n\t * @param y\t\t\tstart postion y\n\t */\n\tpublic function setPosition(x, y) {\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setPostion');\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis._isPosition = true;\n\t\tcalculate();\n\t}\n\n\t/**\n\t * use centered point for grid\n\t *\n\t * @param isCentered  (default: true)\n\t */\n\tpublic function setIsCenterPoint(isCentered:Bool = true) {\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setCenterPoint');\n\t\tthis.isCentered = isCentered;\n\t\tcalculate();\n\t}\n\n\t/**\n\t * use when want to debug the grid\n\t *\n\t * @param isDebug  (default = true)\n\t */\n\tpublic function setDebug(isDebug:Bool = true) {\n\t\tthis._isDebug = isDebug;\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setDebug');\n\t}\n\n\t/**\n\t * create a grid that is fullscreen, or bigger\n\t *\n\t * works with \t- cellsize (width/height)\n\t * \t\t\t\t- numVer/numHer\n\t *\n\t * @param isFullscreen\t(optional) default : true\n\t */\n\tpublic function setIsFullscreen(isFullscreen:Bool = true) {\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setIsFullscreen');\n\t\tthis.isFullscreen = isFullscreen;\n\t\tcalculate();\n\t}\n\n\t/**\n\t * create a grid based upon width/height\n\t * \t\tx, y, cellWidth, cellHeight is calculated\n\t * @param width\t\ttotal width of grid\n\t * @param height\ttotal height of grid\n\t */\n\tpublic function setDimension(width:Float, height:Float) {\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setDimension (width: ${width}, height: ${height})');\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis._isDimension = true;\n\t\tcalculate();\n\t}\n\n\t/**\n\t * create\n\t * @param numHor\tnumber of items horizontal\n\t * @param numVer\tnumber of itmes vertical\n\t */\n\tpublic function setNumbered(numHor:Float, numVer:Float) {\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setNumbers (numHor: ${numHor}, numVer: ${numVer})');\n\t\tthis.numHor = numHor;\n\t\tthis.numVer = numVer;\n\t\tthis._isNumbered = true;\n\t\tcalculate();\n\t}\n\n\t/**\n\t * use these values to calculate the grid\n\t * if this is only set, it will x, y, width, height of the grid\n\t *\n\t * center point is LEFT,TOP\n\t *\n\t * @param cellWidth \tfixed grid width\n\t * @param cellHeight \t(optional) fixed grid height (default is equal to cellWidth)\n\t */\n\tpublic function setCellSize(cellWidth:Float, ?cellHeight:Float) {\n\t\tif (cellHeight == null)\n\t\t\tcellHeight = cellWidth;\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} setCellSize (cellWidth: ${cellWidth}, cellHeight: ${cellHeight})');\n\t\tthis.cellWidth = cellWidth;\n\t\tthis.cellHeight = cellHeight;\n\t\tthis._isCellSize = true;\n\t\tcalculate();\n\t}\n\n\tpublic function reset() {\n\t\tarray = []; // reset array\n\t}\n\n\tfunction calculate() {\n\t\tif (_isDebug)\n\t\t\tconsole.log('${toString()} calculate()');\n\t\t/**\n\t\t * solution #1:\n\t\t * grid is fixed via `cellWidth` and `cellHeight`\n\t\t * calculate: `x`, `y`, `width`, `height`, `numHor`, `numVer`\n\t\t *\n\t\t * TOP/LEFT centerpoint?\n\t\t */\n\t\tif (_isCellSize && !_isDimension) {\n\t\t\tif (_isDebug)\n\t\t\t\tconsole.info('${toString()} solution #1: cellSize is set');\n\t\t\tnumHor = Math.floor(w / cellWidth);\n\t\t\tnumVer = Math.floor(h / cellHeight);\n\t\t\twidth = numHor * cellWidth;\n\t\t\theight = numVer * cellHeight;\n\t\t\tx = (w - width) / 2;\n\t\t\ty = (h - height) / 2;\n\t\t}\n\n\t\t/**\n\t\t * solution #2:\n\t\t * use numbered cells (in x-dir and y-dir),\n\t\t * calculate: `x`, `y`, `width`, `height`, `cellWidth`, `cellHeight`\n\t\t */\n\t\tif (_isNumbered && !_isDimension) {\n\t\t\tif (_isDebug)\n\t\t\t\tconsole.info('${toString()} solution #2: numbered cells set');\n\t\t\tvar _w = (width != null) ? width : w;\n\t\t\tvar _h = (height != null) ? height : h;\n\t\t\t// numHor = Math.floor(_w / cellWidth);\n\t\t\t// numVer = Math.floor(_h / cellHeight);\n\t\t\tcellWidth = _w / numHor;\n\t\t\tcellHeight = _h / numVer;\n\t\t\twidth = numHor * cellWidth;\n\t\t\theight = numVer * cellHeight;\n\t\t\tx = (w - width) / 2;\n\t\t\ty = (h - height) / 2;\n\n\t\t\tconsole.info('cellWidth: $cellWidth, cellHeight: $cellHeight, width: $width, height: $height, x: $x, y: $y');\n\t\t}\n\n\t\t/**\n\t\t * solution #3:\n\t\t * use a grid with set `width` and `height`\n\t\t * calculate: `x`, `y`, `numHor`, `numVer`, `cellWidth`, `cellHeight`\n\t\t */\n\t\tif (_isDimension && !_isNumbered && !_isCellSize) {\n\t\t\tif (_isDebug)\n\t\t\t\tconsole.info('${toString()} solution #3: width/height set ($width, $height)');\n\n\t\t\t// is not set\n\t\t\tvar _cellWidth = (cellWidth != null) ? cellWidth : 50;\n\t\t\tvar _cellHeight = (cellHeight != null) ? cellHeight : 50;\n\t\t\t// now we can calculate the number of rows/cols\n\t\t\tnumHor = Math.floor(width / _cellWidth);\n\t\t\tnumVer = Math.floor(height / _cellHeight);\n\t\t\t// because we can't have half a row, we need to recalculate the width/heigth\n\t\t\twidth = numHor * _cellWidth;\n\t\t\theight = numVer * _cellHeight;\n\t\t\t// and now the width and height might have changed, so does the cells\n\t\t\tcellWidth = width / numHor;\n\t\t\tcellHeight = height / numVer;\n\t\t\t// centered everything\n\t\t\tx = (w - width) / 2;\n\t\t\ty = (h - height) / 2;\n\t\t}\n\n\t\t/**\n\t\t * solution #3a:\n\t\t * use a grid with set `width`, `height` AND `numHor`, `numVer`\n\t\t * calculate: `x`, `y`, `cellWidth`, `cellHeight`\n\t\t */\n\t\tif (_isDimension && !_isCellSize) {\n\t\t\tif (_isDebug)\n\t\t\t\tconsole.info('${toString()} solution #3a: width/height set ($width, $height) AND number row/cols ($numHor, $numVer)');\n\n\t\t\t// is not set, calculate\n\t\t\tcellWidth = Math.floor(width / numHor); // make it round numbers\n\t\t\tcellHeight = Math.floor(height / numVer); // make it round numbers\n\t\t\t// because we can't have half a row, we need to recalculate the width/heigth\n\t\t\twidth = numHor * cellWidth;\n\t\t\theight = numVer * cellHeight;\n\t\t\tif (!this._isPosition) {\n\t\t\t\t// centered everything\n\t\t\t\tx = (w - width) / 2;\n\t\t\t\ty = (h - height) / 2;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * solution #3b:\n\t\t * use a grid with set `width`, `height` AND `numHor`, `numVer`\n\t\t * calculate: `x`, `y`, `cellWidth`, `cellHeight`\n\t\t */\n\t\tif (_isDimension && _isNumbered && !_isCellSize) {\n\t\t\tif (_isDebug) {\n\t\t\t\tconsole.info('${toString()} solution #3b: w/h set ($width, $height) AND number row/cols ($numHor, $numVer)');\n\t\t\t\tconsole.info('${toString()}  ($w, $h)');\n\t\t\t}\n\n\t\t\t// is not set, calculate\n\t\t\tcellWidth = Math.floor(width / numHor); // make it round numbers\n\t\t\tcellHeight = Math.floor(height / numVer); // make it round numbers\n\t\t\t// because we can't have half a row, we need to recalculate the width/heigth\n\t\t\twidth = numHor * cellWidth;\n\t\t\theight = numVer * cellHeight;\n\t\t\t// if(\t!this._isPosition) {\n\t\t\t// \t// centered everything\n\t\t\t// \tx = (w - width) / 2;\n\t\t\t// \ty = (h - height) / 2;\n\t\t\t// }\n\t\t}\n\n\t\t/**\n\t\t * solution #4:\n\t\t * size of the cell is known, and width and height\n\t\t * calculate: `x`, `y`, `width`, `height`, `cellWidth`, `cellHeight`\n\t\t */\n\t\tif (_isCellSize && _isDimension) {\n\t\t\tif (_isDebug)\n\t\t\t\tconsole.info('${toString()} solution #4: cellSize is set and width/height');\n\t\t\tnumHor = Math.floor(width / cellWidth);\n\t\t\tnumVer = Math.floor(height / cellHeight);\n\n\t\t\twidth = numHor * cellWidth;\n\t\t\theight = numVer * cellHeight;\n\n\t\t\t// [mck] cellwidth will be leading, so the width and height will be fixed accordingly\n\t\t\tif (!_isPosition) {\n\t\t\t\tx = (w - width) / 2;\n\t\t\t\ty = (h - height) / 2;\n\t\t\t}\n\t\t}\n\n\t\tif (isFullscreen && _isCellSize) {\n\t\t\tif (_isDebug)\n\t\t\t\tconsole.info('${toString()} solution #5: fullscreen and cellSize is set');\n\n\t\t\twidth = w;\n\t\t\theight = h;\n\n\t\t\t// round up\n\t\t\tnumHor = Math.ceil(width / cellWidth);\n\t\t\tnumVer = Math.ceil(height / cellHeight);\n\n\t\t\t// calculate again, based upon numHor/numVer\n\t\t\twidth = numHor * cellWidth;\n\t\t\theight = numVer * cellHeight;\n\n\t\t\tx = (w - width) / 2;\n\t\t\ty = (h - height) / 2;\n\t\t}\n\n\t\tvar cx = 0.0;\n\t\tvar cy = 0.0;\n\t\tif (isCentered) {\n\t\t\tcx = cellWidth / 2;\n\t\t\tcy = cellHeight / 2;\n\t\t}\n\n\t\tarray = []; // reset array\n\t\tvar total = Math.round(numHor * numVer);\n\t\tvar xpos = 0;\n\t\tvar ypos = 0;\n\t\tfor (i in 0...total) {\n\t\t\tvar point:Point = {\n\t\t\t\tx: Math.round(x + (xpos * cellWidth) + cx),\n\t\t\t\ty: Math.round(y + (ypos * cellHeight) + cy),\n\t\t\t}\n\t\t\tarray.push(point);\n\t\t\txpos++;\n\t\t\tif (xpos >= numHor) {\n\t\t\t\txpos = 0;\n\t\t\t\typos++;\n\t\t\t}\n\t\t}\n\n\t\ttotal = array.length; // just to have easy access to the array lentth\n\t\tif (_isDebug) {\n\t\t\tconsole.groupCollapsed('${toString()} Sata');\n\t\t\tconsole.log('x: $x, y: $y, width: $width, height: $height, cellWidth: $cellWidth, cellHeight: $cellHeight, numHor: $numHor, numVer: $numVer, array: ${array.length}');\n\t\t\tconsole.table(array);\n\t\t\tconsole.groupEnd();\n\t\t}\n\t}\n\n\t/**\n\t * old gridtools, renamed it from GridUtil.create to GridUtil.createGrid\n\t *\n\t * @param x\t\t\tstart position x\n\t * @param y\t\t\tstart postion y\n\t * @param width\t\twidth of grid\n\t * @param height\theight of grid\n\t * @param numHor\tnumber of items horizontal\n\t * @param numVer\tnumber of itmes vertical\n\t */\n\tstatic public function createGrid(x:Float, y:Float, width:Float, height:Float, numHor:Int = 1, numVer:Int = 1):Array<Point> {\n\t\t// trace( x, y, width, height, numHor, numVer);\n\t\tvar gridW = width / (numHor - 1);\n\t\tvar gridH = height / (numVer - 1);\n\t\tvar total = numHor * numVer;\n\t\tvar xpos = 0;\n\t\tvar ypos = 0;\n\t\tvar arr:Array<Point> = [];\n\t\tfor (i in 0...total) {\n\t\t\tvar point:Point = {\n\t\t\t\tx: x + (xpos * gridW),\n\t\t\t\ty: y + (ypos * gridH),\n\t\t\t}\n\t\t\tarr.push(point);\n\t\t\txpos++;\n\t\t\tif (xpos >= numHor) {\n\t\t\t\txpos = 0;\n\t\t\t\typos++;\n\t\t\t}\n\t\t}\n\t\treturn arr;\n\t}\n\n\t/**\n\t *\n\t * @param x\n\t * @param y\n\t * @param width\n\t * @param height\n\t * @param gridX\n\t * @param gridY\n\t * @param numHor\n\t * @param numVer\n\t * @return GridUtil\n\t */\n\tstatic public function calcGrid(?x:Float = -1, ?y:Float = -1, ?width:Float = -1, ?height:Float = -1, ?gridX:Float = 1, ?gridY:Float = 1, ?numHor:Int = 1,\n\t\t\t?numVer:Int = 1):GridUtil {\n\t\tvar grid = new GridUtil();\n\t\tgrid.array = [];\n\t\tgrid.x = 0;\n\t\tgrid.y = 0;\n\t\tgrid.width = 0;\n\t\tgrid.height = 0;\n\t\tgrid.gridX = 0;\n\t\tgrid.gridY = 0;\n\t\treturn grid;\n\t}\n\n\tfunction toString():String {\n\t\treturn '[GridUtil]';\n\t}\n}\n","package cc.util;\n\n/**\n * Math related stuff is found here\n * \t\t- radians & convertions\n * \t\t- degree & convertions\n * \t\t- etc\n *\n * @example\n * ```\n * import cc.util.MathUtil;\n * Mathcc.util.random (10);\n *\n * // or\n *\n * import cc.util.MathUtil.*;\n * random(10); // make it easier to read\n * ```\n *\n */\nclass MathUtil {\n\tstatic public function radians(deg:Float):Float {\n\t\treturn deg * Math.PI / 180;\n\t};\n\n\tstatic public function degrees(rad:Float):Float {\n\t\treturn rad * 180 / Math.PI;\n\t};\n\n\t// public function rotateDegrees(deg) {\n\t// \tthis.rotate(radians(deg));\n\t// }\n\t// public function rotateDeg(deg) {\n\t// \tthis.rotate(radians(deg));\n\t// }\n\tstatic public function degreesToPoint(deg, diameter) {\n\t\tvar rad = Math.PI * deg / 180;\n\t\tvar r = diameter / 2;\n\t\treturn {x: r * Math.cos(rad), y: r * Math.sin(rad)};\n\t}\n\n\tstatic public function distributeAngles(me, total) {\n\t\treturn me / total * 360;\n\t}\n\n\t/**\n\t * calculate distance between two point (x,y)\n\t * @param x1\n\t * @param y1\n\t * @param x2\n\t * @param y2\n\t */\n\tstatic public function distance(x1:Float, y1:Float, x2:Float, y2:Float):Float {\n\t\treturn dist(x1, y1, x2, y2);\n\t}\n\n\tstatic public function dist(x1:Float, y1:Float, x2:Float, y2:Float) {\n\t\tx2 -= x1;\n\t\ty2 -= y1;\n\t\treturn Math.sqrt((x2 * x2) + (y2 * y2));\n\t}\n\n\t/**\n\t * [pythagoreanTheorem description]\n\t *\n\t * @example\n\t * \t\t\ttrace (MathUtil.pythagoreanTheorem(0, 5, 10)); // 8.66025403784439\n\t *\t\t\ttrace (MathUtil.pythagoreanTheorem(8.66025403784439, 5, 0)); // 10\n\t *\t\t\ttrace (MathUtil.pythagoreanTheorem(8.66025403784439, 0, 10)); // 5\n\t *\n\t * @param  a \tside A\n\t * @param  b \tside B\n\t * @param  c \thypotenuse C\n\t */\n\tpublic static function pythagoreanTheorem(a:Float = null, b:Float = null, c:Float = null):Float {\n\t\tif (a == null && b == null && c == null) {\n\t\t\ttrace(\"Really? Perhaps you should use some data\");\n\t\t\treturn 0;\n\t\t}\n\t\tvar value = 0.0;\n\n\t\tif (c == null || c == 0)\n\t\t\tvalue = Math.sqrt(a * a + b * b);\n\t\tif (a == null || a == 0)\n\t\t\tvalue = Math.sqrt(c * c - b * b);\n\t\tif (b == null || b == 0)\n\t\t\tvalue = Math.sqrt(c * c - a * a);\n\n\t\treturn value;\n\t}\n\n\t/**\n\t * calculate the circumference of a circle (omtrek)\n\t * \tOmtrek = pi * diameter = 2 * pi * straal\n\t *\n\t * \t@example\n\t * \t\tMathUtil.circumferenceCircle(10); // 62.83185307179586\n\t *\n\t * @param radius \tradius of circel\n\t * @return Float\tcircumference\n\t */\n\tstatic public function circumferenceCircle(radius:Float):Float {\n\t\treturn Math.PI * radius * 2;\n\t}\n\n\t/**\n\t\tOppervlakte = 1/4 * pi * diameter2 = pi * straal2\n\t\t\t * \t@example\n\t\t\t * \t\tMathUtil.areaCircle(10); // 62.83185307179586\n\t\t\t * @param radius\n\t\t\t * @return Float\n\t */\n\tstatic public function areaCircle(radius:Float):Float {\n\t\treturn Math.PI * Math.sqrt(radius);\n\t}\n\n\t/**\n\t * Get a random number between `min` and `max`\n\t *\n\t * @example\t\tcc.util.MathUtil.randomInteger(10,100); // producess an number between 10 and 100\n\t *\n\t * @param min \tminimum value\n\t * @param max \tmaximum value (optional: if not `max == min` and `min == 0` )\n\t * @return Int\tnumber between `min` and `max`\n\t */\n\tstatic public function randomInteger(min:Int, ?max:Int):Int {\n\t\tif (max == null) {\n\t\t\tmax = min;\n\t\t\tmin = 0;\n\t\t}\n\t\treturn Math.floor(Math.random() * (max + 1 - min)) + min;\n\t}\n\n\tstatic public function randomInt(min, ?max):Int {\n\t\treturn randomInteger(min, max);\n\t}\n\n\t/**\n\t * Get a random number between `min` and `max`\n\t *\n\t * @example\t\tcc.util.MathUtil.random(10,100); // producess an number between 10 and 100\n\t *\n\t * @param min \tminimum value\n\t * @param max \tmaximum value\n\t * @return Float\tnumber between `min` and `max`\n\t */\n\tstatic public function random(?min:Float, ?max:Float):Float {\n\t\tif (min == null) {\n\t\t\tmin = 0;\n\t\t\tmax = 1;\n\t\t} else if (max == null) {\n\t\t\tmax = min;\n\t\t\tmin = 0;\n\t\t}\n\t\treturn (Math.random() * (max - min)) + min;\n\t};\n\n\tstatic public function randomP(?min:Float, ?max:Float) {\n\t\tif (min == null) {\n\t\t\tmin = 0.1;\n\t\t\tmax = 1;\n\t\t} else if (max == null) {\n\t\t\tmax = min;\n\t\t\tmin = 0.1;\n\t\t}\n\t\treturn (Math.random() * (max - min)) + min;\n\t};\n\n\tstatic public function chance(value) {\n\t\treturn (random(value) > value - 1);\n\t}\n\n\t/**\n\t * get value 1 or -1\n\t */\n\tstatic public function posNeg() {\n\t\treturn randomInt(0, 1) * 2 - 1;\n\t}\n\n\t/**\n\t * calculate the angle between two point\n\t * @param cx\t\tcenter point x\n\t * @param cy\t\tcenter point y\n\t * @param ex\t\tend point x\n\t * @param ey\t\tend point y\n\t * @return Float\n\t */\n\tstatic public function angle(cx:Float, cy:Float, ex:Float, ey:Float):Float {\n\t\tvar dy = ey - cy;\n\t\tvar dx = ex - cx;\n\t\tvar theta = Math.atan2(dy, dx); // range (-PI, PI]\n\t\ttheta *= 180 / Math.PI; // rads to degs, range (-180, 180]\n\t\tif (theta < 0)\n\t\t\ttheta = 360 + theta; // range [0, 360);\n\t\tif (theta == 360)\n\t\t\ttheta = 0;\n\t\treturn theta;\n\t}\n\n\tstatic public function map(value, min1, max1, min2, max2, clampResult) {\n\t\tvar returnvalue = ((value - min1) / (max1 - min1) * (max2 - min2)) + min2;\n\t\tif (clampResult)\n\t\t\treturn clamp(returnvalue, min2, max2);\n\t\telse\n\t\t\treturn returnvalue;\n\t};\n\n\t/**\n\t * get an orbit value\n\t * @param xpos center point x\n\t * @param ypos center point y\n\t * @param angle in degree (360)\n\t * @param radius radous of circle\n\t * @return AST.Point\n\t */\n\tstatic public function orbit(xpos:Float, ypos:Float, angle:Float, radius:Float):AST.Point {\n\t\t// plot the balls x to cos and y to sin\n\t\tvar _xpos = xpos + Math.cos(radians(angle)) * radius;\n\t\tvar _ypos = ypos + Math.sin(radians(angle)) * radius;\n\t\treturn {x: _xpos, y: _ypos};\n\t}\n\n\t/**\n\t * Randomly shuffle an array\n\t * https://stackoverflow.com/a/2450976/1293256\n\t * @param  {Array} array The array to shuffle\n\t * @return {String}      The first item in the shuffled array\n\t */\n\tstatic public function shuffle(array:Array<Dynamic>):Array<Dynamic> {\n\t\tvar currentIndex = array.length;\n\t\tvar temporaryValue, randomIndex;\n\n\t\t// While there remain elements to shuffle...\n\t\twhile (0 != currentIndex) {\n\t\t\t// Pick a remaining element...\n\t\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\t\tcurrentIndex -= 1;\n\n\t\t\t// And swap it with the current element.\n\t\t\ttemporaryValue = array[currentIndex];\n\t\t\tarray[currentIndex] = array[randomIndex];\n\t\t\tarray[randomIndex] = temporaryValue;\n\t\t}\n\n\t\treturn array;\n\t};\n\n\t/**\n\t * sent a value, and check if it is in the correct range\n\t *\n\t * @example\n\t * \t MathUtil.clamp(Math.round(r), 0, 255) // a value r should be between 0 and 255\n\t *\n\t * @param value\t\tvalue to check\n\t * @param min\t\tminimum value\n\t * @param max\t\tmaximum value\n\t */\n\tstatic public function clamp(value, min, max) {\n\t\treturn Math.min(Math.max(value, Math.min(min, max)), Math.max(min, max));\n\t}\n\t/**\n\t\tfunction xyz(px, py, pz, pitch, roll, yaw) {\n\n\t\tvar cosa = Math.cos(yaw);\n\t\tvar sina = Math.sin(yaw);\n\n\t\tvar cosb = Math.cos(pitch);\n\t\tvar sinb = Math.sin(pitch);\n\n\t\tvar cosc = Math.cos(roll);\n\t\tvar sinc = Math.sin(roll);\n\n\t\tvar Axx = cosa*cosb;\n\t\tvar Axy = cosa*sinb*sinc - sina*cosc;\n\t\tvar Axz = cosa*sinb*cosc + sina*sinc;\n\n\t\tvar Ayx = sina*cosb;\n\t\tvar Ayy = sina*sinb*sinc + cosa*cosc;\n\t\tvar Ayz = sina*sinb*cosc - cosa*sinc;\n\n\t\tvar Azx = -sinb;\n\t\tvar Azy = cosb*sinc;\n\t\tvar Azz = cosb*cosc;\n\n\t\tx = Axx*px + Axy*py + Axz*pz;\n\t\ty = Ayx*px + Ayy*py + Ayz*pz;\n\t\tz = Azx*px + Azy*py + Azz*pz;\n\n\t\treturn {x:x, y:y, z:z};\n\t\t}\n\t */\n}\n","package draw;\n\nclass Base {\n\tpublic static var COUNT:Int = 0;\n\n\tpublic var xml:Xml;\n\n\t@:isVar public var id(get, set):String;\n\t// position\n\t@:isVar public var y(get, set):Int;\n\t@:isVar public var x(get, set):Int;\n\t// colors\n\t@:isVar public var fill(get, set):String; // = '#909090';\n\t@:isVar public var stroke(get, set):String; // = '#000000';\n\t// weight\n\t@:isVar public var linewidth(get, set):Int; // = 1;\n\t@:isVar public var opacity(get, set):Float; // = 1;\n\t// transform\n\t@:isVar public var rotate(get, set):Int;\n\n\t@:isVar public var transform(get, set):String;\n\n\t@:isVar public var dash(get, set):Array<Int>;\n\n\tvar transArr:Array<String> = [];\n\n\t// ____________________________________ functions ____________________________________\n\t// public function noStroke() {\n\t// \tthis.linewidth = 0;\n\t// \tthis.stroke = 'transparant';\n\t// }\n\n\tpublic function setPosition(x:Float, ?y:Float) {\n\t\tvar str = 'translate(${x}';\n\t\tif (y != null)\n\t\t\tstr += ',${y}';\n\t\tstr += ')';\n\t\ttransArr.push(str);\n\t}\n\n\tpublic function setRotate(degree:Int, ?x:Float, ?y:Float) {\n\t\tvar str = 'rotate(${degree}';\n\t\tif (x != null)\n\t\t\tstr += ',${x}';\n\t\tif (y != null)\n\t\t\tstr += ',${y}';\n\t\tstr += ')';\n\t\ttransArr.push(str);\n\t}\n\n\tpublic function getTransform():String {\n\t\tvar str = '';\n\t\tfor (i in 0...transArr.length) {\n\t\t\tstr += transArr[i] + ' ';\n\t\t}\n\t\treturn str;\n\t}\n\n\tpublic function clone():Base {\n\t\ttrace(\"WIP\");\n\t\treturn cast(haxe.Json.parse(haxe.Json.stringify(this)), Base);\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\n\tfunction get_id():String {\n\t\tif (id == null) {\n\t\t\tid = getName() + \"_\" + COUNT;\n\t\t\tCOUNT++;\n\t\t}\n\t\treturn id;\n\t}\n\n\tfunction set_id(value:String):String {\n\t\txml.set('id', Std.string(value));\n\t\treturn id = value;\n\t}\n\n\tfunction get_fill():String {\n\t\treturn fill;\n\t}\n\n\tfunction set_fill(value:String):String {\n\t\txml.set('fill', Std.string(value));\n\t\treturn fill = value;\n\t}\n\n\tfunction get_stroke():String {\n\t\treturn stroke;\n\t}\n\n\tfunction set_stroke(value:String):String {\n\t\txml.set('stroke', Std.string(value));\n\t\treturn stroke = value;\n\t}\n\n\tfunction get_linewidth():Int {\n\t\treturn linewidth;\n\t}\n\n\tfunction set_linewidth(value:Int):Int {\n\t\txml.set('stroke-width', Std.string(value));\n\t\treturn linewidth = value;\n\t}\n\n\tfunction get_opacity():Float {\n\t\treturn opacity;\n\t}\n\n\tfunction set_opacity(value:Float):Float {\n\t\tvar v = cc.util.MathUtil.clamp(value, 0, 1); // should between 0 and 1\n\t\txml.set('fill-opacity', Std.string(v));\n\t\txml.set('stroke-opacity', Std.string(v));\n\t\treturn opacity = v;\n\t}\n\n\tfunction get_y():Int {\n\t\treturn y;\n\t}\n\n\tfunction set_y(value:Int):Int {\n\t\treturn y = value;\n\t}\n\n\tfunction get_x():Int {\n\t\treturn x;\n\t}\n\n\tfunction set_x(value:Int):Int {\n\t\treturn x = value;\n\t}\n\n\tfunction get_rotate():Int {\n\t\treturn rotate;\n\t}\n\n\tfunction set_rotate(value:Int):Int {\n\t\treturn rotate = value;\n\t}\n\n\tfunction get_transform():String {\n\t\treturn transform;\n\t}\n\n\tfunction set_transform(value:String):String {\n\t\treturn transform = value;\n\t}\n\n\tfunction get_dash():Array<Int> {\n\t\treturn dash;\n\t}\n\n\tfunction set_dash(value:Array<Int>):Array<Int> {\n\t\tvar str = '';\n\t\tfor (i in 0...value.length) {\n\t\t\tstr += value[i] + \" \";\n\t\t}\n\t\txml.set('stroke-dasharray', str);\n\t\treturn dash = value;\n\t}\n\n\t// ____________________________________ toString ____________________________________\n\n\tpublic function getName() {\n\t\tvar name = Type.getClassName(Type.getClass(this));\n\t\treturn ('${name}');\n\t}\n\n\tpublic function toObject() {\n\t\tvar name = Type.getClassName(Type.getClass(this));\n\t\treturn haxe.Json.parse(haxe.Json.stringify(this));\n\t}\n\n\tpublic function toString() {\n\t\tvar name = Type.getClassName(Type.getClass(this));\n\t\treturn ('${name}: ' + haxe.Json.parse(haxe.Json.stringify(this)));\n\t}\n}\n","package draw;\n\nclass Circle extends Base implements IBase {\n\tpublic var type = 'circle'; // base (get class name?)\n\n\t@:isVar public var radius(get, set):Int;\n\n\tpublic function new(x, y, radius) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.radius = radius;\n\t}\n\n\tpublic function noStroke() {\n\t\tthis.linewidth = 0;\n\t\tthis.stroke = 'transparant';\n\t}\n\n\tpublic function svg(settings:Settings):String {\n\t\tvar xml = Xml.createElement('circle');\n\t\txml.set('cx', Std.string(this.x));\n\t\txml.set('cy', Std.string(this.y));\n\t\txml.set('r', Std.string(this.radius));\n\n\t\txml.set('stroke-width', Std.string(this.linewidth));\n\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\tctx.fillStyle = this.fill;\n\t\tctx.strokeStyle = this.stroke;\n\t\tctx.lineWidth = this.linewidth;\n\t\tctx.beginPath();\n\t\tctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n\t\tctx.fill();\n\t\tctx.stroke();\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\tfunction get_radius():Int {\n\t\treturn radius;\n\t}\n\n\tfunction set_radius(value:Int):Int {\n\t\treturn radius = value;\n\t}\n\n\t// function get_fill():String {\n\t// \treturn fill;\n\t// }\n\t// function set_fill(value:String):String {\n\t// \treturn fill = value;\n\t// }\n\t// function get_stroke():String {\n\t// \treturn stroke;\n\t// }\n\t// function set_stroke(value:String):String {\n\t// \treturn stroke = value;\n\t// }\n\t// function get_linewidth():Int {\n\t// \treturn linewidth;\n\t// }\n\t// function set_linewidth(value:Int):Int {\n\t// \treturn linewidth = value;\n\t// }\n\t// function get_opacity():Float {\n\t// \treturn opacity;\n\t// }\n\t// function set_opacity(value:Float):Float {\n\t// \treturn opacity = value;\n\t// }\n}\n","package draw;\n\nclass Ellipse extends Base implements IBase {\n\t@:isVar public var ry(get, set):Int;\n\t@:isVar public var rx(get, set):Int;\n\n\tpublic var type = 'Ellipse'; // base (get class name?)\n\n\tpublic function new(x, y, rx, ry) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.rx = rx;\n\t\tthis.ry = ry;\n\t}\n\n\tpublic function svg(settings:Settings):String {\n\t\tvar xml = Xml.createElement('ellipse');\n\t\txml.set('cx', Std.string(this.x));\n\t\txml.set('cy', Std.string(this.y));\n\t\txml.set('rx', Std.string(this.rx));\n\t\txml.set('ry', Std.string(this.ry));\n\t\txml.set('stroke', Std.string(this.stroke));\n\t\txml.set('fill', Std.string(this.fill));\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\tctx.beginPath();\n\t\tctx.fill();\n\t\tctx.stroke();\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\n\tfunction get_ry():Int {\n\t\treturn ry;\n\t}\n\n\tfunction set_ry(value:Int):Int {\n\t\treturn ry = value;\n\t}\n\n\tfunction get_rx():Int {\n\t\treturn rx;\n\t}\n\n\tfunction set_rx(value:Int):Int {\n\t\treturn rx = value;\n\t}\n}\n","package draw;\n\nclass Group extends Base implements IBase {\n\tpublic var type = 'Group'; // base (get class name?)\n\n\t@:isVar public var scale(get, set):Float;\n\t@:isVar public var rotation(get, set):Float;\n\n\t@:isVar public var arr(get, set):Array<IBase>;\n\n\t/**\n\t *\n\t */\n\tpublic function new(arr:Array<IBase>) {\n\t\tthis.arr = arr;\n\t\txml = Xml.createElement('g');\n\t}\n\n\tpublic function svg(settings:Settings):String {\n\t\tif (this.getTransform() != '') {\n\t\t\txml.set('transform', this.getTransform());\n\t\t}\n\t\tvar comment = Xml.createComment('Group');\n\t\txml.addChild(comment); // not sure why?\n\t\tfor (i in 0...this.arr.length) {\n\t\t\t// untyped xml.appendChild(this.arr[i].svg);\n\t\t\t// xml.addChild(Xml.createComment(this.arr[i].type));\n\t\t\tvar temp = this.arr[i];\n\t\t\txml.addChild(Xml.parse(temp.svg(null)));\n\t\t}\n\t\t// xml.set('x', '0');\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\tctx.beginPath();\n\t\tctx.fill();\n\t\tctx.stroke();\n\t}\n\n\t// ____________________________________ unique functions for this specific class ____________________________________\n\n\tpublic function test() {\n\t\ttrace('test if casting works');\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\n\tfunction get_scale():Float {\n\t\treturn scale;\n\t}\n\n\tfunction set_scale(value:Float):Float {\n\t\treturn scale = value;\n\t}\n\n\tfunction get_rotation():Float {\n\t\treturn rotation;\n\t}\n\n\tfunction set_rotation(value:Float):Float {\n\t\treturn rotation = value;\n\t}\n\n\tfunction get_arr():Array<IBase> {\n\t\treturn arr;\n\t}\n\n\tfunction set_arr(value:Array<IBase>):Array<IBase> {\n\t\treturn arr = value;\n\t}\n}\n","package draw;\n\nclass Line extends Base implements IBase {\n\t@:isVar public var x2(get, set):Int;\n\t@:isVar public var y2(get, set):Int;\n\n\t// @:isVar public var stroke(get, set):String = '#000000';\n\t@:isVar public var lineCap(get, set):String = 'butt';\n\n\t@:isVar public var lineWeight(get, set):Int;\n\n\tpublic var type = 'Line'; // base (get class name?)\n\n\tpublic function new(x, y, x2, y2) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.x2 = x2;\n\t\tthis.y2 = y2;\n\t}\n\n\tpublic function svg(settings:Settings):String {\n\t\tvar xml = Xml.createElement('line');\n\t\txml.set('x1', Std.string(this.x));\n\t\txml.set('y1', Std.string(this.y));\n\t\txml.set('x2', Std.string(this.x2));\n\t\txml.set('y2', Std.string(this.y2));\n\t\txml.set('stroke', this.stroke);\n\t\tif (lineCap != 'butt')\n\t\t\txml.set('stroke-linecap', this.lineCap);\n\t\tif (lineWeight != null)\n\t\t\txml.set('stroke-width', Std.string(this.lineWeight));\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\tctx.beginPath();\n\t\tctx.fill();\n\t\tctx.stroke();\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\n\tfunction get_x2():Int {\n\t\treturn x2;\n\t}\n\n\tfunction set_x2(value:Int):Int {\n\t\treturn x2 = value;\n\t}\n\n\tfunction get_y2():Int {\n\t\treturn y2;\n\t}\n\n\tfunction set_y2(value:Int):Int {\n\t\treturn y2 = value;\n\t}\n\n\tfunction get_lineCap():String {\n\t\treturn lineCap;\n\t}\n\n\tfunction set_lineCap(value:String):String {\n\t\treturn lineCap = value;\n\t}\n\n\tfunction get_lineWeight():Int {\n\t\treturn lineWeight;\n\t}\n\n\tfunction set_lineWeight(value:Int):Int {\n\t\treturn lineWeight = value;\n\t}\n}\n","package draw;\n\nclass Polygon extends Base implements IBase {\n\tpublic var type = 'Polygon'; // base (get class name?)\n\n\t@:isVar public var arr(get, set):Array<Int>; // collection of points\n\n\t// @:isVar public var translate(get, set):Array<Int>;\n\n\tpublic function new(arr:Array<Int>) {\n\t\tthis.arr = arr;\n\t\txml = Xml.createElement('polygon');\n\t}\n\n\t/**\n\t\t<!-- Example of a polygon with the default fill -->\n\t\t<polygon points=\"0,100 50,25 50,75 100,0\" />\n\t\t<!-- Example of the same polygon shape with stroke and no fill -->\n\t\t<polygon points=\"100,100 150,25 150,75 200,0\" fill=\"none\" stroke=\"black\" />\n\t */\n\tpublic function svg(settings:Settings):String {\n\t\tvar str = '';\n\t\tfor (i in 0...this.arr.length) {\n\t\t\tvar value = this.arr[i];\n\t\t\tstr += '${value} ';\n\t\t}\n\t\txml.set('points', str);\n\n\t\tif (this.getTransform() != '') {\n\t\t\txml.set('transform', this.getTransform());\n\t\t}\n\n\t\t// if (this.translate != null)\n\t\t// \txml.set('transform', 'translate(${this.translate[0]},${this.translate[1]})');\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\tctx.beginPath();\n\t\tctx.fill();\n\t\tctx.stroke();\n\t}\n\n\t// ____________________________________ hmmmm ____________________________________\n\t// transform=\"translate(20,2.5) rotate(10)\">\n\t// public function setTranslate(x, y) {\n\t// \tthis.translate = [x, y];\n\t// }\n\n\t/**\n\t * position the shape by offset x and y\n\t * usefull when having a polygon but the values need to repostioned\n\t *\n\t * @param x position in x direction\n\t * @param y position in y dir\n\t */\n\t// public function position(x, y) {\n\t// \tthis.translate = [x, y];\n\t// }\n\t// ____________________________________ getter/setter ____________________________________\n\n\tfunction get_arr():Array<Int> {\n\t\treturn arr;\n\t}\n\n\tfunction set_arr(value:Array<Int>):Array<Int> {\n\t\treturn arr = value;\n\t}\n\n\t// function get_translate():Array<Int> {\n\t// \treturn translate;\n\t// }\n\t// function set_translate(value:Array<Int>):Array<Int> {\n\t// \treturn translate = value;\n\t// }\n}\n","package draw;\n\nimport cc.util.ColorUtil;\n\nclass Rectangle extends Base implements IBase {\n\t@:isVar public var width(get, set):Int;\n\t@:isVar public var height(get, set):Int;\n\n\t@:isVar public var radius(get, set):Int;\n\n\tpublic var type = 'rectangle'; // base (get class name?)\n\n\tvar xpos:Float;\n\tvar ypos:Float;\n\n\tpublic function new(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.xpos = this.x - (this.width / 2);\n\t\tthis.ypos = this.y - (this.height / 2);\n\t\txml = Xml.createElement('rect');\n\t}\n\n\tpublic function noStroke() {\n\t\tthis.linewidth = 0;\n\t\tthis.stroke = 'transparant';\n\t}\n\n\tpublic function svg(settings:Settings):String {\n\t\txml.set('x', Std.string(this.xpos));\n\t\txml.set('y', Std.string(this.ypos));\n\t\txml.set('width', Std.string(this.width));\n\t\txml.set('height', Std.string(this.height));\n\n\t\tif (radius != null) {\n\t\t\txml.set('rx', Std.string(this.radius));\n\t\t\txml.set('ry', Std.string(this.radius));\n\t\t}\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\tctx.fillStyle = this.fill;\n\t\tctx.strokeStyle = this.stroke;\n\t\tctx.lineWidth = this.linewidth;\n\n\t\tvar color = ColorUtil.assumption(this.fill);\n\t\tctx.fillStyle = ColorUtil.getColourObj(color, this.opacity);\n\n\t\ttrace(ColorUtil.getColourObj(color, this.opacity));\n\t\ttrace(color);\n\t\ttrace(this.fill);\n\n\t\tctx.beginPath();\n\n\t\tif (this.radius == null) {\n\t\t\t// normal rectangle\n\t\t\tctx.rect(this.xpos, this.ypos, this.width, this.height);\n\t\t} else {\n\t\t\t// rectangle with radius\n\t\t\tvar radius = {\n\t\t\t\ttl: this.radius,\n\t\t\t\ttr: this.radius,\n\t\t\t\tbr: this.radius,\n\t\t\t\tbl: this.radius\n\t\t\t};\n\t\t\tctx.moveTo(this.xpos + radius.tl, this.ypos);\n\t\t\tctx.lineTo(this.xpos + this.width - radius.tr, this.ypos);\n\t\t\tctx.quadraticCurveTo(this.xpos + this.width, this.ypos, this.xpos + this.width, this.ypos + radius.tr);\n\t\t\tctx.lineTo(this.xpos + this.width, this.ypos + this.height - radius.br);\n\t\t\tctx.quadraticCurveTo(this.xpos + this.width, this.ypos + this.height, this.xpos + this.width - radius.br, this.ypos + this.height);\n\t\t\tctx.lineTo(this.xpos + radius.bl, this.ypos + this.height);\n\t\t\tctx.quadraticCurveTo(this.xpos, this.ypos + this.height, this.xpos, this.ypos + this.height - radius.bl);\n\t\t\tctx.lineTo(this.xpos, this.ypos + radius.tl);\n\t\t\tctx.quadraticCurveTo(this.xpos, this.ypos, this.xpos + radius.tl, this.ypos);\n\t\t\tctx.closePath();\n\t\t}\n\n\t\tif (this.fill != null) {\n\t\t\tctx.fill();\n\t\t}\n\t\tif (this.stroke != null && this.linewidth != 0) {\n\t\t\tctx.stroke();\n\t\t}\n\n\t\t// ctx.fill();\n\t\t// ctx.stroke();\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\tfunction get_radius():Int {\n\t\treturn radius;\n\t}\n\n\tfunction set_radius(value:Int):Int {\n\t\treturn radius = value;\n\t}\n\n\tfunction get_width():Int {\n\t\treturn width;\n\t}\n\n\tfunction set_width(value:Int):Int {\n\t\treturn width = value;\n\t}\n\n\tfunction get_height():Int {\n\t\treturn height;\n\t}\n\n\tfunction set_height(value:Int):Int {\n\t\treturn height = value;\n\t}\n}\n","package draw;\n\nusing StringTools;\n\nclass Text extends Base implements IBase {\n\t@:isVar public var str(get, set):String;\n\t@:isVar public var style(get, set):String;\n\n\tpublic var type = 'Text'; // base (get class name?)\n\n\t/**\n\t *\n\t * [Description]\n\t * @param str\n\t * @param x\n\t * @param y\n\t * @source: https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text\n\t */\n\tpublic function new(str:String, ?x:Int, ?y:Int) {\n\t\tthis.str = str;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tpublic function svg(settings:Settings):String {\n\t\t// var style = '<style>.small {font:italic 13px sans-serif; fill:red;}</style>';\n\t\tvar comment = Xml.createComment('${this.str}');\n\t\tvar content = Xml.parse(this.str);\n\n\t\tvar xml = Xml.createElement('text');\n\t\txml.addChild(comment); // strange reason I need to add this comment first otherwise the next line will not work\n\t\txml.addChild(content);\n\t\txml.set('x', Std.string(this.x));\n\t\txml.set('y', Std.string(this.y));\n\t\t// this is probably a very bad way of fixing this... but it seems to work\n\t\tif (this.style != null) {\n\t\t\t// make sure the styling class is unique...\n\t\t\tvar className = this.str.replace(' ', '').replace('\\n', '').toLowerCase();\n\t\t\txml.set('class', 'fontstyle_${className}');\n\t\t\tvar style = '<style>.fontstyle_${className} {${this.style}}</style>';\n\t\t\txml.addChild(Xml.parse(style));\n\t\t}\n\t\t// xml.set('dx', Std.string(this.y));\n\t\t// xml.set('dy', Std.string(this.y));\n\t\t// xml.set('rotate', Std.string(this.y));\n\t\t// xml.set('lengthAdjust', Std.string(this.y));\n\t\t// xml.set('textLength', Std.string(this.y));\n\n\t\t/**\n\t\t\t<style>\n\t\t\t .small { font: italic 13px sans-serif; }\n\t\t\t</style>\n\t\t */\n\n\t\treturn xml.toString();\n\t}\n\n\tpublic function ctx(ctx:js.html.CanvasRenderingContext2D) {\n\t\ttrace(\"needs work!\");\n\t\t// ctx.beginPath();\n\t\t// ctx.fill();\n\t\t// ctx.stroke();\n\t}\n\n\t// ____________________________________ getter/setter ____________________________________\n\n\tfunction get_str():String {\n\t\treturn str;\n\t}\n\n\tfunction set_str(value:String):String {\n\t\treturn str = value;\n\t}\n\n\tfunction get_style():String {\n\t\treturn style;\n\t}\n\n\tfunction set_style(value:String):String {\n\t\treturn style = value;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tLog primarily provides the `trace()` method, which is invoked upon a call to\n\t`trace()` in Haxe code.\n**/\nclass Log {\n\n\t/**\n\t\tOutputs `v` in a platform-dependent way.\n\n\t\tThe second parameter `infos` is injected by the compiler and contains\n\t\tinformation about the position where the `trace()` call was made.\n\n\t\tThis method can be rebound to a custom function:\n\t\t\tvar oldTrace = haxe.Log.trace; // store old function\n\t\t\thaxe.Log.trace = function(v, ?infos) {\n\t\t\t  // handle trace\n\t\t\t}\n\t\t\t...\n\t\t\thaxe.Log.trace = oldTrace;\n\n\t\tIf it is bound to null, subsequent calls to `trace()` will cause an\n\t\texception.\n\t**/\n\tpublic static dynamic function trace( v : Dynamic, ?infos : PosInfos ) : Void {\n\t\t#if flash\n\t\t\t#if (fdb || native_trace)\n\t\t\t\tvar pstr = infos == null ? \"(null)\" : infos.fileName + \":\" + infos.lineNumber;\n\t\t\t\tvar str = flash.Boot.__string_rec(v, \"\");\n\t\t\t\tif( infos != null && infos.customParams != null ) for( v in infos.customParams ) str += \",\" + flash.Boot.__string_rec(v, \"\");\n\t\t\t\tuntyped __global__[\"trace\"](pstr+\": \"+str);\n\t\t\t#else\n\t\t\t\tuntyped flash.Boot.__trace(v,infos);\n\t\t\t#end\n\t\t#elseif neko\n\t\t\tuntyped {\n\t\t\t\t$print(infos.fileName + \":\" + infos.lineNumber + \": \", v);\n\t\t\t\tif( infos.customParams != null ) for( v in infos.customParams ) $print(\",\", v);\n\t\t\t\t$print(\"\\n\");\n\t\t\t}\n\t\t#elseif js\n\t\t\tuntyped js.Boot.__trace(v,infos);\n\t\t#elseif (php && php7)\n\t\t\tphp.Boot.trace(v, infos);\n\t\t#elseif php\n\t\t\tif (infos!=null && infos.customParams!=null) {\n\t\t\t\tvar extra:String = \"\";\n\t\t\t\tfor( v in infos.customParams )\n\t\t\t\t\textra += \",\" + v;\n\t\t\t\tuntyped __call__('_hx_trace', v + extra, infos);\n\t\t\t}\n\t\t\telse\n\t\t\t\tuntyped __call__('_hx_trace', v, infos);\n\t\t#elseif cpp\n\t\t\tif (infos!=null && infos.customParams!=null) {\n\t\t\t\tvar extra:String = \"\";\n\t\t\t\tfor( v in infos.customParams )\n\t\t\t\t\textra += \",\" + v;\n\t\t\t\tuntyped __trace(v + extra,infos);\n\t\t\t}\n\t\t\telse\n\t\t\t\tuntyped __trace(v,infos);\n\t\t#elseif (cs || java || lua)\n\t\t\tvar str:String = null;\n\t\t\tif (infos != null) {\n\t\t\t\tstr = infos.fileName + \":\" + infos.lineNumber + \": \" + v;\n\t\t\t\tif (infos.customParams != null)\n\t\t\t\t{\n\t\t\t\t\tstr += \",\" + infos.customParams.join(\",\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr = v;\n\t\t\t}\n\t\t\t#if cs\n\t\t\tcs.system.Console.WriteLine(str);\n\t\t\t#elseif java\n\t\t\tuntyped __java__(\"java.lang.System.out.println(str)\");\n\t\t\t#elseif lua\n\t\t\tif (str == null) str = \"null\";\n\t\t\tuntyped __define_feature__(\"use._hx_print\",_hx_print(str));\n\t\t\t#end\n\t\t#elseif (python)\n\t\t\tvar str:String = null;\n\t\t\tif (infos != null) {\n\t\t\t\tstr = infos.fileName + \":\" + Std.string(infos.lineNumber) + \": \" + v;\n\t\t\t\tif (infos.customParams != null) {\n\t\t\t\t\tstr += \",\" + infos.customParams.join(\",\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr = v;\n\t\t\t}\n\t\t\tpython.Lib.println(str);\n\t\t#elseif hl\n\t\t\tvar pstr = infos == null ? \"(null)\" : infos.fileName + \":\" + infos.lineNumber;\n\t\t\tvar str = Std.string(v);\n\t\t\tif( infos != null && infos.customParams != null ) for( v in infos.customParams ) str += \",\" + Std.string(v);\n\t\t\tSys.println(pstr+\": \"+str);\n\t\t#end\n\t}\n\n\t#if (flash || js)\n\t/**\n\t\tClears the trace output.\n\t**/\n\tpublic static dynamic function clear() : Void {\n\t\t#if flash\n\t\tuntyped flash.Boot.__clear_trace();\n\t\t#elseif js\n\t\tuntyped js.Boot.__clear_trace();\n\t\t#end\n\t}\n\t#end\n\n\t#if flash\n\t/**\n\t\tSets the color of the trace output to `rgb`.\n\t**/\n\tpublic static dynamic function setColor( rgb : Int ) {\n\t\tuntyped flash.Boot.__set_trace_color(rgb);\n\t}\n\t#end\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tThe Timer class allows you to create asynchronous timers on platforms that\n\tsupport events.\n\n\tThe intended usage is to create an instance of the Timer class with a given\n\tinterval, set its run() method to a custom function to be invoked and\n\teventually call stop() to stop the Timer.\n\n\tNote that a running Timer may or may not prevent the program to exit\n\tautomatically when main() returns.\n\n\tIt is also possible to extend this class and override its run() method in\n\tthe child class.\n**/\nclass Timer {\n\n\t#if (flash || js)\n\t\tprivate var id : Null<Int>;\n\t#elseif java\n\t\tprivate var timer : java.util.Timer;\n\t\tprivate var task : java.util.TimerTask;\n\t#else\n\t\tprivate var event : MainLoop.MainEvent;\n\t#end\n\n\t/**\n\t\tCreates a new timer that will run every `time_ms` milliseconds.\n\n\t\tAfter creating the Timer instance, it calls `this.run` repeatedly,\n\t\twith delays of `time_ms` milliseconds, until `this.stop` is called.\n\n\t\tThe first invocation occurs after `time_ms` milliseconds, not\n\t\timmediately.\n\n\t\tThe accuracy of this may be platform-dependent.\n\t**/\n\tpublic function new( time_ms : Int ){\n\t\t#if flash\n\t\t\tvar me = this;\n\t\t\tid = untyped __global__[\"flash.utils.setInterval\"](function() { me.run(); },time_ms);\n\t\t#elseif js\n\t\t\tvar me = this;\n\t\t\tid = untyped setInterval(function() me.run(),time_ms);\n\t\t#elseif java\n\t\t\ttimer = new java.util.Timer();\n\t\t\ttimer.scheduleAtFixedRate(task = new TimerTask(this), haxe.Int64.ofInt(time_ms), haxe.Int64.ofInt(time_ms));\n\t\t#else\n\t\t\tvar dt = time_ms / 1000;\n\t\t\tevent = MainLoop.add(function() {\n\t\t\t\t@:privateAccess event.nextRun += dt;\n\t\t\t\trun();\n\t\t\t});\n\t\t\tevent.delay(dt);\n\t\t#end\n\t}\n\n\t/**\n\t\tStops `this` Timer.\n\n\t\tAfter calling this method, no additional invocations of `this.run`\n\t\twill occur.\n\n\t\tIt is not possible to restart `this` Timer once stopped.\n\t**/\n\tpublic function stop() {\n\t\t#if (flash || js)\n\t\t\tif( id == null )\n\t\t\t\treturn;\n\t\t\t#if flash\n\t\t\t\tuntyped __global__[\"flash.utils.clearInterval\"](id);\n\t\t\t#elseif js\n\t\t\t\tuntyped clearInterval(id);\n\t\t\t#end\n\t\t\tid = null;\n\t\t#elseif java\n\t\t\tif(timer != null) {\n\t\t\t\ttimer.cancel();\n\t\t\t\ttimer = null;\n\t\t\t}\n\t\t\ttask = null;\n\t\t#else\n\t\t\tif( event != null ) {\n\t\t\t\tevent.stop();\n\t\t\t\tevent = null;\n\t\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tThis method is invoked repeatedly on `this` Timer.\n\n\t\tIt can be overridden in a subclass, or rebound directly to a custom\n\t\tfunction:\n\t\t\tvar timer = new haxe.Timer(1000); // 1000ms delay\n\t\t\ttimer.run = function() { ... }\n\n\t\tOnce bound, it can still be rebound to different functions until `this`\n\t\tTimer is stopped through a call to `this.stop`.\n\t**/\n\tpublic dynamic function run() {\n\n\t}\n\n\t/**\n\t\tInvokes `f` after `time_ms` milliseconds.\n\n\t\tThis is a convenience function for creating a new Timer instance with\n\t\t`time_ms` as argument, binding its run() method to `f` and then stopping\n\t\t`this` Timer upon the first invocation.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function delay( f : Void -> Void, time_ms : Int ) {\n\t\tvar t = new haxe.Timer(time_ms);\n\t\tt.run = function() {\n\t\t\tt.stop();\n\t\t\tf();\n\t\t};\n\t\treturn t;\n\t}\n\n\t/**\n\t\tMeasures the time it takes to execute `f`, in seconds with fractions.\n\n\t\tThis is a convenience function for calculating the difference between\n\t\tTimer.stamp() before and after the invocation of `f`.\n\n\t\tThe difference is passed as argument to Log.trace(), with \"s\" appended\n\t\tto denote the unit. The optional `pos` argument is passed through.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function measure<T>( f : Void -> T, ?pos : PosInfos ) : T {\n\t\tvar t0 = stamp();\n\t\tvar r = f();\n\t\tLog.trace((stamp() - t0) + \"s\", pos);\n\t\treturn r;\n\t}\n\n\t/**\n\t\tReturns a timestamp, in seconds with fractions.\n\n\t\tThe value itself might differ depending on platforms, only differences\n\t\tbetween two values make sense.\n\t**/\n\tpublic static inline function stamp() : Float {\n\t\t#if flash\n\t\t\treturn flash.Lib.getTimer() / 1000;\n\t\t#elseif (neko || php)\n\t\t\treturn Sys.time();\n\t\t#elseif js\n\t\t\treturn Date.now().getTime() / 1000;\n\t\t#elseif cpp\n\t\t\treturn untyped __global__.__time_stamp();\n\t\t#elseif python\n\t\t\treturn Sys.cpuTime();\n\t\t#elseif sys\n\t\t\treturn Sys.time();\n\n\t\t#else\n\t\t\treturn 0;\n\t\t#end\n\t}\n\n}\n\n#if java\n@:nativeGen\nprivate class TimerTask extends java.util.TimerTask {\n\tvar timer:Timer;\n\tpublic function new(timer:Timer):Void {\n\t\tsuper();\n\t\tthis.timer = timer;\n\t}\n\n\t@:overload override public function run():Void {\n\t\ttimer.run();\n\t}\n}\n#end\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.ds;\n\nprivate class StringMapIterator<T> {\n\tvar map : StringMap<T>;\n\tvar keys : Array<String>;\n\tvar index : Int;\n\tvar count : Int;\n\tpublic inline function new(map:StringMap<T>, keys:Array<String>) {\n\t\tthis.map = map;\n\t\tthis.keys = keys;\n\t\tthis.index = 0;\n\t\tthis.count = keys.length;\n\t}\n\tpublic inline function hasNext() {\n\t\treturn index < count;\n\t}\n\tpublic inline function next() {\n\t\treturn map.get(keys[index++]);\n\t}\n}\n\n@:coreApi class StringMap<T> implements haxe.Constraints.IMap<String,T> {\n\n\tprivate var h : Dynamic;\n\tprivate var rh : Dynamic;\n\n\tpublic inline function new() : Void {\n\t\th = {};\n\t}\n\n\tinline function isReserved(key:String) : Bool {\n\t\treturn untyped __js__(\"__map_reserved\")[key] != null;\n\t}\n\n\tpublic inline function set( key : String, value : T ) : Void {\n\t\tif( isReserved(key) )\n\t\t\tsetReserved(key, value);\n\t\telse\n\t\t\th[cast key] = value;\n\t}\n\n\tpublic inline function get( key : String ) : Null<T> {\n\t\tif( isReserved(key) )\n\t\t\treturn getReserved(key);\n\t\treturn h[cast key];\n\t}\n\n\tpublic inline function exists( key : String ) : Bool {\n\t\tif( isReserved(key) )\n\t\t\treturn existsReserved(key);\n\t\treturn h.hasOwnProperty(key);\n\t}\n\n\tfunction setReserved( key : String, value : T ) : Void {\n\t\tif( rh == null ) rh = {};\n\t\trh[cast \"$\"+key] = value;\n\t}\n\n\tfunction getReserved( key : String ) : Null<T> {\n\t\treturn rh == null ? null : rh[cast \"$\"+key];\n\t}\n\n\tfunction existsReserved( key : String ) : Bool {\n\t\tif( rh == null ) return false;\n\t\treturn untyped rh.hasOwnProperty(\"$\"+key);\n\t}\n\n\tpublic function remove( key : String ) : Bool {\n\t\tif( isReserved(key) ) {\n\t\t\tkey = \"$\" + key;\n\t\t\tif( rh == null || !rh.hasOwnProperty(key) ) return false;\n\t\t\tuntyped __js__(\"delete\")(rh[key]);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif( !h.hasOwnProperty(key) )\n\t\t\t\treturn false;\n\t\t\tuntyped __js__(\"delete\")(h[key]);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic function keys() : Iterator<String> {\n\t\treturn arrayKeys().iterator();\n\t}\n\t\n\tfunction arrayKeys() : Array<String> {\n\t\tvar out = [];\n\t\tuntyped {\n\t\t\t__js__(\"for( var key in this.h ) {\");\n\t\t\t\tif( h.hasOwnProperty(key) )\n\t\t\t\t\tout.push(key);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\tif( rh != null ) untyped {\n\t\t\t__js__(\"for( var key in this.rh ) {\");\n\t\t\t\tif( key.charCodeAt(0) == \"$\".code )\n\t\t\t\t\tout.push(key.substr(1));\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn out;\n\t}\n\n\tpublic inline function iterator() : Iterator<T> {\n\t\treturn new StringMapIterator(this, arrayKeys());\n\t}\n\n\tpublic function toString() : String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar keys = arrayKeys();\n\t\tfor( i in 0...keys.length ) {\n\t\t\tvar k = keys[i];\n\t\t\ts.add(k);\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(k)));\n\t\t\tif( i < keys.length-1 )\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\tstatic function __init__() : Void {\n\t\tuntyped __js__(\"var __map_reserved = {};\");\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.xml;\n\nusing StringTools;\n\n/* poor'man enum : reduce code size + a bit faster since inlined */\nextern private class S {\n\tpublic static inline var IGNORE_SPACES \t= 0;\n\tpublic static inline var BEGIN\t\t\t= 1;\n\tpublic static inline var BEGIN_NODE\t\t= 2;\n\tpublic static inline var TAG_NAME\t\t= 3;\n\tpublic static inline var BODY\t\t\t= 4;\n\tpublic static inline var ATTRIB_NAME\t= 5;\n\tpublic static inline var EQUALS\t\t\t= 6;\n\tpublic static inline var ATTVAL_BEGIN\t= 7;\n\tpublic static inline var ATTRIB_VAL\t\t= 8;\n\tpublic static inline var CHILDS\t\t\t= 9;\n\tpublic static inline var CLOSE\t\t\t= 10;\n\tpublic static inline var WAIT_END\t\t= 11;\n\tpublic static inline var WAIT_END_RET\t= 12;\n\tpublic static inline var PCDATA\t\t\t= 13;\n\tpublic static inline var HEADER\t\t\t= 14;\n\tpublic static inline var COMMENT\t\t= 15;\n\tpublic static inline var DOCTYPE\t\t= 16;\n\tpublic static inline var CDATA\t\t\t= 17;\n\tpublic static inline var ESCAPE\t\t\t= 18;\n}\n\nclass XmlParserException\n{\n\t/**\n\t * the XML parsing error message\n\t */\n\tpublic var message:String;\n\n\t/**\n\t * the line number at which the XML parsing error occurred\n\t */\n\tpublic var lineNumber:Int;\n\n\t/**\n\t * the character position in the reported line at which the parsing error occurred\n\t */\n\tpublic var positionAtLine:Int;\n\n\t/**\n\t * the character position in the XML string at which the parsing error occurred\n\t */\n\tpublic var position:Int;\n\n\t/**\n\t * the invalid XML string\n\t */\n\tpublic var xml:String;\n\n\tpublic function new(message:String, xml:String, position:Int)\n\t{\n\t\tthis.xml = xml;\n\t\tthis.message = message;\n\t\tthis.position = position;\n\t\tlineNumber = 1;\n\t\tpositionAtLine = 0;\n\n\t\tfor( i in 0...position)\n\t\t{\n\t\t\tvar c = xml.fastCodeAt(i);\n\t\t\tif (c == '\\n'.code) {\n\t\t\t\tlineNumber++;\n\t\t\t\tpositionAtLine = 0;\n\t\t\t} else {\n\t\t\t\tif (c != '\\r'.code) positionAtLine++;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic function toString():String\n\t{\n\t\treturn Type.getClassName(Type.getClass(this)) + \": \" + message + \" at line \" + lineNumber + \" char \" + positionAtLine;\n\t}\n}\n\nclass Parser\n{\n\tstatic var escapes = {\n\t\tvar h = new haxe.ds.StringMap();\n\t\th.set(\"lt\", \"<\");\n\t\th.set(\"gt\", \">\");\n\t\th.set(\"amp\", \"&\");\n\t\th.set(\"quot\", '\"');\n\t\th.set(\"apos\", \"'\");\n\t\th;\n\t}\n\n\t/**\n\t * Parses the String into an XML Document. Set strict parsing to true in order to enable a strict check of XML attributes and entities.\n\t *\n\t * @throws haxe.xml.XmlParserException\n\t */\n\tstatic public function parse(str:String, strict = false)\n\t{\n\t\tvar doc = Xml.createDocument();\n\t\tdoParse(str, strict, 0, doc);\n\t\treturn doc;\n\t}\n\n\tstatic function doParse(str:String, strict:Bool, p:Int = 0, ?parent:Xml):Int\n\t{\n\t\tvar xml:Xml = null;\n\t\tvar state = S.BEGIN;\n\t\tvar next = S.BEGIN;\n\t\tvar aname = null;\n\t\tvar start = 0;\n\t\tvar nsubs = 0;\n\t\tvar nbrackets = 0;\n\t\tvar c = str.fastCodeAt(p);\n\t\tvar buf = new StringBuf();\n\t\t// need extra state because next is in use\n\t\tvar escapeNext = S.BEGIN;\n\t\tvar attrValQuote = -1;\n\t\tinline function addChild(xml:Xml) {\n\t\t\tparent.addChild(xml);\n\t\t\tnsubs++;\n\t\t}\n\t\twhile (!StringTools.isEof(c))\n\t\t{\n\t\t\tswitch(state)\n\t\t\t{\n\t\t\t\tcase S.IGNORE_SPACES:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase\n\t\t\t\t\t\t\t'\\n'.code,\n\t\t\t\t\t\t\t'\\r'.code,\n\t\t\t\t\t\t\t'\\t'.code,\n\t\t\t\t\t\t\t' '.code:\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate = next;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.BEGIN:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '<'.code:\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.BEGIN_NODE;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\t\tstate = S.PCDATA;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.PCDATA:\n\t\t\t\t\tif (c == '<'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\tvar child = Xml.createPCData(buf.toString());\n\t\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\t\taddChild(child);\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.BEGIN_NODE;\n\t\t\t\t\t} else if (c == '&'.code) {\n\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\tstate = S.ESCAPE;\n\t\t\t\t\t\tescapeNext = S.PCDATA;\n\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t}\n\t\t\t\tcase S.CDATA:\n\t\t\t\t\tif (c == ']'.code && str.fastCodeAt(p + 1) == ']'.code && str.fastCodeAt(p + 2) == '>'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar child = Xml.createCData(str.substr(start, p - start));\n\t\t\t\t\t\taddChild(child);\n\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.BEGIN_NODE:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '!'.code:\n\t\t\t\t\t\t\tif (str.fastCodeAt(p + 1) == '['.code)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\t\t\tif (str.substr(p, 6).toUpperCase() != \"CDATA[\")\n\t\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected <![CDATA[\", str, p);\n\t\t\t\t\t\t\t\tp += 5;\n\t\t\t\t\t\t\t\tstate = S.CDATA;\n\t\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (str.fastCodeAt(p + 1) == 'D'.code || str.fastCodeAt(p + 1) == 'd'.code)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(str.substr(p + 2, 6).toUpperCase() != \"OCTYPE\")\n\t\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected <!DOCTYPE\", str, p);\n\t\t\t\t\t\t\t\tp += 8;\n\t\t\t\t\t\t\t\tstate = S.DOCTYPE;\n\t\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if( str.fastCodeAt(p + 1) != '-'.code || str.fastCodeAt(p + 2) != '-'.code )\n\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected <!--\", str, p);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\t\t\tstate = S.COMMENT;\n\t\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase '?'.code:\n\t\t\t\t\t\t\tstate = S.HEADER;\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\tcase '/'.code:\n\t\t\t\t\t\t\tif( parent == null )\n\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected node name\", str, p);\n\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.CLOSE;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate = S.TAG_NAME;\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.TAG_NAME:\n\t\t\t\t\tif (!isValidChar(c))\n\t\t\t\t\t{\n\t\t\t\t\t\tif( p == start )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected node name\", str, p);\n\t\t\t\t\t\txml = Xml.createElement(str.substr(start, p - start));\n\t\t\t\t\t\taddChild(xml);\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.BODY;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.BODY:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '/'.code:\n\t\t\t\t\t\t\tstate = S.WAIT_END;\n\t\t\t\t\t\tcase '>'.code:\n\t\t\t\t\t\t\tstate = S.CHILDS;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tstate = S.ATTRIB_NAME;\n\t\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.ATTRIB_NAME:\n\t\t\t\t\tif (!isValidChar(c))\n\t\t\t\t\t{\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tif( start == p )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected attribute name\", str, p);\n\t\t\t\t\t\ttmp = str.substr(start,p-start);\n\t\t\t\t\t\taname = tmp;\n\t\t\t\t\t\tif( xml.exists(aname) )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Duplicate attribute [\" + aname + \"]\", str, p);\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.EQUALS;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.EQUALS:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '='.code:\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.ATTVAL_BEGIN;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected =\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.ATTVAL_BEGIN:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '\"'.code | '\\''.code:\n\t\t\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\t\t\tstate = S.ATTRIB_VAL;\n\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\t\tattrValQuote = c;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected \\\"\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.ATTRIB_VAL:\n\t\t\t\t\tswitch (c) {\n\t\t\t\t\t\tcase '&'.code:\n\t\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\t\tstate = S.ESCAPE;\n\t\t\t\t\t\t\tescapeNext = S.ATTRIB_VAL;\n\t\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\tcase '>'.code | '<'.code if( strict ):\n\t\t\t\t\t\t\t// HTML allows these in attributes values\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Invalid unescaped \" + String.fromCharCode(c) + \" in attribute value\", str, p);\n\t\t\t\t\t\tcase _ if (c == attrValQuote):\n\t\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\t\tvar val = buf.toString();\n\t\t\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\t\t\txml.set(aname, val);\n\t\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\t\tnext = S.BODY;\n\t\t\t\t\t}\n\t\t\t\tcase S.CHILDS:\n\t\t\t\t\tp = doParse(str, strict, p, xml);\n\t\t\t\t\tstart = p;\n\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\tcase S.WAIT_END:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '>'.code:\n\t\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected >\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.WAIT_END_RET:\n\t\t\t\t\tswitch(c)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase '>'.code:\n\t\t\t\t\t\t\tif( nsubs == 0 )\n\t\t\t\t\t\t\t\tparent.addChild(Xml.createPCData(\"\"));\n\t\t\t\t\t\t\treturn p;\n\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected >\", str, p);\n\t\t\t\t\t}\n\t\t\t\tcase S.CLOSE:\n\t\t\t\t\tif (!isValidChar(c))\n\t\t\t\t\t{\n\t\t\t\t\t\tif( start == p )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected node name\", str, p);\n\n\t\t\t\t\t\tvar v = str.substr(start,p - start);\n\t\t\t\t\t\tif (v != parent.nodeName)\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Expected </\" +parent.nodeName + \">\", str, p);\n\n\t\t\t\t\t\tstate = S.IGNORE_SPACES;\n\t\t\t\t\t\tnext = S.WAIT_END_RET;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\tcase S.COMMENT:\n\t\t\t\t\tif (c == '-'.code && str.fastCodeAt(p +1) == '-'.code && str.fastCodeAt(p + 2) == '>'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\taddChild(Xml.createComment(str.substr(start, p - start)));\n\t\t\t\t\t\tp += 2;\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.DOCTYPE:\n\t\t\t\t\tif(c == '['.code)\n\t\t\t\t\t\tnbrackets++;\n\t\t\t\t\telse if(c == ']'.code)\n\t\t\t\t\t\tnbrackets--;\n\t\t\t\t\telse if (c == '>'.code && nbrackets == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\taddChild(Xml.createDocType(str.substr(start, p - start)));\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.HEADER:\n\t\t\t\t\tif (c == '?'.code && str.fastCodeAt(p + 1) == '>'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tp++;\n\t\t\t\t\t\tvar str = str.substr(start + 1, p - start - 2);\n\t\t\t\t\t\taddChild(Xml.createProcessingInstruction(str));\n\t\t\t\t\t\tstate = S.BEGIN;\n\t\t\t\t\t}\n\t\t\t\tcase S.ESCAPE:\n\t\t\t\t\tif (c == ';'.code)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar s = str.substr(start, p - start);\n\t\t\t\t\t\tif (s.fastCodeAt(0) == '#'.code) {\n\t\t\t\t\t\t\tvar c = s.fastCodeAt(1) == 'x'.code\n\t\t\t\t\t\t\t\t? Std.parseInt(\"0\" +s.substr(1, s.length - 1))\n\t\t\t\t\t\t\t\t: Std.parseInt(s.substr(1, s.length - 1));\n\t\t\t\t\t\t\t#if (neko || cpp || php || lua)\n\t\t\t\t\t\t\tif( c >= 128 ) {\n\t\t\t\t\t\t\t\t// UTF8-encode it\n\t\t\t\t\t\t\t\tif( c <= 0x7FF ) {\n\t\t\t\t\t\t\t\t\tbuf.addChar(0xC0 | (c >> 6));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | (c & 63));\n\t\t\t\t\t\t\t\t} else if( c <= 0xFFFF ) {\n\t\t\t\t\t\t\t\t\tbuf.addChar(0xE0 | (c >> 12));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | ((c >> 6) & 63));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | (c & 63));\n\t\t\t\t\t\t\t\t} else if( c <= 0x10FFFF ) {\n\t\t\t\t\t\t\t\t\tbuf.addChar(0xF0 | (c >> 18));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | ((c >> 12) & 63));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | ((c >> 6) & 63));\n\t\t\t\t\t\t\t\t\tbuf.addChar(0x80 | (c & 63));\n\t\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Cannot encode UTF8-char \" + c, str, p);\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t#end\n\t\t\t\t\t\t\tbuf.addChar(c);\n\t\t\t\t\t\t} else if (!escapes.exists(s)) {\n\t\t\t\t\t\t\tif( strict )\n\t\t\t\t\t\t\t\tthrow new XmlParserException(\"Undefined entity: \" + s, str, p);\n\t\t\t\t\t\t\tbuf.add('&$s;');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuf.add(escapes.get(s));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\tstate = escapeNext;\n\t\t\t\t\t} else if (!isValidChar(c) && c != \"#\".code) {\n\t\t\t\t\t\tif( strict )\n\t\t\t\t\t\t\tthrow new XmlParserException(\"Invalid character in entity: \" + String.fromCharCode(c), str, p);\n\t\t\t\t\t\tbuf.addChar(\"&\".code);\n\t\t\t\t\t\tbuf.addSub(str, start, p - start);\n\t\t\t\t\t\tp--;\n\t\t\t\t\t\tstart = p + 1;\n\t\t\t\t\t\tstate = escapeNext;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tc = str.fastCodeAt(++p);\n\t\t}\n\n\t\tif (state == S.BEGIN)\n\t\t{\n\t\t\tstart = p;\n\t\t\tstate = S.PCDATA;\n\t\t}\n\n\t\tif (state == S.PCDATA)\n\t\t{\n\t\t\tif (p != start || nsubs == 0) {\n\t\t\t\tbuf.addSub(str, start, p-start);\n\t\t\t\taddChild(Xml.createPCData(buf.toString()));\n\t\t\t}\n\t\t\treturn p;\n\t\t}\n\n\t\tif( !strict && state == S.ESCAPE && escapeNext == S.PCDATA ) {\n\t\t\tbuf.addChar(\"&\".code);\n\t\t\tbuf.addSub(str, start, p - start);\n\t\t\taddChild(Xml.createPCData(buf.toString()));\n\t\t\treturn p;\n\t\t}\n\n\t\tthrow new XmlParserException(\"Unexpected end\", str, p);\n\t}\n\n\tstatic inline function isValidChar(c) {\n\t\treturn (c >= 'a'.code && c <= 'z'.code) || (c >= 'A'.code && c <= 'Z'.code) || (c >= '0'.code && c <= '9'.code) || c == ':'.code || c == '.'.code || c == '_'.code || c == '-'.code;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.xml;\n\n/**\n\tThis class provides utility methods to convert Xml instances to \n\tString representation.\n**/\nclass Printer {\n\t/**\n\t\tConvert `Xml` to string representation.\n\t\t\n\t\tSet `pretty` to `true` to prettify the result.\n\t**/\n\tstatic public function print(xml:Xml, ?pretty = false) {\n\t\tvar printer = new Printer(pretty);\n\t\tprinter.writeNode(xml, \"\");\n\t\treturn printer.output.toString();\n\t}\n\n\tvar output:StringBuf;\n\tvar pretty:Bool;\n\n\tfunction new(pretty) {\n\t\toutput = new StringBuf();\n\t\tthis.pretty = pretty;\n\t}\n\n\tfunction writeNode(value:Xml, tabs:String) {\n\t\tswitch (value.nodeType) {\n\t\t\tcase CData:\n\t\t\t\twrite(tabs + \"<![CDATA[\");\n\t\t\t\twrite(StringTools.trim(value.nodeValue));\n\t\t\t\twrite(\"]]>\");\n\t\t\t\tnewline();\n\t\t\tcase Comment:\n\t\t\t\tvar commentContent:String = value.nodeValue;\n\t\t\t\tcommentContent = ~/[\\n\\r\\t]+/g.replace(commentContent, \"\");\n\t\t\t\tcommentContent = \"<!--\" + commentContent + \"-->\";\n\t\t\t\twrite(tabs);\n\t\t\t\twrite(StringTools.trim(commentContent));\n\t\t\t\tnewline();\n\t\t\tcase Document:\n\t\t\t\tfor (child in value) {\n\t\t\t\t\twriteNode(child, tabs);\n\t\t\t\t}\n\t\t\tcase Element:\n\t\t\t\twrite(tabs + \"<\");\n\t\t\t\twrite(value.nodeName);\n\t\t\t\tfor (attribute in value.attributes()) {\n\t\t\t\t\twrite(\" \" + attribute + \"=\\\"\");\n\t\t\t\t\twrite(StringTools.htmlEscape(value.get(attribute), true));\n\t\t\t\t\twrite(\"\\\"\");\n\t\t\t\t}\n\t\t\t\tif (hasChildren(value)) {\n\t\t\t\t\twrite(\">\");\n\t\t\t\t\tnewline();\n\t\t\t\t\tfor (child in value) {\n\t\t\t\t\t\twriteNode(child, pretty ? tabs + \"\\t\" : tabs);\n\t\t\t\t\t}\n\t\t\t\t\twrite(tabs + \"</\");\n\t\t\t\t\twrite(value.nodeName);\n\t\t\t\t\twrite(\">\");\n\t\t\t\t\tnewline();\n\t\t\t\t} else {\n\t\t\t\t\twrite(\"/>\");\n\t\t\t\t\tnewline();\n\t\t\t\t}\n\t\t\tcase PCData:\n\t\t\t\tvar nodeValue:String = value.nodeValue;\n\t\t\t\tif (nodeValue.length != 0) {\n\t\t\t\t\twrite(tabs + StringTools.htmlEscape(nodeValue));\n\t\t\t\t\tnewline();\n\t\t\t\t}\n\t\t\tcase ProcessingInstruction:\n\t\t\t\twrite(\"<?\" + value.nodeValue + \"?>\");\n\t\t\t\tnewline();\n\t\t\tcase DocType:\n\t\t\t\twrite(\"<!DOCTYPE \" + value.nodeValue + \">\");\n\t\t\t\tnewline();\n\t\t}\n\t}\n\n\tinline function write(input:String) {\n\t\toutput.add(input);\n\t}\n\n\tinline function newline() {\n\t\tif (pretty) {\n\t\t\toutput.add(\"\\n\");\n\t\t}\n\t}\n\n\tfunction hasChildren(value:Xml):Bool {\n\t\tfor (child in value) {\n\t\t\tswitch (child.nodeType) {\n\t\t\t\tcase Element, PCData:\n\t\t\t\t\treturn true;\n\t\t\t\tcase CData, Comment:\n\t\t\t\t\tif (StringTools.ltrim(child.nodeValue).length != 0) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\tcase _:\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js;\n\nprivate class HaxeError extends js.Error {\n\n\tvar val:Dynamic;\n\n\tpublic function new(val:Dynamic) untyped {\n\t\tsuper();\n\t\tthis.val = __define_feature__(\"js.Boot.HaxeError\", val);\n\t\tthis.message = String(val);\n\t\tif (js.Error.captureStackTrace) js.Error.captureStackTrace(this, HaxeError);\n\t}\n\n\tpublic static function wrap(val:Dynamic):Dynamic untyped {\n\t\treturn if (__instanceof__(val, js.Error)) val else new HaxeError(val);\n\t}\n}\n\n@:dox(hide)\nclass Boot {\n\n\tprivate static function __unhtml(s : String) {\n\t\treturn s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t}\n\n\tprivate static function __trace(v,i : haxe.PosInfos) {\n\t\tuntyped {\n\t\t\tvar msg = if( i != null ) i.fileName+\":\"+i.lineNumber+\": \" else \"\";\n\t\t\t#if jsfl\n\t\t\tmsg += __string_rec(v,\"\");\n\t\t\tfl.trace(msg);\n\t\t\t#else\n\t\t\tmsg += __string_rec(v, \"\");\n\t\t\tif( i != null && i.customParams != null )\n\t\t\t\tfor( v in i.customParams )\n\t\t\t\t\tmsg += \",\" + __string_rec(v, \"\");\n\t\t\tvar d;\n\t\t\tif( __js__(\"typeof\")(document) != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null )\n\t\t\t\td.innerHTML += __unhtml(msg)+\"<br/>\";\n\t\t\telse if( __js__(\"typeof console\") != \"undefined\" && __js__(\"console\").log != null )\n\t\t\t\t__js__(\"console\").log(msg);\n\t\t\t#end\n\t\t}\n\t}\n\n\tprivate static function __clear_trace() {\n\t\tuntyped {\n\t\t\t#if jsfl\n\t\t\tfl.outputPanel.clear();\n\t\t\t#else\n\t\t\tvar d = document.getElementById(\"haxe:trace\");\n\t\t\tif( d != null )\n\t\t\t\td.innerHTML = \"\";\n\t\t\t#end\n\t\t}\n\t}\n\n\tstatic inline function isClass(o:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\tstatic function getClass(o:Dynamic) : Dynamic {\n\t\tif (Std.is(o, Array))\n\t\t\treturn Array;\n\t\telse {\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t\t\tif (cl != null)\n\t\t\t\treturn cl;\n\t\t\tvar name = __nativeClassName(o);\n\t\t\tif (name != null)\n\t\t\t\treturn __resolveNativeClass(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o,s:String) {\n\t\tuntyped {\n\t\t\tif( o == null )\n\t\t\t    return \"null\";\n\t\t\tif( s.length >= 5 )\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = __js__(\"typeof(o)\");\n\t\t\tif( t == \"function\" && (isClass(o) || isEnum(o)) )\n\t\t\t\tt = \"object\";\n\t\t\tswitch( t ) {\n\t\t\tcase \"object\":\n\t\t\t\tif( __js__(\"o instanceof Array\") ) {\n\t\t\t\t\tif( o.__enum__ ) {\n\t\t\t\t\t\tif( o.length == 2 )\n\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\tvar str = o[0]+\"(\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor( i in 2...o.length ) {\n\t\t\t\t\t\t\tif( i != 2 )\n\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i],s);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tstr += __string_rec(o[i],s);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tvar l = o.length;\n\t\t\t\t\tvar i;\n\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tfor( i in 0...l )\n\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\")+__string_rec(o[i],s);\n\t\t\t\t\tstr += \"]\";\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t\tvar tostr;\n\t\t\t\ttry {\n\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t} catch( e : Dynamic ) {\n\t\t\t\t\t// strange error on IE\n\t\t\t\t\treturn \"???\";\n\t\t\t\t}\n\t\t\t\tif( tostr != null && tostr != __js__(\"Object.toString\") && __typeof__(tostr) == \"function\" ) {\n\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\tif( s2 != \"[object Object]\")\n\t\t\t\t\t\treturn s2;\n\t\t\t\t}\n\t\t\t\tvar k : String = null;\n\t\t\t\tvar str = \"{\\n\";\n\t\t\t\ts += \"\\t\";\n\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t__js__(\"for( var k in o ) {\");\n\t\t\t\t\tif( hasp && !o.hasOwnProperty(k) )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\" )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( str.length != 2 )\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \"+__string_rec(o[k],s);\n\t\t\t\t__js__(\"}\");\n\t\t\t\ts = s.substring(1);\n\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\treturn str;\n\t\t\tcase \"function\":\n\t\t\t\treturn \"<function>\";\n\t\t\tcase \"string\":\n\t\t\t\treturn o;\n\t\t\tdefault:\n\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static function __interfLoop(cc : Dynamic,cl : Dynamic) {\n\t\tif( cc == null )\n\t\t\treturn false;\n\t\tif( cc == cl )\n\t\t\treturn true;\n\t\tvar intf : Dynamic = cc.__interfaces__;\n\t\tif( intf != null )\n\t\t\tfor( i in 0...intf.length ) {\n\t\t\t\tvar i : Dynamic = intf[i];\n\t\t\t\tif( i == cl || __interfLoop(i,cl) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\treturn __interfLoop(cc.__super__,cl);\n\t}\n\n\t@:ifFeature(\"typed_catch\") private static function __instanceof(o : Dynamic,cl : Dynamic) {\n\t\tif( cl == null )\n\t\t\treturn false;\n\t\tswitch( cl ) {\n\t\tcase Int:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\" && untyped __js__(\"(o|0) === o\");\n\t\tcase Float:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\";\n\t\tcase Bool:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"boolean\";\n\t\tcase String:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"string\";\n\t\tcase Array:\n\t\t\treturn (untyped __js__(\"(o instanceof Array)\")) && o.__enum__ == null;\n\t\tcase Dynamic:\n\t\t\treturn true;\n\t\tdefault:\n\t\t\tif( o != null ) {\n\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\n\t\t\t\tif( (untyped __js__(\"typeof\"))(cl) == \"function\" ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") )\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif( __interfLoop(getClass(o),cl) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse if ( (untyped __js__(\"typeof\"))(cl) == \"object\" && __isNativeObj(cl) ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// do not use isClass/isEnum here\n\t\t\tuntyped __feature__(\"Class.*\",if( cl == Class && o.__name__ != null ) return true);\n\t\t\tuntyped __feature__(\"Enum.*\",if( cl == Enum && o.__ename__ != null ) return true);\n\t\t\treturn o.__enum__ == cl;\n\t\t}\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o : Dynamic, t : Dynamic) {\n\t\tif (__instanceof(o, t)) return o;\n\t\telse throw \"Cannot cast \" +Std.string(o) + \" to \" +Std.string(t);\n\t}\n\n\tstatic var __toStr = untyped ({}).toString;\n\t// get native JS [[Class]]\n\tstatic function __nativeClassName(o:Dynamic):String {\n\t\tvar name = untyped __toStr.call(o).slice(8, -1);\n\t\t// exclude general Object and Function\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\n\t\t\treturn null;\n\t\treturn name;\n\t}\n\n\t// check for usable native JS object\n\tstatic function __isNativeObj(o:Dynamic):Bool {\n\t\treturn __nativeClassName(o) != null;\n\t}\n\n\t// resolve native JS class in the global scope:\n\tstatic function __resolveNativeClass(name:String) {\n\t\treturn untyped js.Lib.global[name];\n\t}\n\n}\n"],
"names":[],
"mappings":"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AW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW;6CAErC,CACjE,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,UAAW,WACtG,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UA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"
}