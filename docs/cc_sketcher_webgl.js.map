{
"version":3,
"file":"cc_sketcher_webgl.js",
"sourceRoot":"file:///",
"sources":["/Users/matthijs/Documents/GIT/cc-sketch-plus/src/MainWebgl.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/sketcher/App.hx","/usr/local/lib/haxe/std/js/_std/Std.hx","/usr/local/lib/haxe/std/StringTools.hx","/usr/local/lib/haxe/std/haxe/Timer.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/html/CSSinjector.hx","/usr/local/lib/haxe/std/js/Boot.hx","/usr/local/lib/haxe/std/js/html/CanvasElement.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/sketcher/util/EmbedUtil.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/sketcher/webgl/WebGLSetup.hx","/Users/matthijs/Documents/GIT/cc-sketch-plus/src/sketcher/webgl/WebGl.hx"],
"sourcesContent":["import sketcher.webgl.WebGl;\nimport js.Browser.*;\nimport js.html.webgl.ContextAttributes;\nimport js.html.webgl.Program;\nimport js.html.webgl.RenderingContext;\nimport js.html.webgl.Shader;\nimport js.html.webgl.UniformLocation;\n\nusing sketcher.webgl.WebGl;\n\nclass MainWebgl {\n\t/**\n\t * canvas used for graphics\n\t */\n\tpublic var canvas:js.html.CanvasElement;\n\n\t// canvan context\n\tpublic static var ctx:js.html.CanvasRenderingContext2D;\n\t// webgl?\n\tpublic static var gl:js.html.webgl.RenderingContext;\n\n\t//\n\tpublic var program:js.html.webgl.Program;\n\n\tpublic function new() {\n\t\t// super();\n\t\tdocument.addEventListener(\"DOMContentLoaded\", function(event) {\n\t\t\ttrace('MainWebgl');\n\n\t\t\tconsole.log('${sketcher.App.NAME} Dom ready :: build: ${sketcher.App.getBuildDate()}');\n\n\t\t\tsetupDocument();\n\t\t\tsetupCanvas();\n\t\t\tsetupGL();\n\t\t});\n\t}\n\n\tfunction setupGL() {\n\t\t// // setup a GLSL program\n\t\t// var vertexShader = createShaderFromScriptElement(gl, \"2d-vertex-shader\");\n\t\t// var fragmentShader = createShaderFromScriptElement(gl, \"2d-fragment-shader\");\n\t\t// var program = createProgram(gl, [vertexShader, fragmentShader]);\n\t\t// gl.useProgram(program);\n\n\t\t// // look up where the vertex data needs to go.\n\t\t// var positionLocation = gl.getAttribLocation(program, \"a_position\");\n\n\t\t// // Create a buffer and put a single clipspace rectangle in\n\t\t// // it (2 triangles)\n\t\t// var buffer = gl.createBuffer();\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\t\t// gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n\t\t// \t-1.0, -1.0,\n\t\t// \t 1.0, -1.0,\n\t\t// \t-1.0,  1.0,\n\t\t// \t-1.0,  1.0,\n\t\t// \t 1.0, -1.0,\n\t\t// \t 1.0,  1.0\n\t\t// ]), gl.STATIC_DRAW);\n\t\t// gl.enableVertexAttribArray(positionLocation);\n\t\t// gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n\t\t// // draw\n\t\t// gl.drawArrays(gl.TRIANGLES, 0, 6);\n\t}\n\n\tfunction setupDocument() {\n\t\tsketcher.util.EmbedUtil.bootstrapStyle();\n\t\tsketcher.util.EmbedUtil.datgui();\n\n\t\tvar style = 'body{background-color:silver} canvas{border:1px solid gray;background-color:white; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAFUlEQVQImWNgQAMXL178T3UBBgYGAIeiETu3apCOAAAAAElFTkSuQmCC)}}';\n\t\tnew html.CSSinjector(style);\n\t}\n\n\tfunction setupCanvas() {\n\t\tvar webgl = new WebGl(500, 200);\n\t\tvar vs = ' attribute vec2 aVertexPosition;\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(aVertexPosition, 0.0, 1.0);\n\t\t}';\n\t\tvar fs = 'uniform vec4 uColor;\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = uColor;\n\t\t\t}';\n\t\twebgl.setupProgram(vs, fs);\n\t}\n\n\t// public static inline var vertex:String = 'attribute vec3 coordinates;' //\n\t// \t+ 'void main(void) {' //\n\t// \t+ ' gl_Position = vec4(coordinates, 1.0);'\n\t// \t+ 'gl_PointSize = 10.0;' //\n\t// \t+ '}';\n\t// public static inline var fragment:String = 'void main(void) {' //\n\t// \t+ ' gl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);' //\n\t// \t+ '}';\n\t// function setupCanvas() {\n\t// \tvar webgl = new WebGl(500, 200);\n\t// \tvar gl = webgl.gl;\n\t// \tgl.viewport(0, 0, webgl.canvas.width, webgl.canvas.height);\n\t// \tgl.clearColor(0, 0.5, 0, 1);\n\t// \tgl.clear(RenderingContext.COLOR_BUFFER_BIT);\n\t// \tvar vs = ' attribute vec2 aVertexPosition;\n\t// \tvoid main() {\n\t// \t\tgl_Position = vec4(aVertexPosition, 0.0, 1.0);\n\t// \t}';\n\t// \tvar fs = 'uniform vec4 uColor;\n\t// \tvoid main() {\n\t// \t\tgl_FragColor = uColor;\n\t// \t}';\n\t// \twebgl.setupProgram(vs, fs);\n\t// }\n\n\tstatic public function main() {\n\t\tvar app = new MainWebgl();\n\t}\n}\n","package sketcher;\n\nimport haxe.macro.Context;\n\nclass App {\n\tpublic static var NAME:String = \"[cc-sketcher]\";\n\n\tpublic static inline macro function getBuildDate() {\n\t\t#if !display\n\t\tvar date = Date.now().toString();\n\t\treturn macro $v{date};\n\t\t#else\n\t\tvar date = Date.now().toString();\n\t\treturn macro $v{date};\n\t\t#end\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport js.Boot;\nimport js.Syntax;\n\n@:keepInit\n@:coreApi class Std {\n\tpublic static inline function is(v:Dynamic, t:Dynamic):Bool {\n\t\treturn @:privateAccess js.Boot.__instanceof(v, t);\n\t}\n\n\tpublic static inline function downcast<T:{}, S:T>(value:T, c:Class<S>):S@:privateAccess {\n\t\treturn if (js.Boot.__downcastCheck(value, c)) cast value else null;\n\t}\n\n\t@:deprecated('Std.instance() is deprecated. Use Std.downcast() instead.')\n\tpublic static inline function instance<T:{}, S:T>(value:T, c:Class<S>):S {\n\t\treturn downcast(value, c);\n\t}\n\n\t@:pure\n\tpublic static function string(s:Dynamic):String {\n\t\treturn @:privateAccess js.Boot.__string_rec(s, \"\");\n\t}\n\n\tpublic static inline function int(x:Float):Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt(x:String):Null<Int> {\n\t\tif(x != null) {\n\t\t\tfor(i in 0...x.length) {\n\t\t\t\tvar c = StringTools.fastCodeAt(x, i);\n\t\t\t\tif(c <= 8 || (c >= 14 && c != ' '.code && c != '-'.code)) {\n\t\t\t\t\tvar v:Int = Syntax.code('parseInt({0}, ({0}[{1}]==\"x\" || {0}[{1}]==\"X\") ? 16 : 10)', x, i + 1);\n\t\t\t\t\treturn Math.isNaN(v) ? null : v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static inline function parseFloat(x:String):Float {\n\t\treturn untyped __js__(\"parseFloat\")(x);\n\t}\n\n\tpublic static function random(x:Int):Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random() * x);\n\t}\n\n\tstatic function __init__():Void\n\t\tuntyped {\n\t\t\t__feature__(\"js.Boot.getClass\", String.prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"String\"] = String, String));\n\t\t\t__feature__(\"js.Boot.isClass\", String.__name__ = __feature__(\"Type.getClassName\", \"String\", true));\n\t\t\t__feature__(\"Type.resolveClass\", $hxClasses[\"Array\"] = Array);\n\t\t\t__feature__(\"js.Boot.isClass\", Array.__name__ = __feature__(\"Type.getClassName\", \"Array\", true));\n\t\t\t__feature__(\"Date.*\", {\n\t\t\t\t__feature__(\"js.Boot.getClass\",\n\t\t\t\t\t__js__('Date').prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"Date\"] = __js__('Date'), __js__('Date')));\n\t\t\t\t__feature__(\"js.Boot.isClass\", __js__('Date').__name__ = \"Date\");\n\t\t\t});\n\t\t\t__feature__(\"Int.*\", __js__('var Int = { };'));\n\t\t\t__feature__(\"Dynamic.*\", __js__('var Dynamic = { };'));\n\t\t\t__feature__(\"Float.*\", __js__('var Float = Number'));\n\t\t\t__feature__(\"Bool.*\", __js__('var Bool = Boolean'));\n\t\t\t__feature__(\"Class.*\", __js__('var Class = { };'));\n\t\t\t__feature__(\"Enum.*\", __js__('var Enum = { };'));\n\t\t\t#if (js_es < 5)\n\t\t\t__feature__(\"Array.map\", if (Array.prototype.map == null) Array.prototype.map = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length)\n\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t__feature__(\"Array.filter\", if (Array.prototype.filter == null) Array.prototype.filter = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length) {\n\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\tif (f(e))\n\t\t\t\t\t\ta.push(e);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t#end\n\t\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport haxe.iterators.StringIterator;\nimport haxe.iterators.StringKeyValueIterator;\n\n#if cpp\nusing cpp.NativeString;\n#end\n\n/**\n\tThis class provides advanced methods on Strings. It is ideally used with\n\t`using StringTools` and then acts as an [extension](https://haxe.org/manual/lf-static-extension.html)\n\tto the `String` class.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n**/\nclass StringTools {\n\t/**\n\t\tEncode an URL by using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua && !eval) inline #end public static function urlEncode(s:String):String {\n\t\t#if flash\n\t\treturn untyped __global__[\"encodeURIComponent\"](s);\n\t\t#elseif neko\n\t\treturn untyped new String(_urlEncode(s.__s));\n\t\t#elseif js\n\t\treturn untyped encodeURIComponent(s);\n\t\t#elseif cpp\n\t\treturn untyped s.__URLEncode();\n\t\t#elseif java\n\t\treturn postProcessUrlEncode(java.net.URLEncoder.encode(s, \"UTF-8\"));\n\t\t#elseif cs\n\t\treturn untyped cs.system.Uri.EscapeDataString(s);\n\t\t#elseif python\n\t\treturn python.lib.urllib.Parse.quote(s, \"\");\n\t\t#elseif hl\n\t\tvar len = 0;\n\t\tvar b = @:privateAccess s.bytes.urlEncode(len);\n\t\treturn @:privateAccess String.__alloc__(b, len);\n\t\t#elseif lua\n\t\ts = lua.NativeStringTools.gsub(s, \"\\n\", \"\\r\\n\");\n\t\ts = lua.NativeStringTools.gsub(s, \"([^%w %-%_%.%~])\", function(c) {\n\t\t\treturn lua.NativeStringTools.format(\"%%%02X\", lua.NativeStringTools.byte(c) + '');\n\t\t});\n\t\ts = lua.NativeStringTools.gsub(s, \" \", \"+\");\n\t\treturn s;\n\t\t#else\n\t\treturn null;\n\t\t#end\n\t}\n\n\t#if java\n\tprivate static function postProcessUrlEncode(s:String):String {\n\t\tvar ret = new StringBuf();\n\t\tvar i = 0, len = s.length;\n\t\twhile (i < len) {\n\t\t\tswitch (_charAt(s, i++)) {\n\t\t\t\tcase '+'.code:\n\t\t\t\t\tret.add('%20');\n\t\t\t\tcase '%'.code if (i <= len - 2):\n\t\t\t\t\tvar c1 = _charAt(s, i++), c2 = _charAt(s, i++);\n\t\t\t\t\tswitch [c1, c2] {\n\t\t\t\t\t\tcase ['2'.code, '1'.code]:\n\t\t\t\t\t\t\tret.addChar('!'.code);\n\t\t\t\t\t\tcase ['2'.code, '7'.code]:\n\t\t\t\t\t\t\tret.addChar('\\''.code);\n\t\t\t\t\t\tcase ['2'.code, '8'.code]:\n\t\t\t\t\t\t\tret.addChar('('.code);\n\t\t\t\t\t\tcase ['2'.code, '9'.code]:\n\t\t\t\t\t\t\tret.addChar(')'.code);\n\t\t\t\t\t\tcase ['7'.code, 'E'.code] | ['7'.code, 'e'.code]:\n\t\t\t\t\t\t\tret.addChar('~'.code);\n\t\t\t\t\t\tcase _:\n\t\t\t\t\t\t\tret.addChar('%'.code);\n\t\t\t\t\t\t\tret.addChar(cast c1);\n\t\t\t\t\t\t\tret.addChar(cast c2);\n\t\t\t\t\t}\n\t\t\t\tcase var chr:\n\t\t\t\t\tret.addChar(cast chr);\n\t\t\t}\n\t\t}\n\t\treturn ret.toString();\n\t}\n\t#end\n\n\t/**\n\t\tDecode an URL using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua && !eval) inline #end public static function urlDecode(s:String):String {\n\t\t#if flash\n\t\treturn untyped __global__[\"decodeURIComponent\"](s.split(\"+\").join(\" \"));\n\t\t#elseif neko\n\t\treturn untyped new String(_urlDecode(s.__s));\n\t\t#elseif js\n\t\treturn untyped decodeURIComponent(s.split(\"+\").join(\" \"));\n\t\t#elseif cpp\n\t\treturn untyped s.__URLDecode();\n\t\t#elseif java\n\t\ttry\n\t\t\treturn java.net.URLDecoder.decode(s, \"UTF-8\")\n\t\tcatch (e:Dynamic)\n\t\t\tthrow e;\n\t\t#elseif cs\n\t\treturn untyped cs.system.Uri.UnescapeDataString(s);\n\t\t#elseif python\n\t\treturn python.lib.urllib.Parse.unquote(s);\n\t\t#elseif hl\n\t\tvar len = 0;\n\t\tvar b = @:privateAccess s.bytes.urlDecode(len);\n\t\treturn @:privateAccess String.__alloc__(b, len);\n\t\t#elseif lua\n\t\ts = lua.NativeStringTools.gsub(s, \"+\", \" \");\n\t\ts = lua.NativeStringTools.gsub(s, \"%%(%x%x)\", function(h) {\n\t\t\treturn lua.NativeStringTools.char(lua.Lua.tonumber(h, 16));\n\t\t});\n\t\ts = lua.NativeStringTools.gsub(s, \"\\r\\n\", \"\\n\");\n\t\treturn s;\n\t\t#else\n\t\treturn null;\n\t\t#end\n\t}\n\n\t/**\n\t\tEscapes HTML special characters of the string `s`.\n\n\t\tThe following replacements are made:\n\n\t\t- `&` becomes `&amp`;\n\t\t- `<` becomes `&lt`;\n\t\t- `>` becomes `&gt`;\n\n\t\tIf `quotes` is true, the following characters are also replaced:\n\n\t\t- `\"` becomes `&quot`;\n\t\t- `'` becomes `&#039`;\n\t**/\n\tpublic static function htmlEscape(s:String, ?quotes:Bool):String {\n\t\tvar buf = new StringBuf();\n\t\tfor (code in new haxe.iterators.StringIteratorUnicode(s)) {\n\t\t\tswitch (code) {\n\t\t\t\tcase '&'.code:\n\t\t\t\t\tbuf.add(\"&amp;\");\n\t\t\t\tcase '<'.code:\n\t\t\t\t\tbuf.add(\"&lt;\");\n\t\t\t\tcase '>'.code:\n\t\t\t\t\tbuf.add(\"&gt;\");\n\t\t\t\tcase '\"'.code if (quotes):\n\t\t\t\t\tbuf.add(\"&quot;\");\n\t\t\t\tcase '\\''.code if (quotes):\n\t\t\t\t\tbuf.add(\"&#039;\");\n\t\t\t\tcase _:\n\t\t\t\t\tbuf.addChar(code);\n\t\t\t}\n\t\t}\n\t\treturn buf.toString();\n\t}\n\n\t/**\n\t\tUnescapes HTML special characters of the string `s`.\n\n\t\tThis is the inverse operation to htmlEscape, i.e. the following always\n\t\tholds: `htmlUnescape(htmlEscape(s)) == s`\n\n\t\tThe replacements follow:\n\n\t\t- `&amp;` becomes `&`\n\t\t- `&lt;` becomes `<`\n\t\t- `&gt;` becomes `>`\n\t\t- `&quot;` becomes `\"`\n\t\t- `&#039;` becomes `'`\n\t**/\n\tpublic static function htmlUnescape(s:String):String {\n\t\treturn s.split(\"&gt;\")\n\t\t\t.join(\">\")\n\t\t\t.split(\"&lt;\")\n\t\t\t.join(\"<\")\n\t\t\t.split(\"&quot;\")\n\t\t\t.join('\"')\n\t\t\t.split(\"&#039;\")\n\t\t\t.join(\"'\")\n\t\t\t.split(\"&amp;\")\n\t\t\t.join(\"&\");\n\t}\n\n\t/**\n\t\tReturns `true` if `s` contains `value` and  `false` otherwise.\n\n\t\tWhen `value` is `null`, the result is unspecified.\n\t**/\n\tpublic static inline function contains(s:String, value:String):Bool {\n\t\treturn s.indexOf(value) != -1;\n\t}\n\n\t/**\n\t\tTells if the string `s` starts with the string `start`.\n\n\t\tIf `start` is `null`, the result is unspecified.\n\n\t\tIf `start` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java || python) inline #end function startsWith(s:String, start:String):Bool {\n\t\t#if java\n\t\treturn (cast s : java.NativeString).startsWith(start);\n\t\t#elseif cs\n\t\treturn untyped s.StartsWith(start);\n\t\t#elseif cpp\n\t\tif (s.length < start.length)\n\t\t\treturn false;\n\t\tvar p0 = s.c_str();\n\t\tvar p1 = start.c_str();\n\t\tfor (i in 0...start.length)\n\t\t\tif (p0.at(i) != p1.at(i))\n\t\t\t\treturn false;\n\t\treturn true;\n\t\t#elseif hl\n\t\treturn @:privateAccess (s.length >= start.length && s.bytes.compare(0, start.bytes, 0, start.length << 1) == 0);\n\t\t#elseif python\n\t\treturn python.NativeStringTools.startswith(s, start);\n\t\t#else\n\t\treturn (s.length >= start.length && s.lastIndexOf(start, 0) == 0);\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the string `s` ends with the string `end`.\n\n\t\tIf `end` is `null`, the result is unspecified.\n\n\t\tIf `end` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java || python) inline #end function endsWith(s:String, end:String):Bool {\n\t\t#if java\n\t\treturn (cast s : java.NativeString).endsWith(end);\n\t\t#elseif cs\n\t\treturn untyped s.EndsWith(end);\n\t\t#elseif cpp\n\t\tif (s.length < end.length)\n\t\t\treturn false;\n\t\tvar p0 = s.c_str().add(s.length - end.length);\n\t\tvar p1 = end.c_str();\n\t\tfor (i in 0...end.length)\n\t\t\tif (p0.at(i) != p1.at(i))\n\t\t\t\treturn false;\n\t\treturn true;\n\t\t#elseif hl\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn @:privateAccess (slen >= elen && s.bytes.compare((slen - elen) << 1, end.bytes, 0, elen << 1) == 0);\n\t\t#elseif python\n\t\treturn python.NativeStringTools.endswith(s, end);\n\t\t#else\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn (slen >= elen && s.indexOf(end, (slen - elen)) == (slen - elen));\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the character in the string `s` at position `pos` is a space.\n\n\t\tA character is considered to be a space character if its character code\n\t\tis 9,10,11,12,13 or 32.\n\n\t\tIf `s` is the empty String `\"\"`, or if pos is not a valid position within\n\t\t`s`, the result is false.\n\t**/\n\tpublic static function isSpace(s:String, pos:Int):Bool {\n\t\t#if (python || lua)\n\t\tif (s.length == 0 || pos < 0 || pos >= s.length)\n\t\t\treturn false;\n\t\t#end\n\t\tvar c = s.charCodeAt(pos);\n\t\treturn (c > 8 && c < 14) || c == 32;\n\t}\n\n\t/**\n\t\tRemoves leading space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function ltrim(s:String):String {\n\t\t#if cs\n\t\treturn untyped s.TrimStart();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile (r < l && isSpace(s, r)) {\n\t\t\tr++;\n\t\t}\n\t\tif (r > 0)\n\t\t\treturn s.substr(r, l - r);\n\t\telse\n\t\t\treturn s;\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves trailing space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function rtrim(s:String):String {\n\t\t#if cs\n\t\treturn untyped s.TrimEnd();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile (r < l && isSpace(s, l - r - 1)) {\n\t\t\tr++;\n\t\t}\n\t\tif (r > 0) {\n\t\t\treturn s.substr(0, l - r);\n\t\t} else {\n\t\t\treturn s;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves leading and trailing space characters of `s`.\n\n\t\tThis is a convenience function for `ltrim(rtrim(s))`.\n\t**/\n\tpublic #if (cs || java) inline #end static function trim(s:String):String {\n\t\t#if cs\n\t\treturn untyped s.Trim();\n\t\t#elseif java\n\t\treturn (cast s : java.NativeString).trim();\n\t\t#else\n\t\treturn ltrim(rtrim(s));\n\t\t#end\n\t}\n\n\t/**\n\t\tConcatenates `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function lpad(s:String, c:String, l:Int):String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\tvar buf = new StringBuf();\n\t\tl -= s.length;\n\t\twhile (buf.length < l) {\n\t\t\tbuf.add(c);\n\t\t}\n\t\tbuf.add(s);\n\t\treturn buf.toString();\n\t}\n\n\t/**\n\t\tAppends `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function rpad(s:String, c:String, l:Int):String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\tvar buf = new StringBuf();\n\t\tbuf.add(s);\n\t\twhile (buf.length < l) {\n\t\t\tbuf.add(c);\n\t\t}\n\t\treturn buf.toString();\n\t}\n\n\t/**\n\t\tReplace all occurrences of the String `sub` in the String `s` by the\n\t\tString `by`.\n\n\t\tIf `sub` is the empty String `\"\"`, `by` is inserted after each character\n\t\tof `s` except the last one. If `by` is also the empty String `\"\"`, `s`\n\t\tremains unchanged.\n\n\t\tIf `sub` or `by` are null, the result is unspecified.\n\t**/\n\tpublic static function replace(s:String, sub:String, by:String):String {\n\t\t#if java\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn (cast s : java.NativeString).replace(sub, by);\n\t\t#elseif cs\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.Replace(sub, by);\n\t\t#else\n\t\treturn s.split(sub).join(by);\n\t\t#end\n\t}\n\n\t/**\n\t\tEncodes `n` into a hexadecimal representation.\n\n\t\tIf `digits` is specified, the resulting String is padded with \"0\" until\n\t\tits `length` equals `digits`.\n\t**/\n\tpublic static function hex(n:Int, ?digits:Int) {\n\t\t#if flash\n\t\tvar n:UInt = n;\n\t\tvar s:String = untyped n.toString(16);\n\t\ts = s.toUpperCase();\n\t\t#else\n\t\tvar s = \"\";\n\t\tvar hexChars = \"0123456789ABCDEF\";\n\t\tdo {\n\t\t\ts = hexChars.charAt(n & 15) + s;\n\t\t\tn >>>= 4;\n\t\t} while (n > 0);\n\t\t#end\n\t\t#if python\n\t\tif (digits != null && s.length < digits) {\n\t\t\tvar diff = digits - s.length;\n\t\t\tfor (_ in 0...diff) {\n\t\t\t\ts = \"0\" + s;\n\t\t\t}\n\t\t}\n\t\t#else\n\t\tif (digits != null)\n\t\t\twhile (s.length < digits)\n\t\t\t\ts = \"0\" + s;\n\t\t#end\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReturns the character code at position `index` of String `s`, or an\n\t\tend-of-file indicator at if `position` equals `s.length`.\n\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\n\t\tthe result is unspecified if `index` is negative or greater than\n\t\t`s.length`.\n\n\t\tEnd of file status can be checked by calling `StringTools.isEof()` with\n\t\tthe returned value as argument.\n\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\n\t\tcharacter.\n\t**/\n\tpublic static #if !eval inline #end function fastCodeAt(s:String, index:Int):Int {\n\t\t#if neko\n\t\treturn untyped __dollar__sget(s.__s, index);\n\t\t#elseif cpp\n\t\treturn untyped s.cca(index);\n\t\t#elseif flash\n\t\treturn untyped s.cca(index);\n\t\t#elseif java\n\t\treturn (index < s.length) ? cast(_charAt(s, index), Int) : -1;\n\t\t#elseif cs\n\t\treturn (cast(index, UInt) < s.length) ? cast(s[index], Int) : -1;\n\t\t#elseif js\n\t\treturn (cast s).charCodeAt(index);\n\t\t#elseif python\n\t\treturn if (index >= s.length) -1 else python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\n\t\t#elseif hl\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\n\t\t#elseif lua\n\t\t#if lua_vanilla\n\t\treturn lua.NativeStringTools.byte(s, index + 1);\n\t\t#else\n\t\treturn lua.lib.luautf8.Utf8.byte(s, index + 1);\n\t\t#end\n\t\t#else\n\t\treturn untyped s.cca(index);\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns an iterator of the char codes.\n\n\t\tNote that char codes may differ across platforms because of different\n\t\tinternal encoding of strings in different runtimes.\n\t\tFor the consistent cross-platform UTF8 char codes see `haxe.iterators.StringIteratorUnicode`.\n\t**/\n\tpublic static inline function iterator(s:String):StringIterator {\n\t\treturn new StringIterator(s);\n\t}\n\n\t/**\n\t\tReturns an iterator of the char indexes and codes.\n\n\t\tNote that char codes may differ across platforms because of different\n\t\tinternal encoding of strings in different of runtimes.\n\t\tFor the consistent cross-platform UTF8 char codes see `haxe.iterators.StringKeyValueIteratorUnicode`.\n\t**/\n\tpublic static inline function keyValueIterator(s:String):StringKeyValueIterator {\n\t\treturn new StringKeyValueIterator(s);\n\t}\n\n\t/**\n\t\tTells if `c` represents the end-of-file (EOF) character.\n\t**/\n\t@:noUsing public static inline function isEof(c:Int):Bool {\n\t\t#if (flash || cpp || hl)\n\t\treturn c == 0;\n\t\t#elseif js\n\t\treturn c != c; // fast NaN\n\t\t#elseif (neko || lua || eval)\n\t\treturn c == null;\n\t\t#elseif (cs || java || python)\n\t\treturn c == -1;\n\t\t#else\n\t\treturn false;\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Unix.\n\t\tThe input will be quoted, or escaped if necessary.\n\t**/\n\t@:noCompletion\n\t@:deprecated('StringTools.quoteUnixArg() is deprecated. Use haxe.SysTools.quoteUnixArg() instead.')\n\tpublic static function quoteUnixArg(argument:String):String {\n\t\treturn inline haxe.SysTools.quoteUnixArg(argument);\n\t}\n\n\t/**\n\t\tCharacter codes of the characters that will be escaped by `quoteWinArg(_, true)`.\n\t**/\n\t@:noCompletion\n\t@:deprecated('StringTools.winMetaCharacters is deprecated. Use haxe.SysTools.winMetaCharacters instead.')\n\tpublic static var winMetaCharacters:Array<Int> = cast haxe.SysTools.winMetaCharacters;\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Windows.\n\t\tThe input will be quoted, or escaped if necessary, such that the output\n\t\twill be parsed as a single argument using the rule specified in\n\t\thttp://msdn.microsoft.com/en-us/library/ms880421\n\n\t\tExamples:\n\t\t```haxe\n\t\tquoteWinArg(\"abc\") == \"abc\";\n\t\tquoteWinArg(\"ab c\") == '\"ab c\"';\n\t\t```\n\t**/\n\t@:noCompletion\n\t@:deprecated('StringTools.quoteWinArg() is deprecated. Use haxe.SysTools.quoteWinArg() instead.')\n\tpublic static function quoteWinArg(argument:String, escapeMetaCharacters:Bool):String {\n\t\treturn inline haxe.SysTools.quoteWinArg(argument, escapeMetaCharacters);\n\t}\n\n\t#if java\n\tprivate static inline function _charAt(str:String, idx:Int):java.StdTypes.Char16\n\t\treturn (cast str : java.NativeString).charAt(idx);\n\t#end\n\n\t#if neko\n\tprivate static var _urlEncode = neko.Lib.load(\"std\", \"url_encode\", 1);\n\tprivate static var _urlDecode = neko.Lib.load(\"std\", \"url_decode\", 1);\n\t#end\n\n\t#if utf16\n\tstatic inline var MIN_SURROGATE_CODE_POINT = 65536;\n\n\tstatic inline function utf16CodePointAt(s:String, index:Int):Int {\n\t\tvar c = StringTools.fastCodeAt(s, index);\n\t\tif (c >= 0xD800 && c <= 0xDBFF) {\n\t\t\tc = ((c - 0xD7C0) << 10) | (StringTools.fastCodeAt(s, index + 1) & 0x3FF);\n\t\t}\n\t\treturn c;\n\t}\n\t#end\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe;\n\n/**\n\tThe `Timer` class allows you to create asynchronous timers on platforms that\n\tsupport events.\n\n\tThe intended usage is to create an instance of the `Timer` class with a given\n\tinterval, set its `run()` method to a custom function to be invoked and\n\teventually call `stop()` to stop the `Timer`.\n\n\tNote that a running `Timer` may or may not prevent the program to exit\n\tautomatically when `main()` returns.\n\n\tIt is also possible to extend this class and override its `run()` method in\n\tthe child class.\n**/\nclass Timer {\n\t#if (flash || js)\n\tprivate var id:Null<Int>;\n\t#elseif java\n\tprivate var timer:java.util.Timer;\n\tprivate var task:java.util.TimerTask;\n\t#else\n\tprivate var event:MainLoop.MainEvent;\n\t#end\n\n\t/**\n\t\tCreates a new timer that will run every `time_ms` milliseconds.\n\n\t\tAfter creating the Timer instance, it calls `this.run` repeatedly,\n\t\twith delays of `time_ms` milliseconds, until `this.stop` is called.\n\n\t\tThe first invocation occurs after `time_ms` milliseconds, not\n\t\timmediately.\n\n\t\tThe accuracy of this may be platform-dependent.\n\t**/\n\tpublic function new(time_ms:Int) {\n\t\t#if flash\n\t\tvar me = this;\n\t\tid = untyped __global__[\"flash.utils.setInterval\"](function() {\n\t\t\tme.run();\n\t\t}, time_ms);\n\t\t#elseif js\n\t\tvar me = this;\n\t\tid = untyped setInterval(function() me.run(), time_ms);\n\t\t#elseif java\n\t\ttimer = new java.util.Timer();\n\t\ttimer.scheduleAtFixedRate(task = new TimerTask(this), haxe.Int64.ofInt(time_ms), haxe.Int64.ofInt(time_ms));\n\t\t#else\n\t\tvar dt = time_ms / 1000;\n\t\tevent = MainLoop.add(function() {\n\t\t\t@:privateAccess event.nextRun += dt;\n\t\t\trun();\n\t\t});\n\t\tevent.delay(dt);\n\t\t#end\n\t}\n\n\t/**\n\t\tStops `this` Timer.\n\n\t\tAfter calling this method, no additional invocations of `this.run`\n\t\twill occur.\n\n\t\tIt is not possible to restart `this` Timer once stopped.\n\t**/\n\tpublic function stop() {\n\t\t#if (flash || js)\n\t\tif (id == null)\n\t\t\treturn;\n\t\t#if flash\n\t\tuntyped __global__[\"flash.utils.clearInterval\"](id);\n\t\t#elseif js\n\t\tuntyped clearInterval(id);\n\t\t#end\n\t\tid = null;\n\t\t#elseif java\n\t\tif (timer != null) {\n\t\t\ttimer.cancel();\n\t\t\ttimer = null;\n\t\t}\n\t\ttask = null;\n\t\t#else\n\t\tif (event != null) {\n\t\t\tevent.stop();\n\t\t\tevent = null;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tThis method is invoked repeatedly on `this` Timer.\n\n\t\tIt can be overridden in a subclass, or rebound directly to a custom\n\t\tfunction:\n\n\t\t```haxe\n\t\tvar timer = new haxe.Timer(1000); // 1000ms delay\n\t\ttimer.run = function() { ... }\n\t\t```\n\t\t\n\t\tOnce bound, it can still be rebound to different functions until `this`\n\t\tTimer is stopped through a call to `this.stop`.\n\t**/\n\tpublic dynamic function run() {}\n\n\t/**\n\t\tInvokes `f` after `time_ms` milliseconds.\n\n\t\tThis is a convenience function for creating a new Timer instance with\n\t\t`time_ms` as argument, binding its `run()` method to `f` and then stopping\n\t\t`this` Timer upon the first invocation.\n\n\t\tIf `f` is `null`, the result is unspecified.\n\t**/\n\tpublic static function delay(f:Void->Void, time_ms:Int) {\n\t\tvar t = new haxe.Timer(time_ms);\n\t\tt.run = function() {\n\t\t\tt.stop();\n\t\t\tf();\n\t\t};\n\t\treturn t;\n\t}\n\n\t/**\n\t\tMeasures the time it takes to execute `f`, in seconds with fractions.\n\n\t\tThis is a convenience function for calculating the difference between\n\t\t`Timer.stamp()` before and after the invocation of `f`.\n\n\t\tThe difference is passed as argument to `Log.trace()`, with `\"s\"` appended\n\t\tto denote the unit. The optional `pos` argument is passed through.\n\n\t\tIf `f` is `null`, the result is unspecified.\n\t**/\n\tpublic static function measure<T>(f:Void->T, ?pos:PosInfos):T {\n\t\tvar t0 = stamp();\n\t\tvar r = f();\n\t\tLog.trace((stamp() - t0) + \"s\", pos);\n\t\treturn r;\n\t}\n\n\t/**\n\t\tReturns a timestamp, in seconds with fractions.\n\n\t\tThe value itself might differ depending on platforms, only differences\n\t\tbetween two values make sense.\n\t**/\n\tpublic static inline function stamp():Float {\n\t\t#if flash\n\t\treturn flash.Lib.getTimer() / 1000;\n\t\t#elseif (neko || php)\n\t\treturn Sys.time();\n\t\t#elseif js\n\t\treturn js.lib.Date.now() / 1000;\n\t\t#elseif cpp\n\t\treturn untyped __global__.__time_stamp();\n\t\t#elseif python\n\t\treturn Sys.cpuTime();\n\t\t#elseif sys\n\t\treturn Sys.time();\n\t\t#else\n\t\treturn 0;\n\t\t#end\n\t}\n}\n\n#if java\n@:nativeGen\nprivate class TimerTask extends java.util.TimerTask {\n\tvar timer:Timer;\n\n\tpublic function new(timer:Timer):Void {\n\t\tsuper();\n\t\tthis.timer = timer;\n\t}\n\n\t@:overload override public function run():Void {\n\t\ttimer.run();\n\t}\n}\n#end\n","package html;\n\nimport js.Browser.*;\n\nclass CSSinjector {\n\tpublic function new(?styles:String, ?elementID:String) {\n\t\tif (elementID == null)\n\t\t\telementID = 'inject-' + Date.now().getTime();\n\t\tif (styles != null)\n\t\t\tsetCSS(styles, elementID);\n\t}\n\n\t/**\n\t * make sure the css is injected, but only once\n\t *\n\t * @param styles \t\twhat styles you want to inject into the file\n\t * @param elementID   \tmake sure we only inject once...\n\t */\n\tfunction setCSS(styles:String, elementID:String) {\n\t\t// trace('. setCSS ($styles, $elementID');\n\n\t\tstyles = minify(styles);\n\t\t// trace(document.getElementById(elementID));\n\n\t\tvar css = document.createStyleElement();\n\t\tcss.id = elementID;\n\t\tcss.type = 'text/css';\n\n\t\t// [mck] it seems that styleSheet isn't in the html externs from Haxe\n\t\tif (untyped css.styleSheet)\n\t\t\tuntyped css.styleSheet.cssText = styles;\n\t\telse\n\t\t\tcss.appendChild(document.createTextNode(styles));\n\n\t\t// [mck] maybe check this before adding\n\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(css);\n\n\t\t// trace(document.getElementById(elementID));\n\t}\n\n\t// https://stackoverflow.com/questions/4278739/regular-expression-for-clean-javascript-comments-of-type\n\tfunction minify(css:String):String {\n\t\t// var regex =  // /\\*(?:[^*]|\\*+[^*/])*\\*+/ (/* */)\n\t\t// return css.replace('  ', ' ').replace('\\t', '').replace('\\n', '');\n\t\treturn css;\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage js;\n\nimport js.Syntax; // import it here so it's always available in the compiler\n\nprivate class HaxeError extends js.lib.Error {\n\tvar val:Dynamic;\n\n\t@:pure\n\tpublic function new(val:Dynamic) {\n\t\tsuper();\n\t\tthis.val = val;\n\t\tif ((cast js.lib.Error).captureStackTrace)\n\t\t\t(cast js.lib.Error).captureStackTrace(this, HaxeError);\n\t}\n\n\tpublic static function wrap(val:Dynamic):js.lib.Error {\n\t\treturn if (js.Syntax.instanceof(val, js.lib.Error)) val else new HaxeError(val);\n\t}\n\n\tstatic function __init__() {\n\t\tjs.lib.Object.defineProperty((cast HaxeError).prototype, \"message\", {get: () -> (cast String)(js.Lib.nativeThis.val)});\n\t}\n}\n\n@:dox(hide)\nclass Boot {\n\tstatic inline function isClass(o:Dynamic):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isInterface(o:Class<Dynamic>):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isInterface\", o.__isInterface__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\t@:pure static function getClass(o:Null<Dynamic>):Null<Dynamic> {\n\t\tif (o == null) {\n\t\t\treturn null;\n\t\t} else if (Std.is(o, Array)) {\n\t\t\treturn Array;\n\t\t} else {\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t\t\tif (cl != null)\n\t\t\t\treturn cl;\n\t\t\tvar name = __nativeClassName(o);\n\t\t\tif (name != null)\n\t\t\t\treturn __resolveNativeClass(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o, s:String) {\n\t\tuntyped {\n\t\t\tif (o == null)\n\t\t\t\treturn \"null\";\n\t\t\tif (s.length >= 5)\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = js.Syntax.typeof(o);\n\t\t\tif (t == \"function\" && (isClass(o) || isEnum(o)))\n\t\t\t\tt = \"object\";\n\t\t\tswitch (t) {\n\t\t\t\tcase \"object\":\n\t\t\t\t\t#if !js_enums_as_arrays\n\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\n\t\t\t\t\t\tvar e = $hxEnums[o.__enum__];\n\t\t\t\t\t\tvar n = e.__constructs__[o._hx_index];\n\t\t\t\t\t\tvar con = e[n];\n\t\t\t\t\t\tif (con.__params__) {\n\t\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\t\treturn n + \"(\" + [for (p in (con.__params__ : Array<String>)) __string_rec(o[p], s)].join(\",\") + \")\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t#end\n\t\t\t\t\tif (js.Syntax.instanceof(o, Array)) {\n\t\t\t\t\t\t#if js_enums_as_arrays\n\t\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\n\t\t\t\t\t\t\tif (o.length == 2)\n\t\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\t\tvar str = o[0] + \"(\";\n\t\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\t\tfor (i in 2...o.length) {\n\t\t\t\t\t\t\t\tif (i != 2)\n\t\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i], s);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tstr += __string_rec(o[i], s);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\t#end\n\t\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor (i in 0...o.length)\n\t\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\") + __string_rec(o[i], s);\n\t\t\t\t\t\tstr += \"]\";\n\t\t\t\t\t\treturn str;\n\t\t\t\t\t}\n\t\t\t\t\tvar tostr;\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t\t} catch (e:Dynamic) {\n\t\t\t\t\t\t// strange error on IE\n\t\t\t\t\t\treturn \"???\";\n\t\t\t\t\t}\n\t\t\t\t\tif (tostr != null && tostr != __js__(\"Object.toString\") && js.Syntax.typeof(tostr) == \"function\") {\n\t\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\t\tif (s2 != \"[object Object]\")\n\t\t\t\t\t\t\treturn s2;\n\t\t\t\t\t}\n\t\t\t\t\tvar str = \"{\\n\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t\tvar k:String = null;\n\t\t\t\t\t__js__(\"for( {0} in {1} ) {\", k, o);\n\t\t\t\t\tif (hasp && !o.hasOwnProperty(k))\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif (k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\")\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif (str.length != 2)\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \" + __string_rec(o[k], s);\n\t\t\t\t\t__js__(\"}\");\n\t\t\t\t\ts = s.substring(1);\n\t\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\t\treturn str;\n\t\t\t\tcase \"function\":\n\t\t\t\t\treturn \"<function>\";\n\t\t\t\tcase \"string\":\n\t\t\t\t\treturn o;\n\t\t\t\tdefault:\n\t\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\t@:pure private static function __interfLoop(cc:Dynamic, cl:Dynamic) {\n\t\tif (cc == null)\n\t\t\treturn false;\n\t\tif (cc == cl)\n\t\t\treturn true;\n\t\tif (js.lib.Object.prototype.hasOwnProperty.call(cc, \"__interfaces__\")) {\n\t\t\tvar intf:Dynamic = cc.__interfaces__;\n\t\t\tfor (i in 0...intf.length) {\n\t\t\t\tvar i:Dynamic = intf[i];\n\t\t\t\tif (i == cl || __interfLoop(i, cl))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn __interfLoop(cc.__super__, cl);\n\t}\n\n\t@:ifFeature(\"typed_catch\") @:pure private static function __instanceof(o:Dynamic, cl:Dynamic) {\n\t\tif (cl == null)\n\t\t\treturn false;\n\t\tswitch (cl) {\n\t\t\tcase Int:\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\" && js.Syntax.strictEq(o | 0, o);\n\t\t\tcase Float:\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\";\n\t\t\tcase Bool:\n\t\t\t\treturn js.Syntax.typeof(o) == \"boolean\";\n\t\t\tcase String:\n\t\t\t\treturn js.Syntax.typeof(o) == \"string\";\n\t\t\tcase Array:\n\t\t\t\treturn js.Syntax.instanceof(o, Array) #if js_enums_as_arrays && o.__enum__ == null #end;\n\t\t\tcase Dynamic:\n\t\t\t\treturn o != null;\n\t\t\tdefault:\n\t\t\t\tif (o != null) {\n\t\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\n\t\t\t\t\tif (js.Syntax.typeof(cl) == \"function\") {\n\t\t\t\t\t\tif (__downcastCheck(o, cl))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (js.Syntax.typeof(cl) == \"object\" && __isNativeObj(cl)) {\n\t\t\t\t\t\tif (js.Syntax.instanceof(o, cl))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// do not use isClass/isEnum here\n\t\t\t\tuntyped __feature__(\"Class.*\", if (cl == Class && o.__name__ != null) return true);\n\t\t\t\tuntyped __feature__(\"Enum.*\", if (cl == Enum && o.__ename__ != null) return true);\n\t\t\t\t#if js_enums_as_arrays\n\t\t\t\treturn o.__enum__ == cl;\n\t\t\t\t#else\n\t\t\t\treturn untyped __feature__(\n\t\t\t\t\t\"has_enum\",\n\t\t\t\t\tif (o.__enum__ != null) ($hxEnums[o.__enum__]) == cl else false,\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t\t#end\n\t\t}\n\t}\n\n\tstatic function __downcastCheck(o:Dynamic, cl:Class<Dynamic>):Bool {\n\t\treturn js.Syntax.instanceof(o, cl) || (isInterface(cl) && inline __implements(o, cl));\n\t}\n\n\tstatic function __implements(o:Dynamic, iface:Class<Dynamic>):Bool {\n\t\treturn __interfLoop(getClass(o), iface);\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o:Dynamic, t:Dynamic) {\n\t\tif (o == null || __instanceof(o, t))\n\t\t\treturn o;\n\t\telse\n\t\t\tthrow \"Cannot cast \" + Std.string(o) + \" to \" + Std.string(t);\n\t}\n\n\tstatic var __toStr:js.lib.Function;\n\n\tstatic function __init__() {\n\t\tBoot.__toStr = (cast {}).toString;\n\t}\n\n\t// get native JS [[Class]]\n\tstatic function __nativeClassName(o:Dynamic):String {\n\t\tvar name:String = __toStr.call(o).slice(8, -1);\n\t\t// exclude general Object and Function\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\n\t\t\treturn null;\n\t\treturn name;\n\t}\n\n\t// check for usable native JS object\n\tstatic function __isNativeObj(o:Dynamic):Bool {\n\t\treturn __nativeClassName(o) != null;\n\t}\n\n\t// resolve native JS class in the global scope:\n\tstatic function __resolveNativeClass(name:String) {\n\t\treturn js.Lib.global[cast name];\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n// This file is generated from mozilla\\HTMLCanvasElement.webidl. Do not edit!\n\npackage js.html;\n\n/**\n\tThe `HTMLCanvasElement` interface provides properties and methods for manipulating the layout and presentation of canvas elements. The `HTMLCanvasElement` interface also inherits the properties and methods of the `HTMLElement` interface.\n\n\tDocumentation [HTMLCanvasElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement) by [Mozilla Contributors](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement$history), licensed under [CC-BY-SA 2.5](https://creativecommons.org/licenses/by-sa/2.5/).\n\n\t@see <https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement>\n**/\n@:native(\"HTMLCanvasElement\")\nextern class CanvasElement extends Element {\n\t\n\t/**\n\t\tIs a positive `integer` reflecting the `width` HTML attribute of the `canvas` element interpreted in CSS pixels. When the attribute is not specified, or if it is set to an invalid value, like a negative, the default value of `300` is used.\n\t**/\n\tvar width : Int;\n\t\n\t/**\n\t\tIs a positive `integer` reflecting the `height` HTML attribute of the `canvas` element interpreted in CSS pixels. When the attribute is not specified, or if it is set to an invalid value, like a negative, the default value of `150` is used.\n\t**/\n\tvar height : Int;\n\t\n\t\n\t/**\n\t\tReturns a drawing context on the canvas, or null if the context ID is not supported. A drawing context lets you draw on the canvas. Calling getContext with `\"2d\"` returns a `CanvasRenderingContext2D` object, whereas calling it with `\"webgl\"` (or `\"experimental-webgl\"`) returns a `WebGLRenderingContext` object. This context is only available on browsers that implement WebGL.\n\t\t@throws DOMError\n\t**/\n\tfunction getContext( contextId : String, ?contextOptions : Dynamic ) : Dynamic;\n\t\n\t/**\n\t\tReturns a data-URL containing a representation of the image in the format specified by the `type` parameter (defaults to `png`). The returned image is in a resolution of 96dpi.\n\t\t@throws DOMError\n\t**/\n\tfunction toDataURL( type : String = \"\", ?encoderOptions : Dynamic ) : String;\n\t\n\t/**\n\t\tCreates a `Blob` object representing the image contained in the canvas; this file may be cached on the disk or stored in memory at the discretion of the user agent.\n\t\t@throws DOMError\n\t**/\n\tfunction toBlob( callback : Blob -> Void, type : String = \"\", ?encoderOptions : Dynamic ) : Void;\n\t\n\t/**\n\t\tReturns a `CanvasCaptureMediaStream` that is a real-time video capture of the surface of the canvas.\n\t\t@throws DOMError\n\t**/\n\tfunction captureStream( ?frameRate : Float ) : CanvasCaptureMediaStream;\n\t\n\t/** Shorthand for getting a CanvasRenderingContext2D. */\n\tinline function getContext2d( ?attribs : {} ) : CanvasRenderingContext2D {\n\t\treturn cast getContext(\"2d\", attribs);\n\t}\n\t/** Shorthand for getting a js.html.webgl.RenderingContext. */\n\tinline function getContextWebGL( ?attribs : js.html.webgl.ContextAttributes ) : js.html.webgl.RenderingContext {\n\t\treturn CanvasUtil.getContextWebGL(this, attribs);\n\t}\n\t/** Shorthand for getting a js.html.webgl.WebGL2RenderingContext. */\n\tinline function getContextWebGL2( ?attribs : js.html.webgl.ContextAttributes ) : js.html.webgl.WebGL2RenderingContext {\n\t\treturn this.getContext('webgl2', attribs);\n\t}\n}\n\nprivate class CanvasUtil {\n\tpublic static function getContextWebGL( canvas :CanvasElement, attribs :{} ) {\n\t\tfor (name in [\"webgl\", \"experimental-webgl\"]) {\n\t\t\tvar ctx = canvas.getContext(name, attribs);\n\t\t\tif (ctx != null) return ctx;\n\t\t}\n\t\treturn null;\n\t}\n}\n","package sketcher.util;\n\nimport haxe.Timer;\nimport js.Browser;\nimport js.html.DOMParser;\nimport js.html.LinkElement;\nimport js.Browser.*;\n\nusing StringTools;\n\nclass EmbedUtil {\n\tpublic function new() {\n\t\t// your code\n\t}\n\n\tpublic static function check(id:String):Bool {\n\t\tif (document.getElementById(id) != null) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @url \thttps://github.com/mrdoob/stats.js/\n\t *\n\t * @example\n\t * \t\t\t\tsketcher.util.EmbedUtil.stats();\n\t */\n\tpublic static function stats() {\n\t\tuntyped __js__(\"var script = document.createElement('script');script.onload = function() {var stats = new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop() {stats.update();requestAnimationFrame(loop)});};script.src = '//mrdoob.github.io/stats.js/build/stats.min.js';document.head.appendChild(script);\");\n\n\t\t/*\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.onload = function() {\n\t\t\t\tvar stats = new Stats();\n\t\t\t\tdocument.body.appendChild(stats.dom);\n\t\t\t\trequestAnimationFrame(function loop() {\n\t\t\t\t\tstats.update();\n\t\t\t\t\trequestAnimationFrame(loop)\n\t\t\t\t});\n\t\t\t};\n\t\t\tscript.src = '//mrdoob.github.io/stats.js/build/stats.min.js';\n\t\t\tdocument.head.appendChild(script);\n\t\t */\n\t}\n\n\t/**\n\t * [Description]\n\t * @param id\n\t * @param src\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function script(id:String, src:String, ?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\t// trace('${toString()} embedSocketScript');\n\t\tvar el:js.html.ScriptElement = document.createScriptElement();\n\t\tel.id = id;\n\t\tel.src = src;\n\t\tel.crossOrigin = 'anonymous'; // do we need this?\n\t\tel.onload = function() {\n\t\t\t// Zip.isZipLoaded = true; // embedding is done\n\t\t\tif (callback != null) {\n\t\t\t\tif (callbackArray == null) {\n\t\t\t\t\tReflect.callMethod(callback, callback, [id]);\n\t\t\t\t} else {\n\t\t\t\t\tReflect.callMethod(callback, callback, callbackArray);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdocument.body.appendChild(el);\n\t}\n\n\tpublic static function stylesheet(id:String, src:String, ?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tvar el:js.html.LinkElement = document.createLinkElement();\n\t\tel.id = id;\n\t\tel.rel = 'stylesheet';\n\t\tel.href = src;\n\t\t// el.crossOrigin = 'anonymous'; // do we need this?\n\t\tel.onload = function() {\n\t\t\tif (callback != null) {\n\t\t\t\tif (callbackArray == null) {\n\t\t\t\t\tReflect.callMethod(callback, callback, ['id']);\n\t\t\t\t} else {\n\t\t\t\t\tReflect.callMethod(callback, callback, callbackArray);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdocument.head.appendChild(el);\n\t}\n\n\tpublic static function bootstrapStylesheet(id:String, src:String, integrity:String, ?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tvar el:js.html.LinkElement = document.createLinkElement();\n\t\tel.id = id;\n\t\tel.rel = 'stylesheet';\n\t\tel.href = src;\n\t\tel.integrity = integrity;\n\t\tel.crossOrigin = 'anonymous'; // do we need this?\n\t\tel.onload = function() {\n\t\t\tif (callback != null) {\n\t\t\t\tif (callbackArray == null) {\n\t\t\t\t\tReflect.callMethod(callback, callback, [id]);\n\t\t\t\t} else {\n\t\t\t\t\tReflect.callMethod(callback, callback, callbackArray);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdocument.head.appendChild(el);\n\t}\n\n\tpublic static function bootstrapScript(id:String, src:String, integrity:String, ?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tvar el:js.html.ScriptElement = document.createScriptElement();\n\t\tel.id = id;\n\t\t// el.rel = 'stylesheet';\n\t\tel.src = src;\n\t\tel.integrity = integrity;\n\t\tel.crossOrigin = 'anonymous'; // do we need this?\n\t\tel.onload = function() {\n\t\t\tif (callback != null) {\n\t\t\t\tif (callbackArray == null) {\n\t\t\t\t\tReflect.callMethod(callback, callback, [id]);\n\t\t\t\t} else {\n\t\t\t\t\tReflect.callMethod(callback, callback, callbackArray);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdocument.body.appendChild(el);\n\t}\n\n\t// ____________________________________ scripts ____________________________________\n\n\t/**\n\t * @example\n\t * \t\t\t\t\tsketcher.util.EmbedUtil.quicksettings();\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function quicksettings(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tscript('quicksettings', 'https://cdn.jsdelivr.net/quicksettings/3.0.2/quicksettings.min.js', callback, callbackArray);\n\t}\n\n\t/**\n\t * @example\n\t * \t\t\t\t\tsketcher.util.EmbedUtil.gsap();\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function gsap(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tscript('gsap', 'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.0/gsap.min.js', callback, callbackArray);\n\t}\n\n\t/**\n\t * @example\n\t * \t\t\t\t\tsketcher.util.EmbedUtil.ccnav();\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function ccnav(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tscript('ccnav', 'https://matthijskamstra.github.io/drop-in-off-canvas-menu/cc_nav.min.js', callback, callbackArray);\n\t}\n\n\t/**\n\t * @example\n\t * \t\t\t\t\tsketcher.util.EmbedUtil.datgui();\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function datgui(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tscript('datgui', 'https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js', callback, callbackArray);\n\t\t// normalize.css and bootstrap.css set a `line-height: inherit;`\n\t\t// that makes dat.gui look stange, so inject this style just in case\n\t\tvar style = document.createElement('style');\n\t\tstyle.innerHTML = '.dg .c input[type=\"text\"]{\n\t\t\tline-height : normal;\n\t\t}';\n\t\tdocument.head.appendChild(style);\n\t}\n\n\t//\n\t// ____________________________________ styling ____________________________________\n\n\t/**\n\t * @example\n\t * \t\t\t\t\tsketcher.util.EmbedUtil.sanitize();\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function sanitize(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tstylesheet('sanitize', 'https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.css', callback, callbackArray);\n\t}\n\n\t/**\n\t * <!-- Ficons, A Simple, Open-Source, Drop-In Alternative for Font Awesome Icons  -->\n\t *\n\t * - https://ficons.fiction.com/\n\t * - https://github.com/fiction-com/ficons\n\t *\n\t * @example\n\t * \t\t\t\t\tsketcher.util.EmbedUtil.ficons();\n\t *\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function ficons(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tstylesheet('ficons', 'https://cdn.jsdelivr.net/npm/ficons@1.1.52/dist/ficons/font.css', callback, callbackArray);\n\t}\n\n\t// <!-- Source® Sans Pro, Adobe's first open source typeface family, was designed by Paul D. Hunt. -->\n\t// <link href=\"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700&display=swap\" rel=\"stylesheet\">\n\t//\n\t// ____________________________________ bootstrap ____________________________________\n\n\t/**\n\t * @example\n\t * \t\t\tsketcher.util.EmbedUtil.bootstrap();\n\t *\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function bootstrap(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tbootstrapStylesheet(\"bootstrap-stylesheet\", \"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\",\n\t\t\t\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\");\n\t\tbootstrapScript(\"bootstrap-jquery\", \"https://code.jquery.com/jquery-3.4.1.slim.min.js\",\n\t\t\t\"sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n\");\n\t\tbootstrapScript(\"bootstrap-popper\", \"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\",\n\t\t\t\"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\");\n\t\tbootstrapScript(\"bootstrap-bootstrap\", \"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js\",\n\t\t\t\"sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6\");\n\t}\n\n\t/**\n\t *\n\t * sketcher.util.EmbedUtil.bootstrapStyle();\n\t**/\n\tpublic static function bootstrapStyle(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tbootstrapStylesheet(\"bootstrap-stylesheet\", \"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\",\n\t\t\t\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\", callback, callbackArray);\n\t}\n\n\t/**\n\t * @example\n\t * \t\t\t\t\t\tsketcher.util.EmbedUtil.zip();\n\t *\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function zip(?callback:Dynamic, ?callbackArray:Array<Dynamic>) {\n\t\tif (!EmbedUtil.check('jszip')) {\n\t\t\tEmbedUtil.script('jszip', 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.2.0/jszip.min.js', callback, ['jszip']);\n\t\t}\n\t\tif (!EmbedUtil.check('jsfilesaver')) {\n\t\t\tEmbedUtil.script('jsfilesaver', 'https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js', callback, ['jsfilesaver',]);\n\t\t}\n\t}\n\n\t/**\n\t * It seems that onload can't be used for the first time on the page.\n\t * if the link is cached it works just fine\n\t *\n\t * @example\n\t * \t\tvar family = EmbedUtil.embedGoogleFont('Press+Start+2P::200,300,400,500,600,700', onEmbedHandler); // 'Press Start 2P\"\n\t *\n\t * @param family\tname given after `...css?family=` (example: Press+Start+2P)\n\t * @param callback\n\t * @param callbackArray\n\t */\n\tpublic static function embedGoogleFont(family:String, ?callback:Dynamic, ?callbackArray:Array<Dynamic>):String {\n\t\t// console.info('embedGoogleFont $family');\n\t\tvar _family = EmbedUtil.cleanFontFamily(family);\n\t\tvar _id = 'embededGoogleFonts';\n\t\tvar _url = 'https://fonts.googleapis.com/css?family=';\n\t\tvar _display = '&display=swap';\n\t\tvar link:LinkElement = cast document.getElementById(_id);\n\t\tif (link != null) {\n\t\t\tvar temp = link.href.replace(_url, '').replace(_display, '');\n\t\t\tfamily = temp + '|' + family;\n\t\t} else {\n\t\t\tlink = document.createLinkElement();\n\t\t}\n\t\tif (callbackArray == null)\n\t\t\tcallbackArray = [family];\n\t\tlink.href = '${_url}${family}${_display}';\n\t\tlink.rel = \"stylesheet\";\n\t\tlink.id = _id;\n\t\tlink.onload = function() {\n\t\t\tif (callback != null)\n\t\t\t\tTimer.delay(() -> {\n\t\t\t\t\tReflect.callMethod(callback, callback, callbackArray);\n\t\t\t\t}, 1); // only works when I delay for a second (1000) but that just is weird\n\t\t}\n\t\tdocument.head.appendChild(link);\n\t\t// console.info('embedGoogleFont $family');\n\t\treturn _family;\n\t}\n\n\tstatic function cleanFontFamily(family:String):String {\n\t\tif (family.indexOf(':') != -1)\n\t\t\tfamily = family.split(':')[0];\n\t\treturn family.replace('+', ' ');\n\t}\n\n\t// ____________________________________ quick embedding fonts I use often ____________________________________\n\n\t/**\n\t * Source+Code+Pro\n\t * https://fonts.google.com/specimen/Source+Code+Pro\n\t *\n\t * @exampe\n\t * \t\tvar family = EmbedUtil.fontMono(onEmbedHandler);\n\t *\n\t * @param callback\n\t * @param callbackArray\n\t * @return String\n\t */\n\tpublic static function fontMono(?callback:Dynamic, ?callbackArray:Array<Dynamic>):String {\n\t\tvar fontFamily = 'Source+Code+Pro';\n\t\treturn EmbedUtil.embedGoogleFont(fontFamily, callback, callbackArray);\n\t}\n\n\t/**\n\t * Pacifico\n\t * https://fonts.google.com/specimen/Pacifico\n\t *\n\t * @exampe\n\t * \t\tvar family = EmbedUtil.fontHandwritten(onEmbedHandler);\n\t *\n\t * @param callback\n\t * @param callbackArray\n\t * @return String\n\t */\n\tpublic static function fontHandwritten(?callback:Dynamic, ?callbackArray:Array<Dynamic>):String {\n\t\tvar fontFamily = 'Pacifico';\n\t\treturn EmbedUtil.embedGoogleFont(fontFamily, callback, callbackArray);\n\t}\n\n\t/**\n\t * Bebas+Neue\n\t * https://fonts.google.com/specimen/Bebas+Neue\n\t *\n\t * @exampe\n\t * \t\tvar family = EmbedUtil.fontDisplay(onEmbedHandler);\n\t *\n\t * @param callback\n\t * @param callbackArray\n\t * @return String\n\t */\n\tpublic static function fontDisplay(?callback:Dynamic, ?callbackArray:Array<Dynamic>):String {\n\t\tvar fontFamily = 'Bebas+Neue';\n\t\treturn EmbedUtil.embedGoogleFont(fontFamily, callback, callbackArray);\n\t}\n}\n","package sketcher.webgl;\n\nimport js.Browser;\nimport js.html.Element;\nimport js.html.CanvasElement;\nimport js.html.BodyElement;\nimport js.html.webgl.RenderingContext;\nimport js.html.webgl.ContextAttributes;\nimport js.html.webgl.Shader;\nimport js.html.webgl.Program;\nimport js.html.webgl.UniformLocation;\nimport js.html.Image;\nimport haxe.io.UInt16Array;\nimport haxe.io.Float32Array;\nimport haxe.io.Int32Array;\nimport sketcher.webgl.WebGLSetup;\n\nusing sketcher.webgl.WebGLSetup;\n\ntypedef RGB = {\n\tvar r:Float;\n\tvar g:Float;\n\tvar b:Float;\n}\n\n/**\n * Ideal to inherit from WebGLSetup with 'using'.\n * Helper class for getting basic WebGL setup quickly.\n */\nclass WebGLSetup {\n\tpublic var gl:RenderingContext;\n\tpublic var program:Program;\n\tpublic var width:Int;\n\tpublic var height:Int;\n\tpublic var canvas:CanvasElement;\n\n\t/**\n\t * background red channel\n\t */\n\tpublic var bgRed = 1.;\n\n\t/**\n\t * background green channel\n\t */\n\tpublic var bgGreen = 1.;\n\n\t/**\n\t * background blue channel\n\t */\n\tpublic var bgBlue = 1.;\n\n\t/**\n\t * background alpha channel, may need consideration maybe not to use.\n\t */\n\tpublic var bgAlpha = 1.;\n\n\t/**\n\t * depth test Bool similar to cull.\n\t */\n\tpublic var DEPTH_TEST = true;\n\n\t/**\n\t * cull face Bool ( remove faces that are obscured by other faces )\n\t */\n\tpublic var CULL_FACE = true;\n\n\t/**\n\t * backface Bool ( when you flip an image in 3D it defines it should render back ).\n\t */\n\tpublic var BACK = true;\n\n\t/**\n\t * name used in vertex shader for coordinate data\n\t */\n\tpublic static var posName = 'pos';\n\n\t/**\n\t * name used in vertex shader for color data\n\t */\n\tpublic static var colorName = 'color';\n\n\t/**\n\t * name used in vertex shader for texture uv data\n\t */\n\tpublic static var textureName = 'aTexture';\n\n\t/**\n\t * transform matrix used in shader\n\t**/\n\tpublic var matrix32Array:Float32Array;\n\n\t/**\n\t * vertices array provide to shader\n\t */\n\tvar vertices = new Float32Array(100);\n\n\t/**\n\t * intermediatary colors array one entry per corner\n\t */\n\tvar triangleColors:Array<UInt>;\n\n\t/**\n\t * indices array provided to shader\n\t */\n\tvar indices = new UInt16Array(100);\n\n\t/**\n\t * colors array provided to shader\n\t */\n\tvar colors = new Float32Array(100);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic function new(width_:Int, height_:Int, autoChild:Bool = true) {\n\t\tmatrix32Array = ident(); // internal matrix passed to shader\n\t\tsetupCanvas(width_, height_, autoChild);\n\t}\n\n\t/**\n\t * Setup canvas for WebGL\n\t */\n\tpublic function setupCanvas(width_:Int, height_:Int, autoChild:Bool = true) {\n\t\twidth = width_;\n\t\theight = height_;\n\t\tcanvas = Browser.document.createCanvasElement();\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\t\tvar dom = cast canvas;\n\t\tvar style = dom.style;\n\t\tstyle.paddingLeft = \"0px\";\n\t\tstyle.paddingTop = \"0px\";\n\t\tstyle.left = Std.string(0 + 'px');\n\t\tstyle.top = Std.string(0 + 'px');\n\t\tstyle.position = \"absolute\";\n\t\tif (autoChild)\n\t\t\tBrowser.document.body.appendChild(cast canvas);\n\t\tgl = canvas.getContextWebGL();\n\t}\n\n\t/**\n\t * setup a program with shader strings\n\t */\n\tpublic function setupProgram(vertexString:String, fragmentString:String):Program {\n\t\tvar vertex = gl.shaderFromString(RenderingContext.VERTEX_SHADER, vertexString);\n\t\tvar fragment = gl.shaderFromString(RenderingContext.FRAGMENT_SHADER, fragmentString);\n\t\tprogram = gl.createShaderProgram(vertex, fragment);\n\t\treturn program;\n\t}\n\n\t/**\n\t * to upload an image to render.\n\t */\n\tpublic function addImage(img:Image) {\n\t\tuploadImage(gl, img);\n\t}\n\n\t/**\n\t * general clear buffer method may need suplementing, depending on use case.\n\t */\n\tpublic function clearVerticesAndColors() {\n\t\tvar vl = vertices.length;\n\t\tvar il = indices.length;\n\t\tvar cl = colors.length;\n\t\tvertices = new Float32Array(vl);\n\t\tindices = new UInt16Array(il);\n\t\tcolors = new Float32Array(cl);\n\t\t// texture?\n\t}\n\n\t/**\n\t * like ShaderInput but setup for indices.\n\t */\n\tpublic static inline function passIndicesToShader(gl:RenderingContext, indices:UInt16Array) {\n\t\tvar indexBuffer = gl.createBuffer(); // triangle indicies data\n\t\tgl.bindBuffer(RenderingContext.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\t\tgl.bufferData(RenderingContext.ELEMENT_ARRAY_BUFFER, untyped indices, RenderingContext.STATIC_DRAW);\n\t\tgl.bindBuffer(RenderingContext.ELEMENT_ARRAY_BUFFER, null);\n\t}\n\n\t/**\n\t * alternative approach to setting up vertices and colors used by older experiments.\n\t */\n\tpublic function setVerticesAndColors(vertices:Float32Array, triangleColors:Array<UInt>) {\n\t\tvar rgb:RGB;\n\t\tvar colorAlpha = 1.0;\n\t\tvar len = colors.length;\n\t\tfor (i in 0...Std.int(vertices.length / 3)) {\n\t\t\trgb = toRGB(triangleColors[i]);\n\t\t\tfor (j in 0...3) { // works but...\n\t\t\t\tcolors[len++] = rgb.r;\n\t\t\t\tcolors[len++] = rgb.g;\n\t\t\t\tcolors[len++] = rgb.b;\n\t\t\t\tcolors[len++] = colorAlpha;\n\t\t\t}\n\t\t\tindices.set(indices.length, i);\n\t\t}\n\t\tgl.passIndicesToShader(indices);\n\t\tgl.uploadDataToBuffers(program, vertices, colors);\n\t}\n\n\t/**\n\t * main render loop\n\t**/\n\tpublic function render() {\n\t\tgl.clearColor(bgRed, bgGreen, bgBlue, bgAlpha);\n\t\tif (DEPTH_TEST)\n\t\t\tgl.enable(RenderingContext.DEPTH_TEST);\n\t\tif (CULL_FACE)\n\t\t\tgl.enable(RenderingContext.CULL_FACE);\n\t\tif (BACK)\n\t\t\tgl.cullFace(RenderingContext.BACK);\n\t\t// gl.disable(RenderingContext.CULL_FACE);\n\n\t\tgl.clear(RenderingContext.COLOR_BUFFER_BIT);\n\t\tgl.viewport(0, 0, canvas.width, canvas.height);\n\t\tvar modelViewProjectionID = gl.getUniformLocation(program, 'modelViewProjection');\n\t\t/// you can update matrix32Array in the render loop.\n\t\tgl.uniformMatrix4fv(modelViewProjectionID, false, untyped matrix32Array);\n\t\tgl.drawArrays(RenderingContext.TRIANGLES, 0, indices.length);\n\t}\n\n\t/**\n\t * converts a shader string to a shader and compiles it.\n\t */\n\tpublic static inline function shaderFromString(gl:RenderingContext, shaderType:Int, shaderString:String) {\n\t\tvar shader = gl.createShader(shaderType);\n\t\tgl.shaderSource(shader, shaderString);\n\t\tgl.compileShader(shader);\n\t\treturn shader;\n\t}\n\n\t/**\n\t * helper to create a shader program given a vertex and fragment shader.\n\t */\n\tpublic static inline function createShaderProgram(gl:RenderingContext, vertex:Shader, fragment:Shader):Program {\n\t\tvar program = gl.createProgram();\n\t\tgl.attachShader(program, vertex);\n\t\tgl.attachShader(program, fragment);\n\t\tgl.linkProgram(program);\n\t\tgl.useProgram(program);\n\t\treturn program;\n\t}\n\n\t/**\n\t * links shader input to buffer and program\n\t */\n\tpublic static inline function shaderInput<T>(gl:RenderingContext, program:Program, name:String, att:Int, arr:T /*Float32Array */, number:Int) {\n\t\tvar buffer = gl.createBuffer();\n\t\tvar arrBuffer = RenderingContext.ARRAY_BUFFER;\n\t\tgl.bindBuffer(arrBuffer, buffer);\n\t\t// RenderingContext.FLOAT, RenderingContext.INT, RenderingContext.UNSIGNED_INT\n\t\t// Float32Array,Int32Array, Uint16Array\n\t\tgl.bufferData(arrBuffer, untyped arr, RenderingContext.STATIC_DRAW);\n\t\tvar flo = gl.getAttribLocation(program, name);\n\t\tgl.vertexAttribPointer(flo, att, number, false, 0, 0);\n\t\tgl.enableVertexAttribArray(flo);\n\t\tgl.bindBuffer(arrBuffer, null);\n\t}\n\n\t/**\n\t *  connects array data to shaders - vertices, colors and optional textures.\n\t */\n\tpublic static inline function uploadDataToBuffers(gl:RenderingContext, program:Program, vertices:Float32Array, colors:Float32Array,\n\t\t\t?texture:Float32Array) {\n\t\t// , indices: Uint16Array ){\n\t\tgl.shaderInput(program, posName, 3, vertices, RenderingContext.FLOAT);\n\t\tgl.shaderInput(program, colorName, 4, colors, RenderingContext.FLOAT);\n\t\tif (texture != null)\n\t\t\tgl.shaderInput(program, textureName, 2, texture, RenderingContext.FLOAT);\n\t}\n\n\t/**\n\t * Basic function to upload and link an image to a shader program\n\t * TODO: Requires more generalization and testing.\n\t */\n\tpublic static inline function uploadImage(gl:RenderingContext, image:Image) {\n\t\tvar texture = gl.createTexture();\n\t\tgl.activeTexture(RenderingContext.TEXTURE0);\n\t\tgl.bindTexture(RenderingContext.TEXTURE_2D, texture);\n\t\tgl.pixelStorei(RenderingContext.UNPACK_FLIP_Y_WEBGL, 1);\n\t\tgl.texParameteri(RenderingContext.TEXTURE_2D, RenderingContext.TEXTURE_WRAP_S, RenderingContext.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(RenderingContext.TEXTURE_2D, RenderingContext.TEXTURE_WRAP_T, RenderingContext.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(RenderingContext.TEXTURE_2D, RenderingContext.TEXTURE_MIN_FILTER, RenderingContext.NEAREST);\n\t\tgl.texParameteri(RenderingContext.TEXTURE_2D, RenderingContext.TEXTURE_MAG_FILTER, RenderingContext.NEAREST);\n\t\tgl.texImage2D(RenderingContext.TEXTURE_2D, 0, RenderingContext.RGBA, RenderingContext.RGBA, RenderingContext.UNSIGNED_BYTE, image);\n\t}\n\n\t/**\n\t * splits Int into r,g,b object.\n\t */\n\tpublic static inline function toRGB(int:Int):RGB {\n\t\treturn {\n\t\t\tr: ((int >> 16) & 255) / 255,\n\t\t\tg: ((int >> 8) & 255) / 255,\n\t\t\tb: (int & 255) / 255\n\t\t}\n\t}\n\n\t/**\n\t * provides an identity 4x4 matrix as Float32Array for shader transform\n\t */\n\tpublic static inline function ident():Float32Array {\n\t\tvar arr = new Float32Array(16);\n\t\tarr[0] = 1.0;\n\t\tarr[1] = 0.0;\n\t\tarr[2] = 0.0;\n\t\tarr[3] = 0.0;\n\t\tarr[4] = 1.0;\n\t\tarr[5] = 0.0;\n\t\tarr[6] = 0.0;\n\t\tarr[7] = 0.0;\n\t\tarr[8] = 1.0;\n\t\tarr[9] = 0.0;\n\t\tarr[10] = 0.0;\n\t\tarr[11] = 0.0;\n\t\tarr[12] = 1.0;\n\t\tarr[13] = 0.0;\n\t\tarr[14] = 0.0;\n\t\tarr[15] = 0.0;\n\t\treturn arr;\n\t}\n}\n","package sketcher.webgl;\n\nimport js.Browser.*;\nimport js.html.Element;\nimport js.html.CanvasElement;\nimport js.html.BodyElement;\nimport js.html.webgl.RenderingContext;\nimport js.html.webgl.ContextAttributes;\nimport js.html.webgl.Shader;\nimport js.html.webgl.Program;\nimport js.html.webgl.UniformLocation;\nimport js.html.Image;\nimport haxe.io.UInt16Array;\nimport haxe.io.Float32Array;\nimport haxe.io.Int32Array;\nimport sketcher.webgl.WebGLSetup;\n\nusing sketcher.webgl.WebGl;\n\n/**\n * Ideal to inherit from WebGLSetup with 'using'.\n * Helper class for getting basic WebGL setup quickly.\n */\nclass WebGl {\n\tpublic var gl:RenderingContext;\n\tpublic var program:Program;\n\tpublic var width:Int;\n\tpublic var height:Int;\n\tpublic var canvas:CanvasElement;\n\n\tpublic function new(width:Int, height:Int, autoChild:Bool = true) {\n\t\tsetupCanvas(width, height, autoChild);\n\t}\n\n\t/**\n\t * Setup canvas for WebGL\n\t */\n\tpublic function setupCanvas(width:Int, height:Int, autoChild:Bool = true) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tcanvas = document.createCanvasElement();\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\t\tvar dom = cast canvas;\n\t\tvar style = dom.style;\n\t\tstyle.paddingLeft = \"0px\";\n\t\tstyle.paddingTop = \"0px\";\n\t\tstyle.left = Std.string(0 + 'px');\n\t\tstyle.top = Std.string(0 + 'px');\n\t\tstyle.position = \"absolute\";\n\t\tif (autoChild)\n\t\t\tdocument.body.appendChild(cast canvas);\n\t\tgl = canvas.getContextWebGL();\n\t}\n\n\t/**\n\t * Creates and compiles a shader.\n\t *\n\t * @param {!WebGLRenderingContext} gl The WebGL Context.\n\t * @param {string} shaderSource The GLSL source code for the shader.\n\t * @param {number} shaderType The type of shader, VERTEX_SHADER or\n\t *  RenderingContext FRAGMENT_SHADER.\n\t * @return {!WebGLShader} The shader.\n\t */\n\tpublic function compileShader(gl:RenderingContext, shaderSource:String, shaderType:Int) {\n\t\t// Create the shader object\n\t\tvar shader = gl.createShader(shaderType);\n\n\t\t// Set the shader source code.\n\t\tgl.shaderSource(shader, shaderSource);\n\n\t\t// Compile the shader\n\t\tgl.compileShader(shader);\n\n\t\t// Check if it compiled\n\t\tvar success = gl.getShaderParameter(shader, RenderingContext.COMPILE_STATUS);\n\t\tif (!success) {\n\t\t\t// Something went wrong during compilation; get the error\n\t\t\tthrow \"could not compile shader:\" + gl.getShaderInfoLog(shader);\n\t\t}\n\n\t\treturn shader;\n\t}\n\n\t/**\n\t * Creates a program from 2 shaders.\n\t *\n\t * @param {!WebGLRenderingContext) gl The WebGL context.\n\t * @param {!WebGLShader} vertexShader A vertex shader.\n\t * @param {!WebGLShader} fragmentShader A fragment shader.\n\t * @return {!WebGLProgram} A program.\n\t */\n\tpublic function createProgram(gl:RenderingContext, vertexShader:Shader, fragmentShader:Shader) {\n\t\t// create a program.\n\t\tvar program = gl.createProgram();\n\n\t\t// attach the shaders.\n\t\tgl.attachShader(program, vertexShader);\n\t\tgl.attachShader(program, fragmentShader);\n\n\t\t// link the program.\n\t\tgl.linkProgram(program);\n\n\t\t// Check if it linked.\n\t\tvar success = gl.getProgramParameter(program, RenderingContext.LINK_STATUS);\n\t\tif (!success) {\n\t\t\t// something went wrong with the link\n\t\t\tthrow(\"program failed to link:\" + gl.getProgramInfoLog(program));\n\t\t}\n\n\t\treturn program;\n\t}\n\n\t/**\n\t * @exampe\n\t *          var shader = compileShaderFromScript(gl, \"someScriptTagId\");\n\t *\n\t * Creates a shader from the content of a script tag.\n\t *\n\t * @param {!WebGLRenderingContext} gl The WebGL Context.\n\t * @param {string} scriptId The id of the script tag.\n\t * @param {string} opt_shaderType. The type of shader to create.\n\t *     If not passed in will use the type attribute from the\n\t *     script tag.\n\t * @return {!WebGLShader} A shader.\n\t */\n\tpublic function createShaderFromScript(gl:RenderingContext, scriptId:String, ?shaderType:Int, ?opt_shaderType:String) {\n\t\t// look up the script tag by id.\n\t\tvar shaderScript:js.html.ScriptElement = cast document.getElementById(scriptId);\n\t\tif (shaderScript == null) {\n\t\t\tthrow(\"*** Error: unknown script element\" + scriptId);\n\t\t}\n\n\t\t// extract the contents of the script tag.\n\t\tvar shaderSource = shaderScript.text;\n\n\t\t// If we didn't pass in a type, use the 'type' from\n\t\t// the script tag.\n\t\tif (opt_shaderType == null) {\n\t\t\tif (shaderScript.type == \"x-shader/x-vertex\") {\n\t\t\t\t// opt_shaderType = RenderingContext.VERTEX_SHADER;\n\t\t\t\tshaderType = RenderingContext.VERTEX_SHADER;\n\t\t\t} else if (shaderScript.type == \"x-shader/x-fragment\") {\n\t\t\t\t// opt_shaderType = RenderingContext.FRAGMENT_SHADER;\n\t\t\t\tshaderType = RenderingContext.FRAGMENT_SHADER;\n\t\t\t}\n\t\t\tif (opt_shaderType == null) {\n\t\t\t\tthrow(\"*** Error: shader type not set\");\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn('this might be a good idea in js world, I am not so sure');\n\t\t}\n\n\t\treturn compileShader(gl, shaderSource, shaderType);\n\t};\n\n\t/**\n\t * Creates a program from 2 script tags.\n\t *\n\t * @param {!WebGLRenderingContext} gl The WebGL Context.\n\t * @param {string[]} shaderScriptIds Array of ids of the script\n\t *        tags for the shaders. The first is assumed to be the\n\t *        vertex shader, the second the fragment shader.\n\t * @return {!WebGLProgram} A program\n\t */\n\tpublic function createProgramFromScripts(gl:RenderingContext, shaderScriptIds:Array<String>) {\n\t\tvar vertexShader = createShaderFromScript(gl, shaderScriptIds[0], RenderingContext.VERTEX_SHADER);\n\t\tvar fragmentShader = createShaderFromScript(gl, shaderScriptIds[1], RenderingContext.FRAGMENT_SHADER);\n\t\treturn createProgram(gl, vertexShader, fragmentShader);\n\t}\n\n\t/**\n\t * setup a program with shader strings\n\t */\n\tpublic function setupProgram(vertexString:String, fragmentString:String):Program {\n\t\tvar vertex = gl.shaderFromString(RenderingContext.VERTEX_SHADER, vertexString);\n\t\tvar fragment = gl.shaderFromString(RenderingContext.FRAGMENT_SHADER, fragmentString);\n\t\tprogram = createProgram(gl, vertex, fragment);\n\t\t// program = gl.createShaderProgram(vertex, fragment);\n\t\treturn program;\n\t}\n\n\t/**\n\t * converts a shader string to a shader and compiles it.\n\t */\n\tpublic static inline function shaderFromString(gl:RenderingContext, shaderType:Int, shaderString:String) {\n\t\tvar shader = gl.createShader(shaderType);\n\t\tgl.shaderSource(shader, shaderString);\n\t\tgl.compileShader(shader);\n\t\treturn shader;\n\t}\n\n\t/**\n\t *      function drawScene() {\n\t *          resize(gl.canvas);\n\t *\t        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\t *\t   }\n\t *\t@param canvas\n\t */\n\tstatic public function resize(canvas:js.html.CanvasElement) {\n\t\t// Lookup the size the browser is displaying the canvas.\n\t\tvar displayWidth = canvas.clientWidth;\n\t\tvar displayHeight = canvas.clientHeight;\n\n\t\t// Check if the canvas is not the same size.\n\t\tif (canvas.width != displayWidth || canvas.height != displayHeight) {\n\t\t\t// Make the canvas the same size\n\t\t\tcanvas.width = displayWidth;\n\t\t\tcanvas.height = displayHeight;\n\t\t}\n\t}\n}\n"],
"names":[],
"mappings":"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"
}